<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Android package and import aar file - Nick Blog</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Nick Blog"><meta name="msapplication-TileImage" content="/img/favicon.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Nick Blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="We can import 3rd library in Android project with .jar or .aar file. But .jar file only contains .class files, can’t use resource files.For this reason, we use .aar file that can use resource file."><meta property="og:type" content="blog"><meta property="og:title" content="Android package and import aar file"><meta property="og:url" content="https://nickcarter9.github.io/2018/08/03/2018/2018_08_03-aar_packaged_import/"><meta property="og:site_name" content="Nick Blog"><meta property="og:description" content="We can import 3rd library in Android project with .jar or .aar file. But .jar file only contains .class files, can’t use resource files.For this reason, we use .aar file that can use resource file."><meta property="og:locale" content="en_US"><meta property="og:image" content="https://nickcarter9.github.io/images/2018/08_03/choose_no_activity.png"><meta property="og:image" content="https://nickcarter9.github.io/images/2018/08_03/can_not_build.png"><meta property="og:image" content="https://nickcarter9.github.io/images/2018/08_03/launch_nothing.png"><meta property="og:image" content="https://nickcarter9.github.io/images/2018/08_03/gradle_projects.png"><meta property="og:image" content="https://nickcarter9.github.io/images/2018/08_03/output_aar.png"><meta property="og:image" content="https://nickcarter9.github.io/images/2018/08_03/import_aar.png"><meta property="article:published_time" content="2018-08-03T03:00:00.000Z"><meta property="article:modified_time" content="2023-01-18T06:45:52.577Z"><meta property="article:author" content="Nick Lin"><meta property="article:tag" content="aar"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/images/2018/08_03/choose_no_activity.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://nickcarter9.github.io/2018/08/03/2018/2018_08_03-aar_packaged_import/"},"headline":"Android package and import aar file","image":["https://nickcarter9.github.io/images/2018/08_03/choose_no_activity.png","https://nickcarter9.github.io/images/2018/08_03/can_not_build.png","https://nickcarter9.github.io/images/2018/08_03/launch_nothing.png","https://nickcarter9.github.io/images/2018/08_03/gradle_projects.png","https://nickcarter9.github.io/images/2018/08_03/output_aar.png","https://nickcarter9.github.io/images/2018/08_03/import_aar.png"],"datePublished":"2018-08-03T03:00:00.000Z","dateModified":"2023-01-18T06:45:52.577Z","author":{"@type":"Person","name":"Nick Lin"},"publisher":{"@type":"Organization","name":"Nick Blog","logo":{"@type":"ImageObject","url":"https://nickcarter9.github.io/img/logo.png"}},"description":"We can import 3rd library in Android project with .jar or .aar file. But .jar file only contains .class files, can’t use resource files.For this reason, we use .aar file that can use resource file."}</script><link rel="canonical" href="https://nickcarter9.github.io/2018/08/03/2018/2018_08_03-aar_packaged_import/"><link rel="icon" href="/img/favicon.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><script data-ad-client="ca-pub-5418524234209657" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script><meta name="google-site-verification" content="wONvV1Oo51k5DsvNnSpe6EEwpaYJTbWAyVvQGdIJHa0"><meta name="generator" content="Hexo 5.4.2"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.png" alt="Nick Blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a><a class="navbar-item" href="https://nickcarter9.github.io/"> 繁中</a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><h1 class="title has-text-centered is-size-3 is-size-4-mobile has-text-weight-normal">Android package and import aar file</h1><div class="article-meta is-size-7 is-uppercase level-item is-mobile has-text-centered"><div class="level-left"><span class="level-item"><i class="far fa-calendar-alt"> </i><time dateTime="2018-08-03T03:00:00.000Z" title="2018-08-03T03:00:00.000Z">2018-08-03</time></span><span class="level-item">│</span><span class="level-item">Updated&nbsp;<i class="far fa-edit">&nbsp;</i>&nbsp;</i><time dateTime="2023-01-18T06:45:52.577Z" title="2023/1/18 下午2:45:52">2023-01-18</time></span><span class="level-item">│</span><span class="level-item"><i class="far fa-clock"> </i>2 minutes read</span><span class="level-item">│</span><span class="level-item"><i class="far fa-file-word"> </i>About 261 words</span></div></div><div class="content"><p>We can import 3rd library in Android project with .jar or .aar file.</p>
<p>But .jar file only contains .class files, can’t use resource files.<br>For this reason, we use .aar file that can use resource file.</p>
<span id="more"></span>

<blockquote class="colorquote infotitle"><p>Package .aar file </p>
</blockquote>
<p> Choose non-activity module.</p>
<p><img src="/images/2018/08_03/choose_no_activity.png" alt=" " title="Choose No Activity"></p>
<p>If this module show cann’t run or build.</p>
<p> <img src="/images/2018/08_03/can_not_build.png" alt=" " title="Unuse Build"></p>
<p> In Edit Configurations, change Launch Options is Nothing.</p>
<p>  <img src="/images/2018/08_03/launch_nothing.png" alt=" " title="LaunchOption Nothing"></p>
<blockquote class="colorquote step"><p>Step 1: Setup Output Mode</p>
</blockquote>

<p>The gradle definition of apply plugin is</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apply plugin: &#x27;com.android.application&#x27;  //output mode : apk</span><br><span class="line">apply plugin: &#x27;com.android.library&#x27;  //output mode :  library</span><br></pre></td></tr></table></figure>

<p>In build.gradle, setup output mode.</p>
<figure class="highlight plaintext"><figcaption><span>build.gradle</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apply plugin: &#x27;com.android.library&#x27; </span><br></pre></td></tr></table></figure>

<blockquote class="colorquote step"><p>Step 2: delete applicationId**</p>
</blockquote>

<figure class="highlight plaintext"><figcaption><span>build.gradle</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">defaultConfig &#123;</span><br><span class="line">    //applicationId &quot;com.nickthomas55gmail.testaar&quot;</span><br><span class="line">    ...</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<blockquote class="colorquote step"><p>Step 3: generate .aar file
 </p>
</blockquote>

<p>Open Gradle Projects <strong>(View -&gt; Tool Windows -&gt; Gradle)</strong> or click gradle button.</p>
<p>   <img src="/images/2018/08_03/gradle_projects.png" alt=" " title="Gradle Projects"></p>
<p> In projects root folder, click assemble.</p>
<p>  <img src="/images/2018/08_03/output_aar.png" alt=" " title="Build AAR"></p>
<p> After build, We can get the .aar file in build -&gt; outputs -&gt; aar folder.</p>
<blockquote class="colorquote info"><p>module_name-debug.aar<br>module_name-release.aar
  </p>
</blockquote>
 <blockquote class="colorquote infotitle"><p>Import  .aar file </p>
</blockquote>

<p>In Project Structure, choose Import Jar&#x2F;Aar Package to import .aar file.</p>
<p>  <img src="/images/2018/08_03/import_aar.png" alt=" " title="Import AAR"></p>
<p>At dependencies in build.gradle, add the line : compile project *** :module_name***</p>
<figure class="highlight plaintext"><figcaption><span>build.gradle</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">    compile project(&#x27;:module_name-release&#x27;)</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"> </span><br></pre></td></tr></table></figure>

<p>After that, we can use all classes and resources.</p>
</div><div class="article-licensing box"><div class="licensing-title"><p>Android package and import aar file</p><p><a href="https://nickcarter9.github.io/2018/08/03/2018/2018_08_03-aar_packaged_import/">https://nickcarter9.github.io/2018/08/03/2018/2018_08_03-aar_packaged_import/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>Nick Lin</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2018-08-03</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2023-01-18</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><hr style="height:1px;margin:1rem 0"><div class="level is-mobile is-flex"><div class="article-tags is-size-7 is-uppercase"><i class="fas fa-tags has-text-grey"></i> <a class="link-muted" rel="tag" href="/tags/aar/">aar </a></div></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2018/08/07/2018/2018_08_07-gradientdrawable/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Android GradientDrawable</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2018/07/17/2018/2018_07_17-camera2/"><span class="level-item">Android Camera2</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">Comments</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'https://nickcarter9.github.io/2018/08/03/2018/2018_08_03-aar_packaged_import/';
            this.page.identifier = '2018/08/03/2018/2018_08_03-aar_packaged_import/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'nick-code-cars' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.jpg" alt="Nick Lin"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Nick Lin</p><p class="is-size-6 is-block">Just Code It!</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Taiwan</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">20</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">19</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">18</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://www.facebook.com/nick.carter.52459" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/NickCarter9"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://www.facebook.com/nick.carter.52459"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Email" href="/nickthomas55@gmail.com"><i class="far fa-envelope"></i></a></div></div></div><!--!--><div class="card widget" data-type="adsense"><div class="card-content"><div class="menu"><h3 class="menu-label">Advertisement</h3><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5418524234209657" data-ad-slot="6117614777" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile" href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Icarus</span></span><span class="level-right"><span class="level-item tag">github.com</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.png" alt="Nick Blog" height="28"></a><p class="is-size-7"><span>&copy; 2023 Nick Lin</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><i></i></a></p></div><p class="is-size-7">Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo 5.4.0</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus 4.4.0</a></p></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>