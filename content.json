{"pages":[{"title":"About","text":"I am Nick. I have great passion to work in the computer science field.Work in Qisda Corporation as android developer. Majored in App UI Application. Here’s my first blog, sharing my research and thought. Any comment and sharing will be welcome. Links GitHub Page nickthomas55@gmail.com Technical Program Language:C/C++/C#、JAVA、Java Script、jQuery、QML、Swift、Swift UI、Kotiln、SQL Android Application:UI Design、LiveWallper(RenderScript)、Bluetooth、Bluetooth Low Energy、WiFi、Ethernet、TCP &amp; UDP、Http/Https、Customized LockScreen by xml design、Customized Launcher、SQLiteDatabase、Decrypt/Encrypt、OpenGL、Recorder、Customized Email、 ADB Command Line、JPush API、Facebook API、Twitter API、Plurk API、VLCPlayer API、SQLCipher API、Web Socket、Time Syncchronize、MQTT Server/Client Android Framework:Bluetooth、Ethernet、BT PAN Network、Customized LockScreen by xml design Android JNI Level:BT PAN Network、Simulate touch、move action by the instruction of WiFi or BT information. iOS Application:UI Design、Bluetooth Low Energy、Database、Plot Draw, Web Socket Web Development:UI Design、Kendo UI、RESTful API Employment 2013.3 - until nowQisda Corporation, Principal Engineer 2010.8 - 2013.3BenQ Corporation, Senior Engineer 2009.10 - 2010.8Research Assistant in NCCU","link":"/about/index.html"}],"posts":[{"title":"Android CardView","text":"CardView 為繼承 FrameLayout 的 Class. 向下相容需要 support v7 程式庫 : In build.gradlecompile ‘com.android.support:appcompat-v7:23.3.0’ CardView 屬性介紹 cardBackgroundColor : 背景顏色 White Black cardCornerRadius : 圓角 cardview:cardCornerRadius = “15dp”cardview:cardCornerRadius = “30dp” cardview:cardElevation : Z軸高度 cardview:cardElevation = “0dp”cardview:cardElevation = “10dp” 點擊效果 當CardView設置點擊時 可在xml 中設置 android:foreground=”?attr/selectableItemBackground” Source Code layout.xml123456789101112131415161718192021222324252627282930&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;android.support.v7.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot; android:id=&quot;@+id/main_cardview&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_gravity=&quot;center&quot; card_view:cardBackgroundColor=&quot;#ffffff&quot; card_view:cardCornerRadius=&quot;30dip&quot; card_view:contentPadding=&quot;10dp&quot; card_view:cardUseCompatPadding=&quot;true&quot; card_view:cardElevation=&quot;10dp&quot; android:foreground=&quot;?attr/selectableItemBackground&quot;&gt; &lt;ImageView android:id=&quot;@+id/cardview_image&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; android:src=&quot;@drawable/dsc_2013011902&quot; /&gt; &lt;TextView android:id=&quot;@+id/cardview_text&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_gravity=&quot;clip_horizontal&quot; android:text=&quot;@string/photo_title&quot; android:textColor=&quot;#ffffff&quot; android:background=&quot;#000000&quot; /&gt;&lt;/android.support.v7.widget.CardView&gt;","link":"/2016/05/25/2016/2016_05_25-android-cardview/"},{"title":"Android Elevation and shadows Z軸高度與陰影","text":"Android Material Design 中為了讓使用者更專注於某物件, 因此使用了3D空間的Z軸與陰影, 讓整體設計更具有立體感. 由上圖來看, 每個Menu與Sub-Menu之間有各自的高度與陰影, 使其畫面看起來具有立體感, 並且專注於最高層的Sub-Sub-Menu. Android 官方對於不同物件之間規定不同的層級, 且對於Pressed和Normal狀態也有特殊規定. Elevation (dp) Component 24 Dialog, Picker 16 Nav drawer, Right drawer, Modal bottom Sheet 12 Floating action button (FAB - pressed) 9 Sub menu (+1dp for each sub menu) 8 Bottom navigation bar, Menu, Card (when picked up), Raised button (pressed state) 6 Floating action button (FAB - resting elevation), Snackbar 4 App Bar 3 Refresh indicator, Quick entry / Search bar (scrolled state) 2 Card (resting elevation) , Raised button (resting elevation), Quick entry / Search bar (resting elevation) 1 Switch App bar : 4dp Raised button Resting state: 2dpPressed state: 8dp For desktop only, raised buttons can have an elevation of:Resting state: 0dpPressed state: 2dp Floating action button (FAB) Resting state: 6dpPressed state: 12dp Card Resting state: 2dpPressed state: 8dp On desktop, cards can have a resting elevation of 0dp and gain an elevation of 8dp on hover. Menus and sub menus Menus: 8dpSub menus: 9dp (+1 dp for each sub menu) Dialogs : 24dp Nav Drawer &amp; Right drawer : 16dp Modal bottom sheet : 16dp Refresh indicator : 3dp Quick entry/Search bar Resting state: 2dpScrolled state: 3dp Snackbar : 6dp Switch : 1dp","link":"/2016/05/25/2016/2016_05_25-android-elevation_shadows/"},{"title":"Android RippleDrawable","text":"RippleDrawable 水波紋動畫 Android 5.0 提供在點擊時, 顯示水波紋動畫, 來加強點擊效果. Step 1: 增加水波紋xml 先在drawable中增加水波紋xml : bt_ripple_background.xml bt_ripple_background.xml123&lt;ripple xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:color=&quot;#FFFF0000&quot;&gt;&lt;/ripple&gt; Step 2: 設定水波紋 在Button的背景設計上, 設定水波紋 layout.xml12345678910&lt;Button android:id=&quot;@+id/ripple_bt&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;0dp&quot; android:layout_weight=&quot;1&quot; android:background=&quot;@drawable/bt_ripple_background&quot; android:layout_gravity=&quot;center_horizontal&quot; android:text=&quot;Normal&quot; android:elevation=&quot;4dp&quot; /&gt; 點擊效果 水波紋動畫擴展至圓形填滿 可設定填滿效果 設置Mask, 讓水波紋填滿至四邊形大小 在drawable水波紋xml : bt_ripple_background.xml bt_ripple_background.xml12345&lt;ripple xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:color=&quot;#FFFF0000&quot;&gt; &lt;item android:id=&quot;@android:id/mask&quot; android:drawable=&quot;@android:color/white&quot; /&gt;&lt;/ripple&gt; 點擊效果 可設定預設顏色 設置Child Item Button 還未點擊前會先顯示預設背景, 當點擊後才顯示水波紋動畫.且Child Item的水波紋動畫, 亦具有Mask的效果. 在drawable水波紋xml : bt_ripple_background.xml bt_ripple_background.xml1234&lt;ripple xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:color=&quot;#FFFF0000&quot;&gt; &lt;item android:drawable=&quot;@android:color/holo_blue_light&quot; /&gt;&lt;/ripple&gt; 點擊效果 點擊時, 水波紋的顏色會與底層顏色做渲染.","link":"/2016/05/26/2016/2016_05_26-android-rippledrawable/"},{"title":"Android Button 設計","text":"Androia 5.0 將 Button 分為三個種類 Floating action button Raised button Flat button 各自的使用時機點為 Flat button : 在Layout同層中且畫面簡單的情況下使用Flat button 適用於Toolbars, Dialog, Inline, 文章的結尾 Raised button : 用於較複雜的頁面上 Floating action button: 頁面底部, 置頂按鈕","link":"/2016/05/26/2016/2016_05_26-android-button_design/"},{"title":"Android Toolbar","text":"Android 3.0 開始推出 ActionBar , 由於Google想要改善 Android 紛亂的介面設計 (設計的破碎化). 因此將 ActionBar 改為 Toorbar的設計 (界面上稱為 App Bar), 也取消了ActionBarActivity, 改為使用 AppCompatActivity. Basic Design Step 1: 新增style.xml 在 res/values/styles.xml 中新增風格 AppTheme.Toolbar.Base 並將原本的AppTheme所繼承的parent改為AppTheme.Toolbar.Base 由於主要是使用Toolbar, 所以先將ActionBar 隱藏起來, 設定windowActionBar = false styles.xml12345678&lt;resources&gt; &lt;style name=&quot;AppTheme&quot; parent=&quot;AppTheme.Toolbar.Base&quot;/&gt; &lt;style name=&quot;AppTheme.Toolbar.Base&quot; parent=&quot;Theme.AppCompat&quot;&gt; &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt; &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt; &lt;/style&gt;&lt;/resources&gt; Step 2: 新增toolbar 在layout中新增toolbar 並將內容設定為在ToolBar下方(目前內容只設定TextView) activity_main.xml1234567891011121314151617181920&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; tools:context=&quot;com.nickthomas55gmail.toolbar.MainActivity&quot;&gt; &lt;android.support.v7.widget.Toolbar android:id=&quot;@+id/toolbar&quot; android:layout_height=&quot;?attr/actionBarSize&quot; android:layout_width=&quot;match_parent&quot; /&gt; &lt;TextView android:layout_below=&quot;@+id/toolbar&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:text=&quot;Hello World!&quot;/&gt;&lt;/RelativeLayout&gt; Step 3: Toolbar 的宣告 在Activity中加入 Toolbar 的宣告, 再用 setSupportActionBar 設定，取代表原本的ActionBar MainActivity.java123456789101112131415import android.support.v7.app.AppCompatActivity;import android.os.Bundle;import android.support.v7.widget.Toolbar;public class MainActivity extends AppCompatActivity { @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar); setSupportActionBar(toolbar); }} 執行結果 顏色調配 Step 1: 設定風格 在 res/values/styles.xml 中設定風格顏色 clolorPrimary : 設定ActionBar 的背景顏色colorPrimary : 設定StatusBar 背景顏色android:windowBackground : 內容背景顏色 styles.xml123456789101112&lt;resources&gt; &lt;style name=&quot;AppTheme&quot; parent=&quot;AppTheme.Toolbar.Base&quot;/&gt; &lt;style name=&quot;AppTheme.Toolbar.Base&quot; parent=&quot;Theme.AppCompat&quot;&gt; &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt; &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt; &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt; &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt; &lt;item name=&quot;android:windowBackground&quot;&gt;@color/windowBackground&lt;/item&gt; &lt;/style&gt;&lt;/resources&gt; Step 2: 設定navigationBar顏色 (only for SDK 21) 由於此設定只能在Android 5.0 (SDK 21) 以上使用，所以我們新增value資料夾values-v21並新增style.xml 內容如下 values-v21/styles.xml123456&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;resources&gt; &lt;style name=&quot;AppTheme&quot; parent=&quot;AppTheme.Toolbar.Base&quot;&gt; &lt;item name=&quot;android:navigationBarColor&quot;&gt;@color/colorPrimaryDark&lt;/item&gt; &lt;/style&gt;&lt;/resources&gt; Step 3: Toolbar背景顏色 activity_main.xml123456789101112131415161718192021&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; tools:context=&quot;com.nickthomas55gmail.toolbar.MainActivity&quot;&gt; &lt;android.support.v7.widget.Toolbar android:id=&quot;@+id/toolbar&quot; android:layout_height=&quot;?attr/actionBarSize&quot; android:layout_width=&quot;match_parent&quot; android:background=&quot;@color/colorPrimary&quot; /&gt; &lt;TextView android:layout_below=&quot;@+id/toolbar&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:text=&quot;Hello World!&quot;/&gt;&lt;/RelativeLayout&gt; 執行結果 設置功能 設置Logo Icon, Navigation Icon, Title, Sub-Title MainActivity.java123456Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);toolbar.setLogo(R.drawable.toolbar_color);toolbar.setTitle(&quot;Title&quot;);toolbar.setSubtitle(&quot;sub title&quot;);setSupportActionBar(toolbar);toolbar.setNavigationIcon(R.drawable.toolbar_logo); 執行結果 設置Menu Component 在 res中新增資料夾ment並在資料夾中新增menu_main.xml 內容如下, 在此以Settings為例. menu_main.xml12345678910&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; tools:context=&quot;.MainActivity&quot;&gt; &lt;item android:id=&quot;@+id/action_settings&quot; android:title=&quot;@string/tool_setting&quot; android:orderInCategory=&quot;100&quot; app:showAsAction=&quot;never&quot;/&gt;&lt;/menu&gt; 在Activity中, Override onCreateOptionsMenu MainActivity.java12345@Overridepublic boolean onCreateOptionsMenu(Menu menu) { getMenuInflater().inflate(R.menu.menu_main, menu); return true;} Toolbar註冊 OnMenuItemClickListener MainActivity.java123456789101112131415161718192021@Overrideprotected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar); toolbar.setLogo(R.drawable.toolbar_color); toolbar.setTitle(&quot;Title&quot;); toolbar.setSubtitle(&quot;sub title&quot;); setSupportActionBar(toolbar); toolbar.setNavigationIcon(R.drawable.toolbar_logo); toolbar.setOnMenuItemClickListener(onMenuItemClick);}private Toolbar.OnMenuItemClickListener onMenuItemClick = new Toolbar.OnMenuItemClickListener() { @Override public boolean onMenuItemClick(MenuItem menuItem) { //... return true; }}; 畫面結果請參照執行結果 新增Oher Component 在res/menu/menu_main.xml新增Share, Edit Components menu_main.xml12345678910111213141516171819202122&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; tools:context=&quot;.MainActivity&quot;&gt; &lt;item android:id=&quot;@+id/action_edit&quot; android:title=&quot;@string/tool_edit&quot; android:orderInCategory=&quot;80&quot; android:icon=&quot;@drawable/edit&quot; app:showAsAction=&quot;ifRoom&quot; /&gt; &lt;item android:id=&quot;@+id/action_share&quot; android:title=&quot;@string/tool_share&quot; android:orderInCategory=&quot;90&quot; android:icon=&quot;@drawable/share&quot; app:showAsAction=&quot;ifRoom&quot; /&gt; &lt;item android:id=&quot;@+id/action_settings&quot; android:title=&quot;@string/tool_setting&quot; android:orderInCategory=&quot;100&quot; app:showAsAction=&quot;never&quot;/&gt;&lt;/menu&gt; 執行結果 若要設定Edit, Share, Setting的操作, 在OnMenuItemClickListener中撰寫功能. MainActivity.java12345678910111213141516171819202122private Toolbar.OnMenuItemClickListener onMenuItemClick = new Toolbar.OnMenuItemClickListener() { @Override public boolean onMenuItemClick(MenuItem menuItem) { String msg = &quot;&quot;; switch (menuItem.getItemId()) { case R.id.action_edit: msg += &quot;Click edit&quot;; break; case R.id.action_share: msg += &quot;Click share&quot;; break; case R.id.action_settings: msg += &quot;Click setting&quot;; break; } if(!msg.equals(&quot;&quot;)) { Toast.makeText(MainActivity.this, msg, Toast.LENGTH_SHORT).show(); } return true; }};","link":"/2016/05/27/2016/2016_05_27-android-toolbar/"},{"title":"Android Bottom Sheets","text":"Android 5.0 推出了底部選單列 - Bottom Sheets 讓使用者可由屏幕底端滑出選單, 提供選擇或是資訊, 也可設計成跳轉至不同App的選單列. 以下為設計步驟. Step 1: 引用 Design Library build.gradle123456dependencies { compile fileTree(dir: 'libs', include: ['*.jar']) testCompile 'junit:junit:4.12' compile 'com.android.support:appcompat-v7:23.3.0' compile 'com.android.support:design:23.3.0'} appcompat-v7 與 design 版本需相同.若使用appcompat-v7:23.3.0, 而design:23.2.0時, 無法使用. Step 2: 編輯 Bottom Sheet 內容 在res/layout 新增 xml 檔案 : bottom_sheets_main_layout.xml, 目前先使用 TextView 當作內容 bottom_sheets_main_layout.xml1234567891011121314151617181920&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot; android:id=&quot;@+id/bottom_sheet&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;300dp&quot; android:orientation=&quot;vertical&quot; android:padding=&quot;16dp&quot; android:background=&quot;@color/colorPrimary&quot; app:layout_behavior=&quot;@string/bottom_sheet_behavior&quot;&gt; &lt;TextView android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_gravity=&quot;center_horizontal&quot; android:text=&quot;Players&quot; android:textAppearance=&quot;@style/TextAppearance.AppCompat.Display1&quot; android:textColor=&quot;@color/colorAccent&quot;/&gt;&lt;/LinearLayout&gt; Step 3: 設置主畫面 在主畫面中, 使用CoordinatorLayout, 並引用Bottom Sheet內容. activity_main.xml1234567891011121314151617&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;android.support.design.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; tools:context=&quot;.MainActivity&quot; android:background=&quot;@color/colorPrimaryDark&quot;&gt; &lt;ImageView android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:src=&quot;@drawable/background&quot;/&gt; &lt;!-- Bottom Sheet --&gt; &lt;include layout=&quot;@layout/bottom_sheets_main_layout&quot; /&gt;&lt;/android.support.design.widget.CoordinatorLayout&gt; Step 4: 設置 Bottom Sheet 行為 在MainActivity.java, 使用 BottomSheetBehavior.from 載入BottomSheet內容, 並且設定BottomSheet行為. STATE_COLLAPSED : 必須搭配 setPeekHeight, 設定縮起後最小高度, 預設最小高度為0STATE_EXPANDED : 將內容全部展開STATE_HIDDEN : 全部隱藏 MainActivity.java12345678910111213141516171819import android.support.design.widget.BottomSheetBehavior;import android.support.v7.app.AppCompatActivity;import android.os.Bundle;import android.widget.LinearLayout;public class MainActivity extends AppCompatActivity { @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); LinearLayout bottomSheetViewgroup = (LinearLayout) findViewById(R.id.bottom_sheet); BottomSheetBehavior bottomSheetBehavior = BottomSheetBehavior.from(bottomSheetViewgroup); bottomSheetBehavior.setState(BottomSheetBehavior.STATE_COLLAPSED); bottomSheetBehavior.setPeekHeight(150); }} 執行結果 Bottom Sheet 分為兩種設計模式 Modal Bottom Sheets :使用時機: 與本頁無關的內容, 或是下一步的連結使用方式: Dialog 表示 (背景會暗掉) Persistent Bottom Sheets使用時機: 與本頁有關的內容使用方式: 內文表示 (背景不會暗掉, 亮度與Bottom Sheet一致) Persistent Bottom Sheets 拉動後 Modal Bottom Sheets 拉動後 Modal Bottom Sheets 的設計請參考Android Modal Bottom Sheets","link":"/2016/06/02/2016/2016_06_02-android-bottom_sheets/"},{"title":"Android Modal Bottom Sheets","text":"之前介紹過BottomSheets的兩種Type - Modal Bottom Sheets &amp; Persistent Bottom Sheets 請參考：Android - Bottom Sheets 此篇來介紹如何設計 Modal Bottom Sheets （BottomSheetDialog） Step 1: 新增 layout xml 在 res/layout 中新增 layout xml : bottom_sheet_dialog.xml 裡面包含一個TextView和RecyclerView (顯示球員名單) bottom_sheet_dialog.xml12345678910111213141516171819202122232425262728&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot; android:id=&quot;@+id/bottom_sheet_dialog&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;444dp&quot; android:elevation=&quot;8dp&quot; android:orientation=&quot;vertical&quot; android:padding=&quot;5dp&quot; android:background=&quot;@color/colorPrimary&quot; app:layout_behavior=&quot;@string/bottom_sheet_behavior&quot;&gt; &lt;TextView android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_gravity=&quot;center_horizontal&quot; android:text=&quot;Players&quot; android:textAppearance=&quot;@style/TextAppearance.AppCompat.Display1&quot; android:textColor=&quot;@color/colorAccent&quot;/&gt; &lt;android.support.v7.widget.RecyclerView android:id=&quot;@+id/recyclerView&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;wrap_content&quot; android:layout_marginBottom=&quot;5dp&quot; android:layout_marginTop=&quot;5dp&quot; /&gt;&lt;/LinearLayout&gt; Step 2: 新增BottomSheetDialog 在程式中設置BottomSheetDialog MainActivity.java12345678910111213ArrayList&lt;Player&gt; players = generatePlayers();PlayerAdapter adapter = new PlayerAdapter(players);View view = getLayoutInflater().inflate(R.layout.bottom_sheet_dialog, null);RecyclerView recyclerView = (RecyclerView) view.findViewById(R.id.recyclerView);recyclerView.setLayoutManager(new LinearLayoutManager(this));recyclerView.setAdapter(adapter);mBottomSheetDialog = new BottomSheetDialog(this);mBottomSheetDialog.setContentView(view);mPlayerBehavior = BottomSheetBehavior.from((View) view.getParent());mPlayerBehavior.setState(BottomSheetBehavior.STATE_EXPANDED); 在此必須注意 BottomSheetBehavior.from((View) view.getParent());必須在BottomSheetDialog.setContentView(view) 之後.否則會有NULL Exception發生. 每次使用BottomSheetDialog.show()之前, 需要使用BottonSheetBehavior.setState 重新設定高度 MainActivity.java12mPlayerBehavior.setState(BottomSheetBehavior.STATE_EXPANDED);mBottomSheetDialog.show(); 若無設定BottonSheetBehavior.setState的話, 當使用拖拉將BottomSheetDialog收起後, 下次呼叫BottomSheetDialog.show()時, 會出現暗掉卻無看見BottomSheetDialog的情況. 原因是BottomSheetDialog有出現, 但是位置在畫面下方. 由於在此範例中BottomSheetDialog為全域變數, 只有在程式開始時 OnCreate() 做初始設定. 之後只呼叫BottomSheetDialog.show來顯示, 但顯示位置為先前Dialog在畫面中的高度. 所以每當顯示時, 需要先重新設置高度.","link":"/2016/06/06/2016/2016_06_06-modal_bottom_sheets/"},{"title":"Android 自定義ListView","text":"每次想要製作ListView時, 都要先上網找尋文章, 才開始寫程式, 花費太多時間. 所以此篇文章主要是如何快速製作自定義的ListView. Step 1: 定義Item內容 在此例子中, 使用一個ImageView和TextView來製作 在res/layout中新增 list_item_content.xml 內容如下 list_item_content.xml1234567891011121314151617&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot;&gt; &lt;ImageView android:id=&quot;@+id/lock_icon&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:src=&quot;@drawable/lock&quot; /&gt; &lt;TextView android:id=&quot;@+id/ip_address&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_toRightOf=&quot;@id/lock_icon&quot;/&gt;&lt;/RelativeLayout&gt; Step 2: 建造Class來存放資料 新增Java Class : Device.java Device.java1234567891011public class Device { private String ip_addr; public Device(String ip) { this.ip_addr = ip; } public String getIp_addr() { return ip_addr; }} Step 3: 建造Adapter 新增Java Class DeviceItemAdapter.java DeviceItemAdapter.java1234567891011121314151617181920212223242526272829303132333435363738394041424344454647public class DeviceItemAdapter extends ArrayAdapter&lt;Device&gt; { private ArrayList&lt;Device&gt; mDevices; private LayoutInflater inflater; private class ViewHolder { ImageView lockIcon; TextView deviceIP; } public DeviceItemAdapter(Context context, ArrayList&lt;Device&gt; devices) { super(context, R.layout.list_item_content, devices); inflater = LayoutInflater.from(context); mDevices = devices; } @Override public int getCount() { return mDevices.size(); } @Override public Device getItem(int index) { return mDevices.get(index); } @Override public long getItemId(int position) { return mDevices.indexOf(getItem(position)); } @Override public View getView(int position, View convertView, ViewGroup parent) { ViewHolder holder; Device device = getItem(position); if (convertView == null) { convertView = inflater.inflate(R.layout.list_item_content, parent, false); holder = new ViewHolder(); holder.deviceIP = (TextView) convertView.findViewById(R.id.ip_address); convertView.setTag(holder); } else { holder = (ViewHolder) convertView.getTag(); } holder.deviceIP.setText(device.getIp_addr()); return convertView; }} Step 4: 設定ListView 主畫面的Layout中新增ListView main_layout.xml12345678&lt;ListView android:id=&quot;@+id/device_list&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; android:layout_above=&quot;@+id/find_devices&quot; android:layout_margin=&quot;5dp&quot; android:divider=&quot;@color/colorPrimary&quot; android:dividerHeight=&quot;1dp&quot;/&gt; 在Activity中設定ListView MainActivity.java1234ListView mDeviceList = (ListView) findViewById(R.id.device_list);ArrayList&lt;Device&gt; mDevices = new ArrayList&lt;&gt;();DeviceItemAdapter mDeviceItemAdapter = new DeviceItemAdapter(this.getApplicationContext(), mDevices);mDeviceList.setAdapter(mDeviceItemAdapter); 更新Listview MainActivity.java123Device device = new Device(deviceIP);mDevices.add(device);mDeviceItemAdapter.notifyDataSetChanged();","link":"/2016/06/23/2016/2016_06_23-custom_listview/"},{"title":"Android 呼叫系統鎖屏 - Password LockScreen","text":"這篇文章主要介紹如何使用程式碼呼叫系統鎖屏. Step 1: 增加權限 首先要先在AndroidManifest.xml 中增加權限 AndroidManifest.xml12&lt;uses-permission android:name=&quot;android.permission.DISABLE_KEYGUARD&quot; /&gt;&lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt; Step 2: 宣告使用權限 在res中新增加xml資料夾, 並在此xml資料夾中新增 lock_screen.xml lock_screen.xml1234567891011121314&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;device-admin xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt; &lt;uses-policies&gt; &lt;!-- 强行鎖定 --&gt; &lt;force-lock /&gt; &lt;!-- 重置密碼 --&gt; &lt;reset-password /&gt; &lt;!-- 限制密碼選擇 --&gt; &lt;limit-password /&gt; &lt;!-- 監控登錄 --&gt; &lt;watch-login /&gt; &lt;/uses-policies&gt;&lt;/device-admin&gt; Step 3: 新增AdminReceiver.java AdminReceiver.java123public class AdminReceiver extends DeviceAdminReceiver { private final String TAG = &quot;AdminReceiver&quot;;} AndroidManifest.xml 的設定 AndroidManifest.xml12345678910&lt;receiver android:name=&quot;.AdminReceiver&quot; android:label=&quot;@string/app_name&quot; android:description=&quot;@string/app_des&quot; android:permission=&quot;android.permission.BIND_DEVICE_ADMIN&quot;&gt; &lt;meta-data android:name=&quot;android.app.device_admin&quot; android:resource=&quot;@xml/lock_screen&quot; /&gt; &lt;intent-filter&gt; &lt;action android:name=&quot;android.app.action.DEVICE_ADMIN_ENABLED&quot; /&gt; &lt;/intent-filter&gt;&lt;/receiver&gt; Step 4: 宣告DevicePolicyManager 12private DevicePolicyManager mDevicePolicyManager = (DevicePolicyManager) getSystemService(Context.DEVICE_POLICY_SERVICE);private ComponentName mComponentName = new ComponentName(this, AdminReceiver.class); Step 5: 取得機器權限 1234Intent intent = new Intent(DevicePolicyManager.ACTION_ADD_DEVICE_ADMIN);intent.putExtra(DevicePolicyManager.EXTRA_DEVICE_ADMIN, mComponentName);intent.putExtra(DevicePolicyManager.EXTRA_ADD_EXPLANATION, &quot;------ 其他描述 ------&quot;);startActivityForResult(intent, 0); Step 6: 呼叫系統密碼鎖屏, 並設定密碼 1234mDevicePolicyManager.setPasswordQuality(mComponentName, DevicePolicyManager.PASSWORD_QUALITY_UNSPECIFIED);mDevicePolicyManager.setPasswordMinimumLength(mComponentName, 5);mDevicePolicyManager.resetPassword(&quot;nick6425&quot;, DevicePolicyManager.RESET_PASSWORD_REQUIRE_ENTRY);mDevicePolicyManager.lockNow(); Step 7: 取消密碼鎖屏, 恢復滑動鎖屏 此方法在Android 5.0.x 無法使用, Android 5.1.x已修正 123mDevicePolicyManager.setPasswordQuality(mComponentName, DevicePolicyManager.PASSWORD_QUALITY_UNSPECIFIED);mDevicePolicyManager.setPasswordMinimumLength(mComponentName, 0);mDevicePolicyManager.resetPassword(&quot;&quot;, DevicePolicyManager.RESET_PASSWORD_REQUIRE_ENTRY); Step 8: 取消機器權限 1mDevicePolicyManager.removeActiveAdmin(mComponentName);","link":"/2016/06/22/2016/2016_06_22-android-call_system_lockscreen/"},{"title":"Android ListView 設定 FootView","text":"當尋找Device或列出IP時, 使用ListView時, 想在List 列表底下顯示”搜尋中或讀取中”的提示時 可使用FootView來達成. Step 1: 新增footview.xml 在res/layout增加footview.xml footview.xml1234567891011&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot;&gt; &lt;ImageView android:id=&quot;@+id/list_foot&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_centerInParent=&quot;true&quot; android:src=&quot;@drawable/loading&quot;/&gt;&lt;/RelativeLayout&gt; Step 2: ListView add footview MainActivity.java12345ListView mDeviceList = (ListView) findViewById(R.id.device_list);mDeviceList.setOnItemClickListener(this);View footerView = ((LayoutInflater)this.getSystemService(LAYOUT_INFLATER_SERVICE)) .inflate(R.layout.listview_foot, null, false);mDeviceList.addFooterView(footerView); Step 3: 取消FootView的Divider main_layout.xml12345678910&lt;ListView android:id=&quot;@+id/device_list&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; android:layout_below=&quot;@id/title&quot; android:layout_above=&quot;@+id/find_devices&quot; android:layout_margin=&quot;5dp&quot; android:divider=&quot;@color/colorPrimary&quot; android:dividerHeight=&quot;1dp&quot; android:footerDividersEnabled=&quot;false&quot;/&gt;","link":"/2016/06/24/2016/2016_06_24-listview_footview/"},{"title":"iOS - 開啟藍芽","text":"當藍牙位開啟時，iOS 限制使用者在APP可打開或關閉藍牙的權限。因此目前只能進入設定來開啟或關閉。 當APP需要使用藍牙，但藍牙為關閉時，iOS會彈出訊息來提醒使用者。 Step 1: import CoreBluetooth Step 2: 新增 Class : BtManage 並且 extension potocol : CBCentralManagerDelegate Step 3: 新增參數 mCBCentralManager : CBCentralManager! Step 4: 初始化 mCBCentralManager 並設定參數 CBCentralManagerOptionShowPowerAlertKey = true CBCentralManagerOptionShowPowerAlertKey 參數預設值為 false, 當藍芽未開啟時, 並不會詢問使用者是否要開啟. 必須設定為 true , 當系統偵測到藍芽未開啟時, 才會詢問使用者. Step 5: 監聽藍芽 State 當開啟或關閉, 會由callback function : centralManagerDidUpdateState 返回結果 Source Code BtManager.swift123456789101112131415161718192021222324252627282930import Foundationimport CoreBluetoothclass BtManager : NSObject { var mCBCentralManager: CBCentralManager! override init() { super.init(); initCBCentralManager(); } internal func initCBCentralManager() { mCBCentralManager = CBCentralManager(delegate: self, queue: nil, options:[CBCentralManagerOptionShowPowerAlertKey: true]); }}extension BtManager : CBCentralManagerDelegate { func centralManagerDidUpdateState(central: CBCentralManager) { switch (central.state) { case CBCentralManagerState.PoweredOn: print(&quot;state On&quot;); case CBCentralManagerState.PoweredOff: print(&quot;state Off&quot;); case CBCentralManagerState.Unknown: fallthrough; default: print(&quot;state Unknow&quot;); } }} ViewController.swift12345678910111213import UIKitclass ViewController: UIViewController { var mBtManager : BtManager!; override func viewDidLoad() { super.viewDidLoad() mBtManager = BtManager(); } override func didReceiveMemoryWarning() { super.didReceiveMemoryWarning() }}","link":"/2016/07/05/2016/2016_07_05-ios-open_bluetooth/"},{"title":"iOS - 搜尋藍芽裝置","text":"當開啟藍芽後, 可進行搜索藍芽裝置. 如何設定與開啟藍芽裝置請參考: 開啟藍芽 Step 1: 偵測是否已開始搜尋藍芽 1mCBCentralManager.isScanning Step 2: 搜尋藍芽裝置 1mCBCentralManager.scanForPeripheralsWithServices(nil, options: nil); Step 3: 監聽搜尋裝置 找到/發現裝置時會經由callback function返回(CBCentralManagerDelegate potocol’s function) 12func centralManager(central: CBCentralManager, didDiscoverPeripheral peripheral: CBPeripheral, advertisementData: [String : AnyObject], RSSI: NSNumber)} Step 4: 停止搜尋裝置 1mCBCentralManager.stopScan(); Source Code 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657import Foundationimport CoreBluetoothclass BtManager : NSObject { var mCBCentralManager: CBCentralManager! override init() { super.init(); initCBCentralManager(); } internal func initCBCentralManager() { mCBCentralManager = CBCentralManager(delegate: self, queue: nil, options: [CBCentralManagerOptionShowPowerAlertKey: true]); } func isScanning() -&gt; Bool { return mCBCentralManager.isScanning; } func startToScan() { if (mCBCentralManager.state == CBCentralManagerState.PoweredOff) { print(&quot;state is off&quot;); initCBCentralManager(); } else { if (isScanning()) { print(&quot;state is scanning&quot;); } else { mCBCentralManager.scanForPeripheralsWithServices(nil, options: nil); print(&quot;start to scan: \\(isScanning())&quot;); } } } func stopScanning() { mCBCentralManager.stopScan(); }}extension BtManager : CBCentralManagerDelegate { func centralManagerDidUpdateState(central: CBCentralManager) { switch (central.state) { case CBCentralManagerState.PoweredOn: print(&quot;state On&quot;); case CBCentralManagerState.PoweredOff: print(&quot;state Off&quot;); case CBCentralManagerState.Unknown: fallthrough; default: print(&quot;state Unknow&quot;); } } func centralManager(central: CBCentralManager, didDiscoverPeripheral peripheral: CBPeripheral, advertisementData: [String : AnyObject], RSSI: NSNumber) { print(&quot;Device: \\(peripheral.name) : \\(peripheral.identifier.UUIDString)&quot;); }}","link":"/2016/07/05/2016/2016_07_05-ios-search_bluetooth_devices/"},{"title":"iOS - NavigationItem - Bar Button Item 按鈕圖形切換","text":"在NavigationItem中, 想要實現 Bar Button Item.System item的切換, 來達成開始搜尋藍芽與停止搜尋按鈕的轉換. Step 1: Add Bar Button Item 先在Navigation Item中, 新增Bar Button Item且System item設定為Search Step 2: 建立與程式的連結 Step 3: 撰寫切換按鈕圖案的程式碼 123456789private func changeToStopButton() { let stopScanningButton = UIBarButtonItem( barButtonSystemItem: UIBarButtonSystemItem.Stop, target: self, action: #selector(ViewController.stopScan)); self.navigationItem.rightBarButtonItem = stopScanningButton;}private func changeToScanButton() { let scanButton = UIBarButtonItem( barButtonSystemItem: UIBarButtonSystemItem.Search, target: self, action: #selector(ViewController.startScan)); self.navigationItem.rightBarButtonItem = scanButton;} Source Code 1234567891011121314151617181920212223242526272829303132333435363738import UIKitclass ViewController: UIViewController { var mBtManager : BtManager!; override func viewDidLoad() { super.viewDidLoad() mBtManager = BtManager(); } override func didReceiveMemoryWarning() { super.didReceiveMemoryWarning() } @IBAction func prepareScan(sender: AnyObject) { startScan(); } func startScan() { mBtManager.startToScan(); changeToStopButton(); } func stopScan() { mBtManager.stopScanning(); changeToScanButton(); } private func changeToStopButton() { let stopScanningButton = UIBarButtonItem( barButtonSystemItem: UIBarButtonSystemItem.Stop, target: self, action: #selector(ViewController.stopScan)); self.navigationItem.rightBarButtonItem = stopScanningButton; } private func changeToScanButton() { let scanButton = UIBarButtonItem( barButtonSystemItem: UIBarButtonSystemItem.Search, target: self, action: #selector(ViewController.startScan)); self.navigationItem.rightBarButtonItem = scanButton; }}","link":"/2016/07/06/2016/2016_07_06-ios-navigationbar_baritem/"},{"title":"iOS - Tabview 分成不同 Group","text":"當我們想將 TabVIew 分為２個 Group 時, 如 已搜尋到的藍芽裝置和已連接上的藍芽裝置, 可利用 Header 或 Footer來分隔. Step 1: 在主畫面中拉進TableView , 並在 TableView中拉進 TableView Cell Step 2: 繼承 UITableViewDataSource Protocol 並實做 群組個數由於目前我們要分成2個Group, 所以設置為兩個sections 123func numberOfSectionsInTableView(tableView: UITableView) -&gt; Int { return 2;} 群組名稱此範例利用 Header來設定名稱 12345678910func tableView(tableView: UITableView, titleForHeaderInSection section: Int) -&gt; String? { switch (section) { case 0: return &quot;Found Devices:&quot;; case 1: return &quot;Connected Devices:&quot;; default: return &quot;Unknow&quot;; }} 各群組資料數量, 在此我們先設定為０ 12345678910func tableView(tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int { switch (section) { case 0: return 0; case 1: return 0; default: return 0; }} 設定TableViewCell在.storyboard中, 設定參考 Cell 名稱 1234func tableView(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath) -&gt; UITableViewCell { let cell: UITableViewCell = UITableViewCell( style:UITableViewCellStyle.Subtitle, reuseIdentifier: &quot;deviceCell&quot;); return cell;}","link":"/2016/07/07/2016/2016_07_07-ios-tableview_diff_group/"},{"title":"Android InstrumentationTestCase","text":"針對Android 單元測試中, 若要執行與Android API 相關的測試時, 我們可用 Instrumented Test 的方式來測試. (請參閱 Android App Test 基本概念) 這類型的測試會啟動instrumentation Test Runner，可以模擬 Android 事件 Step 1: 建立取得當前網路狀況的函數 （被測試函數） NetworkUtils.java123456789101112131415public class NetworkUtils { public static boolean isNetworkConnected(Context context) { ConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context .CONNECTIVITY_SERVICE); NetworkInfo nInfo = cm.getActiveNetworkInfo(); if (null != nInfo &amp;&amp; nInfo.isConnected() &amp;&amp; nInfo.isAvailable()) { return true; } else { return false; } }} Step 2: 建立測試檔 利用 Ctrl + Shift + T 建立 NetworkUtilsTest.java 並繼承 InstrumentationTestCase 位置儲存於 /src/androidTest/java/ package_path / Step 3: 確認測試檔 確認測試檔是否位於 AndroidTest 中 之前有發生過錯誤 Class not found: “XXX.XXX.XXX” Empty test suite. 原因是測試檔不是屬於AndroidTest (使用Clean Build後重新新增測試檔也沒用), 後來將原先的測試檔從Junit 中移除才解決 Run -&gt; Edit Configuations 若發現測試檔案不屬於AndroidTest, 先刪除相關測試後, 再重新執行Step 2. Step 4: 確認 test compiler 打開build.gradle 確認 dependencies 中有增加testCompile 123456dependencies { compile fileTree(include: ['*.jar'], dir: 'libs') testCompile 'junit:junit:4.12' testCompile 'org.mockito:mockito-core:1.9.5' compile 'com.android.support:appcompat-v7:23.1.1'} Step 5: 增加權限 打開AndroidManifest.xml 增加 permission AndroidManifest.xml1&lt;uses-permission android:name=&quot;android.permission.RUN_INSTRUMENTATION&quot; /&gt; 並宣告要測試的package AndroidManifest.xml123&lt;instrumentation android:name=&quot;android.test.InstrumentationTestRunner&quot; android:targetPackage=&quot;com.projects.nick&quot; /&gt; 在application 中增加 runner library AndroidManifest.xml1&lt;uses-library android:name=&quot;android.test.runner&quot; /&gt; 完整寫法 AndroidManifest.xml12345678910111213141516171819202122232425262728293031&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; package=&quot;com.projects.nick&quot;&gt; &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt; &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt; &lt;uses-permission android:name=&quot;android.permission.RUN_INSTRUMENTATION&quot; /&gt; &lt;instrumentation android:name=&quot;android.test.InstrumentationTestRunner&quot; android:targetPackage=&quot;com.projects.nick&quot; /&gt; &lt;application android:allowBackup=&quot;true&quot; android:icon=&quot;@mipmap/ic_launcher&quot; android:label=&quot;@string/app_name&quot; android:supportsRtl=&quot;true&quot; android:theme=&quot;@style/AppTheme&quot;&gt; &lt;uses-library android:name=&quot;android.test.runner&quot; /&gt; &lt;activity android:name=&quot;.MainActivity&quot;&gt; &lt;intent-filter&gt; &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt; &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt; &lt;/intent-filter&gt; &lt;/activity&gt; &lt;/application&gt;&lt;/manifest&gt; Step 5: Run Test Project列表中, 在測試檔點擊右鍵, 執行","link":"/2016/07/27/2016/2016_07_27-android-app_instrumentation_test/"},{"title":"Android App Test 基本概念","text":"依據測試, 可分為單元測試 (Unit Test) 與整合測試 (Integration Test) 兩大類. 再細分為 Unit Test Local Unit Test: 適用於和Android API 較無相關性的測試 Instrumented Test: 與Android API 有相關性的測試 Integration Test Components within your app only: 功能整合性測試 Cross-app Components: 整體App測試 關於 Android 單元測試(Unit Test) , 目前依據測試類型分為兩種 Local Unit Test 適用於和Android API 較無相關性的測試. 如： 123public int add(int num1, int num2) { return num1 + num2 ;} 此類型的測試可在local Java Virtual Machine (JVM) 上執行測試, 速度較快. 測試檔案需放在 module-name/src/test/java/ 路徑下. Instrumented Test 和Android API 有相關性的測試. 如 ： 12345678910111213public static boolean isNetworkConnected(Context context) { ConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context .CONNECTIVITY_SERVICE); NetworkInfo nInfo = cm.getActiveNetworkInfo(); if (null != nInfo &amp;&amp; nInfo.isConnected() &amp;&amp; nInfo.isAvailable()) { return true; } else { return false; }} 此類型的測試在實機上或模擬器上做測試 測試檔案需放在 module-name/src/androidTest/java/ 路徑下.","link":"/2016/07/27/2016/2016_07_27-android-app_test_basic/"},{"title":"Android Instrumented Test","text":"針對Android 單元測試中, 若要執行與Android API 相關的測試時, 我們可用 Instrumented Test 的方式來測試. (請參閱 Android App Test 基本概念) Android Instrumented Test 的架構圖如下: InstrumentationTestCase : 這類型的測試會啟動instrumentation Test Runner. 可以模擬 Android 事件, 而傳送訊息給應用程式, 如click event. 因此可以對UI進行自動化測試. AndroidTestCase 此類型適用於non- UI 的測試, 如database操作測試或Service相關測試","link":"/2016/07/27/2016/2016_07_27-android-instrumented_test/"},{"title":"Android ActivityUnitTestCase","text":"對於Android 單元測試來說, 若滿足以下測試條件, 可選用 ActivityUnitTestCase 來測試 (1) 針對單一Activity 測試, 不涉及其他Activity交互作用. 如startActivityForResult 的返回結果做測試.(2) 對UI進行自動化測試 (祖父類別 InstrumentationTestCase 參考資料: Android InstrumentationTestCase) ActivityUnitTestCase 運用範例 一個Activity中含有一個EditText, TextView, Button EditText : 使用者輸入框TextView : 呈現使用者輸入框的內容Button : 點擊Button , 將EditText的內容呈現在TextView Step 1: 建立測試檔 MainActivityTest extends ActivityUnitTest 使用 Ctrl + Shift + T 建立測試檔, 並選擇 subclass 為 ActivityUnitTest位置儲存於 /src/androidTest/java/ package_path / Step 2: 初始化 建立測試元件 123456private Intent mStartIntent;MainActivity mMainActivity;private Button mTestButton;private EditText mEditText;private TextView mTextView; 建立Constructor 123public MainActivityTest() { super(MainActivity.class);} 當每項測試前, 都會將測試元件初始化 1234567891011121314151617@Overrideprotected void setUp() throws Exception { super.setUp(); mStartIntent = new Intent(Intent.ACTION_MAIN); mMainActivity = startActivity(mStartIntent, null, null); assertNotNull(mMainActivity); mTestButton = (Button) mMainActivity.findViewById(R.id.test_bt); assertNotNull(mTestButton); mEditText = (EditText) mMainActivity.findViewById(R.id.enter); assertNotNull(mEditText); mTextView = (TextView) mMainActivity.findViewById(R.id.show_text); assertNotNull(mTextView);} Step 3: 測試預設值 12345678910@UiThreadTestpublic void testInitialization() { String sourceText = null; String targetText = null; sourceText = mEditText.getText().toString(); targetText = mTextView.getText().toString(); assertEquals(&quot;&quot;, sourceText); assertEquals(&quot;Enter..&quot;, targetText);} 由於在 res/layout/activity_main.xml 中 EditText 和 TextView 的初始設定為 activity_main.xml1234567891011121314&lt;EditText android:id=&quot;@+id/enter&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;wrap_content&quot; android:layout_centerInParent=&quot;true&quot; /&gt;&lt;TextView android:id=&quot;@+id/show_text&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_below=&quot;@id/enter&quot; android:text=&quot;Enter...&quot; android:layout_centerHorizontal=&quot;true&quot;/&gt; 所以測試項 assertEquals(“Enter..”, targetText); 會無法通過測試 (少了一個點號) 錯誤訊息如下 Step 4: 測試未點擊 Test Button 的情況 12345678910111213@UiThreadTestpublic void testNotChanged() { String sourceText = null; String targetText = null; mEditText.setText(&quot;Not Click Test Button&quot;); sourceText = mEditText.getText().toString(); targetText = mTextView.getText().toString(); assertEquals(&quot;Not Click Test Button&quot;, sourceText); assertEquals(sourceText, targetText);} 雖然EditText內容以被更改, 但還未點擊 Test Button 時, TextView 的內容不會被更改, 所以測試項目 assertEquals(sourceText, targetText) 會無法通過測試. 錯誤訊息如下 Step 5: 測試點擊 Test Button 的情況 1234567891011121314@UiThreadTestpublic void testShowText() { String sourceText = null; String targetText = null; mEditText.setText(&quot;Click Test Button&quot;); mTestButton.performClick(); sourceText = mEditText.getText().toString(); targetText = mTextView.getText().toString(); assertEquals(&quot;Click Test Button&quot;, sourceText); assertEquals(&quot;Click Test Button&quot;, targetText); assertEquals(sourceText, targetText);} 點擊 Test Button後, TextView 的內容會更改為EditText內容 所以此測試項為 Pass Source Code 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071public class MainActivityTest extends ActivityUnitTestCase&lt;MainActivity&gt; { private Intent mStartIntent; MainActivity mMainActivity; private Button mTestButton; private EditText mEditText; private TextView mTextView; public MainActivityTest() { super(MainActivity.class); } @Override protected void setUp() throws Exception { super.setUp(); mStartIntent = new Intent(Intent.ACTION_MAIN); mMainActivity = startActivity(mStartIntent, null, null); assertNotNull(mMainActivity); mTestButton = (Button) mMainActivity.findViewById(R.id.test_bt); assertNotNull(mTestButton); mEditText = (EditText) mMainActivity.findViewById(R.id.enter); assertNotNull(mEditText); mTextView = (TextView) mMainActivity.findViewById(R.id.show_text); assertNotNull(mTextView); } @UiThreadTest public void testInitialization() { String sourceText = null; String targetText = null; sourceText = mEditText.getText().toString(); targetText = mTextView.getText().toString(); assertEquals(&quot;&quot;, sourceText); assertEquals(&quot;Enter..&quot;, targetText); } @UiThreadTest public void testNotChanged() { String sourceText = null; String targetText = null; mEditText.setText(&quot;Not Click Test Button&quot;); sourceText = mEditText.getText().toString(); targetText = mTextView.getText().toString(); assertEquals(&quot;Not Click Test Button&quot;, sourceText); assertEquals(sourceText, targetText); } @UiThreadTest public void testShowText() { String sourceText = null; String targetText = null; mEditText.setText(&quot;Click Test Button&quot;); mTestButton.performClick(); sourceText = mEditText.getText().toString(); targetText = mTextView.getText().toString(); assertEquals(&quot;Click Test Button&quot;, sourceText); assertEquals(&quot;Click Test Button&quot;, targetText); assertEquals(sourceText, targetText); }} ps: @UiThreadTest 的順序會根據命名來決定順序 (請參考 Android SingleLaunchActivityTestCase - Step 6)","link":"/2016/07/28/2016/2016_07_28-android-activity_unit_test/"},{"title":"Android Local Unit Test","text":"針對Android 單元測試中, 對於不需要測試實機環境的函數時, 我們可用 Local Unit Test 的方式來測試. (請參閱 Android App Test 基本概念) 在談到如何建立測試之前, 首先先了解 JUnit 的測試順序. JUnit4 測試順序由Annotation決定 @BeforeClass : 在開始第一個測試前執行@Before : 每次測試前執行@Test : 表示要執行此區段裡的測試碼@Test(timeout=5000) : 可設定多少時間內要完成的測試項目@After : 每次測試後執行@AfterClass : 全部測試完畢後執行 如以下內容 1234567891011121314151617181920212223242526272829303132public class MathUtilsTest { @BeforeClass public static void testBeforeClass() { assertEquals(0, 0); } @Before public void testBefore() { assertEquals(0, 0); } @Test public void testTest1() { assertEquals(0, 0); } @Test public void testTest2() { assertEquals(0, 0); } @After public void testAfter() { assertEquals(0, 0); } @AfterClass public static void testAfterClass() { assertEquals(0, 0); }} 則順序為 testBeforeClass() -&gt; testBefore() -&gt; testTest1() -&gt; testAfter() -&gt; testBefore() -&gt; testTest2() -&gt; testAfter() -&gt; testAfterClass() Step 1: 建立函數 （被測試函數） MathUtils.java123456789101112public class MathUtils { public static long nearestPowOf2(int num) { num -= 1; num |= num &gt;&gt; 1; num |= num &gt;&gt; 2; num |= num &gt;&gt; 4; num |= num &gt;&gt; 8; num |= num &gt;&gt; 16; num += 1; return num; }} 此範例為找到下一個2次方的數. 如輸入10, 則回傳為 16因為 2^3 = 8, 2^4 = 16, 而 8 &lt; 10 &lt; 16所以下一個2次方的數為16 Step 2: 建立測試檔 利用 Ctrl + Shift + T 建立 MathUtilsTest.java 位置儲存於 /src/test/java/ package_path / Step 3: 確認測試檔是否位於 JUnit 中 Run -&gt; Edit Configuations若發現測試檔案不屬於JUnit, 先刪除相關測試後, 再重新執行Step 2. Step 4: Run Test Project列表中, 在測試檔點擊右鍵, 執行","link":"/2016/07/27/2016/2016_07_27-android-unit_test/"},{"title":"Android - ADB Driver 設定","text":"在Windows 7 上, 遇到更新Android 驅動程式依舊無法使用的問題. 上網下載Google 所提供 Driver 也無法使用, adb device 依舊找不到Android手機裝置. 看來是Window 7 對於更新驅動程式的方式有所改變. 上網搜尋了一下, 找到了解決方法. Step 1: 先到Google 官網抓取Driver Google Usb Driver Step 2: 選擇更新驅動程式 Step 3: 讓我從電腦上的裝置驅動程式清單中挑選 Step 4: 選擇顯示所有裝置 Step 5: 選擇從磁片中安裝 Step 6: 指定到驅動程式路徑, 並選擇 android_winusb.inf Step 7: 出現ADB的資訊, 選擇 Android ADB Interface Step 8: 安裝完成","link":"/2016/07/28/2016/2016_07_28-android-adb_install/"},{"title":"Android SingleLaunchActivityTestCase","text":"對於Android 單元測試來說, 若滿足以下測試條件, 可選用 SingleActivityTestCase 來測試 (1) 針對單一Activity 測試, 不涉及其他Activity交互作用. 如startActivityForResult 的返回結果做測試.(2) 對UI進行自動化測試(3) 只需要一次初始化 (setUp()) 與結束 (tearDown()), 亦即每個測試項目不會重複執行 setUp() 與 tearDown() 此測試類別和 ActivityUnitTestCase 相似, 只差在 ActivityUnitTestCase的每個測試項目會重複執行 setUp() 與 tearDown() 請參閱 Android ActivityUnitTestCase @UiThreadTest 的順序會根據命名來決定順序 SingleActivityTestCase 運用範例 一個Activity中含有一個EditText, TextView, ButtonEditText : 使用者輸入框TextView : 呈現使用者輸入框的內容Button : 點擊Button , 將EditText的內容呈現在TextView Step 1: 建立測試檔 建立測試檔 MainActivityTest_Single_Launch extends SingleLaunchActivityTestCase 使用 Ctrl + Shift + T 建立測試檔, 並選擇 subclass 為 SingleLaunchActivityTestCase 位置儲存於 /src/androidTest/java/ package_path / Step 2: 初始化 建立測試元件 12345MainActivity mMainActivity;private Button mTestButton;private EditText mEditText;private TextView mTextView; 建立Constructor 123public MainActivityTest_Single_Launch() { super(&quot;com.projects.nick&quot;, MainActivity.class);} 測試元件初始化 123456789@Overrideprotected void setUp() throws Exception { super.setUp(); mMainActivity = (MainActivity) getActivity(); mTestButton = (Button) mMainActivity.findViewById(R.id.test_bt); mEditText = (EditText) mMainActivity.findViewById(R.id.enter); mTextView = (TextView) mMainActivity.findViewById(R.id.show_text);} 元件初始化測試 123456public void testPreConditions(){ assertNotNull(mMainActivity); assertNotNull(mTestButton); assertNotNull(mEditText); assertNotNull(mTextView);} Step 3: 測試預設值 12345@UiThreadTestpublic void testInitialization() { assertEquals(&quot;&quot;, mEditText.getText().toString()); assertEquals(&quot;Enter..&quot;, mTextView.getText().toString());} 由於在 res/layout/activity_main.xml 中 EditText 和 TextView 的初始設定為 activity_main.xml1234567891011121314&lt;EditText android:id=&quot;@+id/enter&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;wrap_content&quot; android:layout_centerInParent=&quot;true&quot; /&gt;&lt;TextView android:id=&quot;@+id/show_text&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_below=&quot;@id/enter&quot; android:text=&quot;Enter...&quot; android:layout_centerHorizontal=&quot;true&quot;/&gt; 所以測試項 assertEquals(“Enter..”, targetText); 會無法通過測試 (少了一個點號) 錯誤訊息如下 Step 4: 測試未點擊 Test Button 的情況 1234567@UiThreadTestpublic void testNotChanged() { mEditText.setText(&quot;Not Click Test Button&quot;); assertEquals(&quot;Not Click Test Button&quot;, mEditText.getText().toString()); assertNotSame(mEditText.getText().toString(), mTextView.getText().toString());} 雖然EditText內容以被更改, 但還未點擊 Test Button 時, TextView 的內容不會被更改, 所以測試項目 assertEquals(sourceText, targetText) 會無法通過測試. 錯誤訊息如下 Step 5: 測試點擊 Test Button 的情況 123456789@UiThreadTestpublic void testShowText() { mEditText.setText(&quot;Click Test Button&quot;); mTestButton.performClick(); assertEquals(&quot;Click Test Button&quot;, mEditText.getText().toString()); assertEquals(&quot;Click Test Button&quot;, mTextView.getText().toString()); assertEquals(mEditText.getText().toString(), mTextView.getText().toString());} 點擊 Test Button後, TextView 的內容會更改為EditText內容 所以此測試項為 Pass Step 6: 再度測試內容 1234@UiThreadTestpublic void testTestAgain() { testInitialization();} 若將此測試項移至ActivityUnitTestCase 是可被測試通過的.因為ActivityUnitTestCase的會重複執行 setUp() 與 tearDown().所以EditText和TextView都被初始化了. 但是在SingleActivityTestCase 並不會再度執行setUp() 與 tearDown().EditText和TextView的內容依舊為 “Click Test Button”所以此測試項無法通過測試. 先前我們有提到 @UiThreadTest 的順序會根據命名來決定順序, 若將此測試項名稱改為 1234@UiThreadTestpublic void testInitializationAgain() { testInitialization();} 是可以通過測試的, 所以在命名上要小心. Source Code 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364public class MainActivityTest_Single_Launch extends SingleLaunchActivityTestCase { MainActivity mMainActivity; private Button mTestButton; private EditText mEditText; private TextView mTextView; public MainActivityTest_Single_Launch() { super(&quot;com.projects.nick&quot;, MainActivity.class); } @Override protected void setUp() throws Exception { super.setUp(); mMainActivity = (MainActivity) getActivity(); mTestButton = (Button) mMainActivity.findViewById(R.id.test_bt); mEditText = (EditText) mMainActivity.findViewById(R.id.enter); mTextView = (TextView) mMainActivity.findViewById(R.id.show_text); } public void testPreConditions(){ assertNotNull(mMainActivity); assertNotNull(mTestButton); assertNotNull(mEditText); assertNotNull(mTextView); } @UiThreadTest public void testInitialization() { assertEquals(&quot;&quot;, mEditText.getText().toString()); assertEquals(&quot;Enter...&quot;, mTextView.getText().toString()); } @UiThreadTest public void testNotChanged() { mEditText.setText(&quot;Not Click Test Button&quot;); assertEquals(&quot;Not Click Test Button&quot;, mEditText.getText().toString()); assertNotSame(mEditText.getText().toString(), mTextView.getText().toString()); } @UiThreadTest public void testShowText() { mEditText.setText(&quot;Click Test Button&quot;); mTestButton.performClick(); assertEquals(&quot;Click Test Button&quot;, mEditText.getText().toString()); assertEquals(&quot;Click Test Button&quot;, mTextView.getText().toString()); assertEquals(mEditText.getText().toString(), mTextView.getText().toString()); } @UiThreadTest public void testTestAgain() { testInitialization(); } @Override protected void tearDown() throws Exception { super.tearDown(); }}","link":"/2016/07/28/2016/2016_07_28-android-single_launch_activity_unit_test/"},{"title":"Android InstrumentationTestCase Part II","text":"對於Android 單元測試來說, 若滿足以下測試條件, 可選用 ActivityInstrumentationTestCase2 (Function Test) 來測試 (1) 針對單一Activity 測試, 不涉及其他Activity交互作用.(2) 對UI進行自動化測試(3) 可對裝置使用程式來模擬輸入, 點擊 等UI 事件. 與ActivityUnitTestCase (Unit Test) 的最大不同點為: 可對裝置使用程式來模擬輸入, 點擊 等UI 事件. Step 1: 建立測試檔 建立測試檔 MainActivityTest_AIT2 extends ActivityInstrumentationTestCase2 使用 Ctrl + Shift + T 建立測試檔, 並選擇 subclass 為 ActivityInstrumentationTestCase2 位置儲存於 /src/androidTest/java/ package_path / Step 2: 初始化 建立測試元件 123456private Intent mStartIntent;MainActivity mMainActivity;private Button mTestButton;private EditText mEditText;private TextView mTextView; 建立Constructor 123public MainActivityTest_AIS2() { super(MainActivity.class);} 當每項測試前, 都會將測試元件初始化 12345678910111213141516@Overrideprotected void setUp() throws Exception { super.setUp(); mMainActivity = (MainActivity) getActivity(); mTestButton = (Button) mMainActivity.findViewById(R.id.test_bt); mEditText = (EditText) mMainActivity.findViewById(R.id.enter); mTextView = (TextView) mMainActivity.findViewById(R.id.show_text);}public void testPreconditions() { assertNotNull(mMainActivity); assertNotNull(mTestButton); assertNotNull(mEditText); assertNotNull(mTextView); assertNotNull(mMainActivity);} Step 3: 對輸入框執行輸入 123456789101112Instrumentation instrumentation = getInstrumentation();assertNotNull(instrumentation);instrumentation.runOnMainSync(new Runnable() { @Override public void run() { mEditText.requestFocus(); }});instrumentation.waitForIdleSync();instrumentation.sendStringSync(&quot;Click Test Button&quot;);instrumentation.waitForIdleSync(); Step 4: 點擊Test按鈕, 修改TextView 123456789instrumentation.runOnMainSync(new Runnable() { @Override public void run() { mTestButton.requestFocus(); }});instrumentation.waitForIdleSync();instrumentation.sendKeyDownUpSync(KeyEvent.KEYCODE_ENTER);instrumentation.waitForIdleSync(); Step 5: 執行測試 123assertEquals(&quot;Click Test Button&quot;, mEditText.getText().toString());assertEquals(&quot;Click Test Button&quot;, mTextView.getText().toString());assertEquals(mEditText.getText().toString(), mTextView.getText().toString()); Source Code 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960public class MainActivityTest_AIT2 extends ActivityInstrumentationTestCase2 { MainActivity mMainActivity; private Button mTestButton; private EditText mEditText; private TextView mTextView; public MainActivityTest_AIT2() { super(MainActivity.class); } @Override protected void setUp() throws Exception { super.setUp(); mMainActivity = (MainActivity) getActivity(); mTestButton = (Button) mMainActivity.findViewById(R.id.test_bt); mEditText = (EditText) mMainActivity.findViewById(R.id.enter); mTextView = (TextView) mMainActivity.findViewById(R.id.show_text); } public void testPreconditions() { assertNotNull(mMainActivity); assertNotNull(mTestButton); assertNotNull(mEditText); assertNotNull(mTextView); assertNotNull(mMainActivity); } @MediumTest public void testShowText() { Instrumentation instrumentation = getInstrumentation(); assertNotNull(instrumentation); instrumentation.runOnMainSync(new Runnable() { @Override public void run() { mEditText.requestFocus(); } }); instrumentation.waitForIdleSync(); instrumentation.sendStringSync(&quot;Click Test Button&quot;); instrumentation.waitForIdleSync(); instrumentation.runOnMainSync(new Runnable() { @Override public void run() { mTestButton.requestFocus(); } }); instrumentation.waitForIdleSync(); instrumentation.sendKeyDownUpSync(KeyEvent.KEYCODE_ENTER); instrumentation.waitForIdleSync(); assertEquals(&quot;Click Test Button&quot;, mEditText.getText().toString()); assertEquals(&quot;Click Test Button&quot;, mTextView.getText().toString()); assertEquals(mEditText.getText().toString(), mTextView.getText().toString()); }}","link":"/2016/08/01/2016/2016_08_01-android-app_instrumentation_test_2/"},{"title":"Android ServiceTestCase","text":"此篇主要試探討如何測試Android Service Class. 若測試中和Android API較無關係的話, 我們可將測試檔案放於module-name/src/test/java/ 路徑下. 若與Android API 相關的測試, 需將測試檔案放於module-name/src/androidTest/java/ 路徑下. (請參閱 Android App Test 基本概念) 在此篇我們使用Wifi 開關來做例子, 與Android API 相關, 所以需將測試檔案放於module-name/src/androidTest/java/ 路徑下 Step 1: 建造Service 類別 建造Service 類別, 並新增函數為開啟Wifi MainService.java123456789101112131415161718192021222324252627282930public class MainService extends Service { private final String TAG = &quot;Nick MainService&quot;; private final IBinder myLocalBinder = new ServiceBinder(); public class ServiceBinder extends Binder { public MainService getService() { return MainService.this; } } @Nullable @Override public IBinder onBind(Intent intent) { return myLocalBinder; } public void onCreate() { Log.w(TAG,&quot;onCreate&quot;); } public void enableWifi() { WifiManager wifiManager = (WifiManager) this.getSystemService(WIFI_SERVICE); wifiManager.setWifiEnabled(true); } public void onDestroy() { Log.w(TAG,&quot;onDestroy&quot;); }} Step 2: 建立測試檔 利用 Ctrl + Shift + T 建立 MainServiceTest.java 並繼承 InstrumentationTestCase Step 3: 測試 測試 startService 與 bindService 測試 startService 123456789@SmallTestpublic void testStartable() { Intent startIntent = new Intent(); startIntent.setClass(getContext(), MainService.class); startService(startIntent); MainService service = (MainService) getService(); assertNotNull(service);} 測試 bindService 12345678910@MediumTestpublic void testBindable() { Intent startIntent = new Intent(); startIntent.setClass(getContext(), MainService.class); IBinder serviceBinder = bindService(startIntent); assertNotNull(serviceBinder); MainService service = ((MainService.ServiceBinder) serviceBinder).getService(); assertNotNull(service);} Step 4: 測試開啟Wifi 功能 於setUp 取得context控制權, 並於tearDown() 釋放context控制權 123456789101112@Overridepublic void setUp() throws Exception { super.setUp(); Log.w(TAG, &quot;setUp&quot;); mContext = getContext();}@Overridepublic void tearDown() throws Exception { Log.w(TAG, &quot;tearDown&quot;); mContext = null; super.tearDown();} 測試開啟Wifi 功能 12345678910111213141516@MediumTestpublic void testEnableWifi() throws InterruptedException { Intent startIntent = new Intent(); startIntent.setClass(getContext(), MainService.class); IBinder serviceBinder = bindService(startIntent); assertNotNull(serviceBinder); MainService service = ((MainService.ServiceBinder) serviceBinder).getService(); assertNotNull(service); service.enableWifi(); Thread.sleep(1000); WifiManager wifiManager = (WifiManager) mContext.getSystemService(Context.WIFI_SERVICE); assertEquals(true, wifiManager.isWifiEnabled());} Source Code 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061public class MainServiceTest extends ServiceTestCase { private final String TAG = &quot;Nick MainServiceTest&quot;; private Context mContext; public MainServiceTest() { super(MainService.class); } @Override public void setUp() throws Exception { super.setUp(); Log.w(TAG, &quot;setUp&quot;); mContext = getContext(); } @SmallTest public void testStartable() { Intent startIntent = new Intent(); startIntent.setClass(getContext(), MainService.class); startService(startIntent); MainService service = (MainService) getService(); assertNotNull(service); } @MediumTest public void testBindable() { Intent startIntent = new Intent(); startIntent.setClass(getContext(), MainService.class); IBinder serviceBinder = bindService(startIntent); assertNotNull(serviceBinder); MainService service = ((MainService.ServiceBinder) serviceBinder).getService(); assertNotNull(service); } @MediumTest public void testEnableWifi() throws InterruptedException { Intent startIntent = new Intent(); startIntent.setClass(getContext(), MainService.class); IBinder serviceBinder = bindService(startIntent); assertNotNull(serviceBinder); MainService service = ((MainService.ServiceBinder) serviceBinder).getService(); assertNotNull(service); service.enableWifi(); Thread.sleep(1000); WifiManager wifiManager = (WifiManager) mContext.getSystemService(Context.WIFI_SERVICE); assertEquals(true, wifiManager.isWifiEnabled()); } @Override public void tearDown() throws Exception { Log.w(TAG, &quot;tearDown&quot;); mContext = null; super.tearDown(); }}","link":"/2016/08/14/2016/2016_08_14-android-service_test_case/"},{"title":"Android ProviderTestCase2","text":"先前講過Activity Test, Unit Test, Service Test, 此篇來探討如何對Database做自動化測試. 由於Database為Android API 相關的測試, 需將測試檔案放於module-name/src/androidTest/java/ 路徑下. (請參閱 Android App Test 基本概念) Step 1: 產生測試檔 利用 Ctrl + Shift + T 建立 MainContentProviderTest.java並繼承ProviderTestCase2 Step 2: 初始化 傳入要測試的Class檔, 以及Database權限 123public MainContentProviderTest() { super(MainContentProvider.class, MainDbContract.AUTHORITY);} 需與AndroidManifest.xml 中宣告的權限一致. AndroidManifest.xml123&lt;provider android:name=&quot;.database.MainContentProvider&quot; android:authorities=&quot;com.projects.nick.database&quot; android:exported=&quot;false&quot; /&gt; Step 3: 建立自動化測試 資料插入測試 123456789101112131415@SmallTestpublic void testInsert() { Uri uri = MainDbContract.getWarriorsUri(); ContentValues values = new ContentValues(); values.put(Warriors.COLUMN_NAME, &quot;Thompson&quot;); values.put(Warriors.COLUMN_NUMBER, 11); // 插入後會產生一筆插入時的uri Uri resultingUri = getMockContentResolver().insert(uri, values); //檢查此筆uri不為NUll assertNotNull(resultingUri); //可根據此筆uri 查詢到在database的index long id = ContentUris.parseId(resultingUri); //檢查此筆index 有值 assertTrue(id &gt; 0); } 刪除資料測試 123456789101112@SmallTestpublic void testDelete() { //先插入一筆資料 testInsert(); Uri uri = MainDbContract.getWarriorsUri(); String selection = Warriors.COLUMN_NAME + &quot;=?&quot;; String[] selections = new String[] {&quot;Thompson&quot;}; //刪除資料, 並回傳刪除數量 int count = getMockContentResolver().delete(uri, selection, selections); assertEquals(1, count);} Source Code 1234567891011121314151617181920212223242526272829303132333435363738394041public class MainContentProviderTest extends ProviderTestCase2&lt;MainContentProvider&gt; { public MainContentProviderTest() { super(MainContentProvider.class, MainDbContract.AUTHORITY); } @Override protected void setUp() throws Exception { super.setUp(); } @SmallTest public void testInsert() { Uri uri = MainDbContract.getWarriorsUri(); ContentValues values = new ContentValues(); values.put(Warriors.COLUMN_NAME, &quot;Thompson&quot;); values.put(Warriors.COLUMN_NUMBER, 11); Uri resultingUri = getMockContentResolver().insert(uri, values); // 插入後會產生一筆插入時的uri assertNotNull(resultingUri); //檢查此筆uri不為NUll long id = ContentUris.parseId(resultingUri); //可根據此筆uri 查詢到在database的index assertTrue(id &gt; 0); //檢查此筆index 有值 } @SmallTest public void testDelete() { //先插入一筆資料 testInsert(); Uri uri = MainDbContract.getWarriorsUri(); String selection = Warriors.COLUMN_NAME + &quot;=?&quot;; String[] selections = new String[] {&quot;Thompson&quot;}; //刪除資料, 並回傳刪除數量 int count = getMockContentResolver().delete(uri, selection, selections); assertEquals(1, count); } @Override protected void tearDown() throws Exception { super.tearDown(); }}","link":"/2016/08/16/2016/2016_08_16-android-provider-test/"},{"title":"iOS - Loading View","text":"在一些情況下, 我們需要使用動畫來表示下載, 讀取等UI 顯示. 可使用 UIActivityIndicatorView 來表示. Step 1: 在畫面上新增 UIActivityIndicatorView Object Step 2: 與程式建立連結 開始動畫mLoadingView.startAnimating(); 停止動畫mLoadingView.stopAnimating(); 當動畫停止時隱藏mLoadingView.hidesWhenStopped = true;","link":"/2016/08/15/2016/2016_08_25-ios-loading_view/"},{"title":"iOS - 搜尋藍芽裝置 Part II - 避免搜尋到重複的裝置","text":"之前介紹過如何搜尋藍芽裝置 （請參考搜尋藍芽裝置） 接下來我們使用 Dictionary 來記錄搜尋到的裝置 Step 1: 新增Class BtDevice 來存放裝置資訊 BtDevice.swift123456import Foundationstruct BtDevice { var uuid: String!; var name: String?;} Step 2: Create Dictionary 使用 Bluetooth UUID 當作 Key 12var mFoundDevices : Dictionary&lt;String , BtDevice&gt;!;mFoundDevices = [String : BtDevice](); Step 3: 將發現的裝置存放在Dictionary 12345678func centralManager(central: CBCentralManager, didDiscoverPeripheral peripheral: CBPeripheral, advertisementData: [String : AnyObject], RSSI: NSNumber) { print(&quot;Device: \\(peripheral.name) : \\(peripheral.identifier.UUIDString)&quot;); let btUuid = peripheral.identifier.UUIDString; let btName = peripheral.name let btDevice = BtDevice(uuid: btUuid, name: btName); mFoundDevices[btUuid] = btDevice;} Step 4: 過濾已發現的裝置 由於搜尋藍芽裝置時，可能會搜尋到重複的裝置，所以我們需要先過濾此裝置是否已被搜尋過. 若是還未搜尋到的裝置再加入Dictionary中. 123456789101112131415161718func centralManager(central: CBCentralManager, didDiscoverPeripheral peripheral: CBPeripheral, advertisementData: [String : AnyObject], RSSI: NSNumber) { print(&quot;Device: \\(peripheral.name) : \\(peripheral.identifier.UUIDString)&quot;); if (!isAlreadyFound(peripheral.identifier.UUIDString)) { insertFoundDevice(peripheral.identifier.UUIDString, newName: peripheral.name); } else { print(&quot;This Device is discovered: \\(peripheral.identifier.UUIDString)&quot;); } } internal func isAlreadyFound(uuid : String!) -&gt; Bool { return mFoundDevices[uuid] != nil; } internal func insertFoundDevice(newUuid: String!, newName: String?) { let btDevice = BtDevice(uuid: newUuid, name: newName); mFoundDevices[newUuid] = btDevice; } Step 5: 清空 Dictionary 在搜尋前, 我們也必須先清空搜尋過的資料. 1mFoundDevices.removeAll(); Source Code 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182import Foundationimport CoreBluetoothclass BtManager : NSObject { var mCBCentralManager: CBCentralManager! var mFoundDevices : Dictionary&lt;String , BtDevice&gt;!; override init() { super.init(); initCBCentralManager(); mFoundDevices = [String : BtDevice](); } internal func initCBCentralManager() { mCBCentralManager = CBCentralManager(delegate: self, queue: nil, options: [CBCentralManagerOptionShowPowerAlertKey: true]); } func isScanning() -&gt; Bool { return mCBCentralManager.isScanning; } func startToScan() { if (mCBCentralManager.state == CBCentralManagerState.PoweredOff) { print(&quot;state is off&quot;); initCBCentralManager(); } else { if (isScanning()) { print(&quot;state is scanning&quot;); } else { clearAllFoundDevices(); mCBCentralManager.scanForPeripheralsWithServices(nil, options: nil); print(&quot;start to scan: \\(isScanning())&quot;); } } } func stopScanning() { mCBCentralManager.stopScan(); }} extension BtManager : CBCentralManagerDelegate { func centralManagerDidUpdateState(central: CBCentralManager) { switch (central.state) { case CBCentralManagerState.PoweredOn: print(&quot;state On&quot;); case CBCentralManagerState.PoweredOff: print(&quot;state Off&quot;); case CBCentralManagerState.Unknown: fallthrough; default: print(&quot;state Unknow&quot;); } } func centralManager(central: CBCentralManager, didDiscoverPeripheral peripheral: CBPeripheral, advertisementData: [String : AnyObject], RSSI: NSNumber) { print(&quot;Device: \\(peripheral.name) : \\(peripheral.identifier.UUIDString)&quot;); if (!isAlreadyFound(peripheral.identifier.UUIDString)) { insertFoundDevice(peripheral.identifier.UUIDString, newName: peripheral.name); } else { print(&quot;This Device is discovered: \\(peripheral.identifier.UUIDString)&quot;); } } internal func isAlreadyFound(uuid : String!) -&gt; Bool { return mFoundDevices[uuid] != nil; } internal func insertFoundDevice(newUuid: String!, newName: String?) { let btDevice = BtDevice(uuid: newUuid, name: newName); mFoundDevices[newUuid] = btDevice; } internal func clearAllFoundDevices() { mFoundDevices.removeAll(); }}","link":"/2016/08/25/2016/2016_08_25-ios-search_bluetooth_devices_2/"},{"title":"iOS - 顯示藍芽搜尋裝置","text":"此篇主要是如何顯示藍芽裝置 結合之前搜尋藍芽裝置與 TableView分為兩個群組的文章做個整合. Step 1: 建立BtDelegate protocol BtDelegate 主要是將搜尋到的藍芽裝置, 傳回給上層UI 12345import Foundationprotocol BtDelegate { func findBtDevice(name: String?)} Step 2: BtManager 搜尋到裝置後, 通知上層UI 12345678910111213141516class BtManager : NSObject { var mCBCentralManager: CBCentralManager! //callback manager var delegate : BtDelegate? func centralManager(central: CBCentralManager, didDiscoverPeripheral peripheral: CBPeripheral, advertisementData: [String : AnyObject], RSSI: NSNumber) { print(&quot;Device: \\(peripheral.name) : \\(peripheral.identifier.UUIDString)&quot;); if (!isAlreadyFound(peripheral.identifier.UUIDString)) { insertFoundDevice(peripheral.identifier.UUIDString, newName: peripheral.name); delegate!.findBtDevice(peripheral.name); } else { print(&quot;This Device is discovered: \\(peripheral.identifier.UUIDString)&quot;); } } Step 3: ViewController 繼承 BtDelegate, 並設定給 BtManager 123456789101112131415class ViewController: UIViewController { var mBtManager : BtManager!; override func viewDidLoad() { super.viewDidLoad() mBtManager = BtManager(); mBtManager.delegate = self; } extension ViewController: BtDelegate { func findBtDevice(name: String?) { print(&quot;Find Device: \\(name)&quot;); } }} Step 4: 顯示於TableView 上 UITableView 與程式建立連結 監聽TableView Data Change 1mDeviceTableView.dataSource = self; 插入資料到TableViewCell 中 在此例子中, 我們將新資料插到最後一排.首先先在 BtManage.swift 中取得目前搜尋到裝置的個數 123456class BtManager : NSObject { var mFoundDevices : Dictionary&lt;String , BtDevice&gt;!; func getFoundDevicesSize() -&gt; Int { return mFoundDevices.count; }} 插入資料 (由於搜尋到的裝置我們放在Group 1 , 所以 inSection : 0) 123456789extension ViewController: BtDelegate { func findBtDevice(name: String?) { print(&quot;Find Device: \\(name)&quot;); let indexPath = NSIndexPath( forRow: mBtManager.getFoundDevicesSize()-1, inSection: 0); mDeviceTableView.insertRowsAtIndexPaths([indexPath], withRowAnimation: UITableViewRowAnimation.Automatic); }} 設定目前Row個數 12345678910func tableView(tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int { switch (section) { case 0: return mBtManager.getFoundDevicesSize(); case 1: return 0; default: return 0; } } 設定TableViewCell內容 首先在BtManager.swift中, 取得BT Device Name 123456789func getFoundDeviceName(index: Int) -&gt; String? { print(&quot;index: \\(index)&quot;); let keyIndex = mFoundDevices.startIndex.advancedBy(index); print(&quot;keyIndex: \\(keyIndex)&quot;); let key = mFoundDevices.keys[keyIndex]; print(&quot;key: \\(key)&quot;); let btDevice = mFoundDevices[key]!; return btDevice.name;} 設定內容 12345678910111213func tableView(tableView: UITableView,cellForRowAtIndexPath indexPath: NSIndexPath) -&gt; UITableViewCell { var deviceName : String?; switch(indexPath.section) { case 0: deviceName = mBtManager.getFoundDeviceName(indexPath.row); default: deviceName = &quot;Unknow&quot;; } let cell: UITableViewCell = UITableViewCell( style:UITableViewCellStyle.Subtitle, reuseIdentifier: &quot;deviceCell&quot;); cell.textLabel?.text = &quot;Device Name: \\(deviceName)&quot;; return cell; } Step 5: 重新搜尋時, 必須清空TableView內容 12345678910func startScan() { mLoadingView.startAnimating(); mBtManager.startToScan(); cleanAllFoundDevices(); changeToStopButton();}private func cleanAllFoundDevices() { mDeviceTableView.reloadData();} Source Code BtDevice class 的定義可參考iOS - 搜尋藍芽裝置 Part II - 避免搜尋到重複的裝置 BtManager.swift123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596import Foundationimport CoreBluetoothclass BtManager : NSObject { var mCBCentralManager: CBCentralManager! //callback manager var delegate : BtDelegate? var mFoundDevices : Dictionary&lt;String , BtDevice&gt;!; override init() { super.init(); initCBCentralManager(); mFoundDevices = [String : BtDevice](); } internal func initCBCentralManager() { mCBCentralManager = CBCentralManager(delegate: self, queue: nil, options: [CBCentralManagerOptionShowPowerAlertKey: true]); } func isScanning() -&gt; Bool { return mCBCentralManager.isScanning; } func startToScan() { if (mCBCentralManager.state == CBCentralManagerState.PoweredOff) { print(&quot;state is off&quot;); initCBCentralManager(); } else { if (isScanning()) { print(&quot;state is scanning&quot;); } else { clearAllFoundDevices(); mCBCentralManager.scanForPeripheralsWithServices(nil, options: nil); print(&quot;start to scan: \\(isScanning())&quot;); } } } func stopScanning() { mCBCentralManager.stopScan(); } func getFoundDevicesSize() -&gt; Int { return mFoundDevices.count; } func getFoundDeviceName(index: Int) -&gt; String? { print(&quot;index: \\(index)&quot;); let keyIndex = mFoundDevices.startIndex.advancedBy(index); print(&quot;keyIndex: \\(keyIndex)&quot;); let key = mFoundDevices.keys[keyIndex]; print(&quot;key: \\(key)&quot;); let btDevice = mFoundDevices[key]!; return btDevice.name; }}extension BtManager : CBCentralManagerDelegate { func centralManagerDidUpdateState(central: CBCentralManager) { switch (central.state) { case CBCentralManagerState.PoweredOn: print(&quot;state On&quot;); case CBCentralManagerState.PoweredOff: print(&quot;state Off&quot;); case CBCentralManagerState.Unknown: fallthrough; default: print(&quot;state Unknow&quot;); } } func centralManager(central: CBCentralManager, didDiscoverPeripheral peripheral: CBPeripheral, advertisementData: [String : AnyObject], RSSI: NSNumber) { print(&quot;Device: \\(peripheral.name) : \\(peripheral.identifier.UUIDString)&quot;); if (!isAlreadyFound(peripheral.identifier.UUIDString)) { insertFoundDevice(peripheral.identifier.UUIDString, newName: peripheral.name); delegate!.findBtDevice(peripheral.name); } else { print(&quot;This Device is discovered: \\(peripheral.identifier.UUIDString)&quot;); } } internal func isAlreadyFound(uuid : String!) -&gt; Bool { return mFoundDevices[uuid] != nil; } internal func insertFoundDevice(newUuid: String!, newName: String?) { let btDevice = BtDevice(uuid: newUuid, name: newName); mFoundDevices[newUuid] = btDevice; } internal func clearAllFoundDevices() { mFoundDevices.removeAll(); }} ViewController.swift123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104import UIKitclass ViewController: UIViewController { var mBtManager : BtManager!; @IBOutlet weak var mLoadingView: UIActivityIndicatorView! @IBOutlet weak var mDeviceTableView: UITableView! override func viewDidLoad() { super.viewDidLoad() mBtManager = BtManager(); mBtManager.delegate = self; mLoadingView.stopAnimating(); mLoadingView.hidesWhenStopped = true; mDeviceTableView.dataSource = self; } override func didReceiveMemoryWarning() { super.didReceiveMemoryWarning() } @IBAction func prepareScan(sender: AnyObject) { startScan(); } func startScan() { mLoadingView.startAnimating(); mBtManager.startToScan(); cleanAllFoundDevices(); changeToStopButton(); } private func cleanAllFoundDevices() { mDeviceTableView.reloadData(); } func stopScan() { mLoadingView.stopAnimating(); mBtManager.stopScanning(); changeToScanButton(); } private func changeToStopButton() { let stopScanningButton = UIBarButtonItem(barButtonSystemItem: UIBarButtonSystemItem.Stop, target: self, action: #selector(ViewController.stopScan)); self.navigationItem.rightBarButtonItem = stopScanningButton; } private func changeToScanButton() { let scanButton = UIBarButtonItem(barButtonSystemItem: UIBarButtonSystemItem.Search, target: self, action: #selector(ViewController.startScan)); self.navigationItem.rightBarButtonItem = scanButton; }}extension ViewController : UITableViewDataSource { func numberOfSectionsInTableView(tableView: UITableView) -&gt; Int { return 2; } func tableView(tableView: UITableView, titleForHeaderInSection section: Int) -&gt; String? { switch (section) { case 0: return &quot;Found Devices:&quot;; case 1: return &quot;Connected Devices:&quot;; default: return &quot;Unknow&quot;; } } func tableView(tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int { switch (section) { case 0: return mBtManager.getFoundDevicesSize(); case 1: return 0; default: return 0; } } func tableView(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath) -&gt; UITableViewCell { var deviceName : String?; switch(indexPath.section) { case 0: deviceName = mBtManager.getFoundDeviceName(indexPath.row); default: deviceName = &quot;Unknow&quot;; } let cell: UITableViewCell = UITableViewCell( style:UITableViewCellStyle.Subtitle, reuseIdentifier: &quot;deviceCell&quot;); cell.textLabel?.text = &quot;Device Name: \\(deviceName)&quot;; return cell; }}extension ViewController: BtDelegate { func findBtDevice(name: String?) { print(&quot;Find Device: \\(name)&quot;); let indexPath = NSIndexPath(forRow: mBtManager.getFoundDevicesSize()-1, inSection: 0); mDeviceTableView.insertRowsAtIndexPaths([indexPath], withRowAnimation: UITableViewRowAnimation.Automatic); }}","link":"/2016/08/25/2016/2016_08_25-ios-show_bluetooth_devices/"},{"title":"iOS - 客製化Dialog","text":"此篇主要介紹如何客製化Dialog。 Step 1: 新增 View Controller storyboard中有兩個View Controller一個為主畫面, 畫面中有呼叫Custom Dialog 的 button一個為Dialog畫面. Step 2: 修改為透明背景 將Dialog畫面 (View Object), 設定背景顏色, 並調整透明度 Step 3: 取消Opaque選項 將Dialog畫面 (View Object)的Opaque選項取消 Step 4: 調整UIViewController 將Transition Style 調整為 Cross Dissolve將Presentation 調整為Over Current Context Step 5: 建立Action Segue 在主畫面的Show Custom Dialog按下右鍵並拖曳到Dialog UIViewController選取Action Segue: Present Modally Step 6: 增加View至Dialog UIViewController Step 7: 在View中客製化元件 執行結果","link":"/2016/09/30/2016/2016_09_30-ios-custom_dialog/"},{"title":"iOS - 動態調整Dialog 高度","text":"承上篇 - iOS - 客製化Dialog 若Dialog中有 TextField的時候, 可能會被軟體鍵盤所蓋住因此必須使用動態調整Dialog的方式來解決. Step 1: 監聽與取消監聽軟體鍵盤變化 在viewWillAppear監聽軟體鍵盤變化在viewWillDisappear取消監聽 123456789101112131415161718override func viewWillAppear(animated: Bool) { NSNotificationCenter.defaultCenter().addObserver(self, selector: #selector(Dialog.keyboardWillShow(_:)), name: UIKeyboardWillShowNotification, object: nil) NSNotificationCenter.defaultCenter().addObserver(self, selector: #selector(Dialog.keyboardWillHidden(_:)), name: UIKeyboardWillHideNotification, object: nil) } override func viewWillDisappear(animated: Bool) { NSNotificationCenter.defaultCenter().removeObserver(self, name: UIKeyboardWillShowNotification, object: nil) NSNotificationCenter.defaultCenter().removeObserver(self, name: UIKeyboardWillHideNotification, object: nil) } func keyboardWillShow(notification: NSNotification) { } func keyboardWillHidden(notification: NSNotification) { } Step 2: Reference TextField and 監聽TextField選取變化 如果有多個TextField時, 每個TextField的位置都不一樣, 所以我們必須得知目前被選到的TextField是哪一個. 設立變數 1var selectedEditText : UITextField? 註冊TextField delegate 12345@IBOutlet weak var mEditText: UITextField! override func viewDidLoad() { super.viewDidLoad() mEditText.delegate = self; } 監聽TextField選取變化 1234567891011121314extension Dialog : UITextFieldDelegate { func textFieldDidBeginEditing(textField: UITextField) { selectedEditText = textField } func textFieldShouldReturn(textField: UITextField) -&gt; Bool { textField.resignFirstResponder() return true } func textFieldDidEndEditing(textField: UITextField) { selectedEditText = nil }} Step 3: 將畫面向上調整 由於我們需要計算Dialog View在整個Frame的y軸位置, 所以必須先reference Dialog View後, 再使用mDialogView.frame.origin.y 得知y軸位置. 取得鍵盤高度 123456func keyboardWillShow(notification: NSNotification) { let userInfo: NSDictionary? = notification.userInfo let aValue: NSValue? = userInfo?.objectForKey(UIKeyboardFrameEndUserInfoKey) as? NSValue let keyboardRect = aValue?.CGRectValue() let keyboardHeight = keyboardRect?.size.height} 計算輸入框和鍵盤高度的差值 由上圖得知 self.view.frame.size.height - keyboardHeight = 畫面剩餘空間 若mDialogVIew.frame.origin.y + frame.origin.y 的數值大於畫面剩餘空間的話,表示輸入框會被鍵盤所覆蓋. 所以我們利用此公式來算出差值. 1let offset = frame.origin.y + mDialogView.frame.origin.y + 36 - (self.view.frame.size.height - keyboardHeight!) 36 這個數值可根據文字的大小來動態調整, 或者使用輸入框的高度 使用動畫來調整畫面 1234567UIView.animateWithDuration(0.3, animations: { () -&gt; Void in if (offset &gt; 0) { self.view.frame.origin.y -= offset; } else { self.view.frame.origin.y = 0; } }) Step 4: 輸入完畢後, 恢復畫面位置 12345func keyboardWillHidden(notification: NSNotification) { UIView.animateWithDuration(0.3, animations: { () -&gt; Void in self.view.frame.origin.y = 0; }) } 執行結果 Source Code 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768import UIKitclass Dialog: UIViewController { @IBOutlet weak var mEditText: UITextField! @IBOutlet weak var mDialogView: UIView! var selectedEditText : UITextField? override func viewDidLoad() { super.viewDidLoad() mEditText.delegate = self; } override func didReceiveMemoryWarning() { super.didReceiveMemoryWarning() } override func viewWillAppear(animated: Bool) { NSNotificationCenter.defaultCenter().addObserver(self, selector: #selector(Dialog.keyboardWillShow(_:)), name: UIKeyboardWillShowNotification, object: nil) NSNotificationCenter.defaultCenter().addObserver(self, selector: #selector(Dialog.keyboardWillHidden(_:)), name: UIKeyboardWillHideNotification, object: nil) } override func viewWillDisappear(animated: Bool) { NSNotificationCenter.defaultCenter().removeObserver(self, name: UIKeyboardWillShowNotification, object: nil) NSNotificationCenter.defaultCenter().removeObserver(self, name: UIKeyboardWillHideNotification, object: nil) } func keyboardWillShow(notification: NSNotification) { let userInfo: NSDictionary? = notification.userInfo let aValue: NSValue? = userInfo?.objectForKey(UIKeyboardFrameEndUserInfoKey) as? NSValue let keyboardRect = aValue?.CGRectValue() let keyboardHeight = keyboardRect?.size.height let frame = selectedEditText!.frame let offset = frame.origin.y + mDialogView.frame.origin.y + 36 - (self.view.frame.size.height - keyboardHeight!) UIView.animateWithDuration(0.3, animations: { () -&gt; Void in if (offset &gt; 0) { self.view.frame.origin.y -= offset; } else { self.view.frame.origin.y = 0; } }) } func keyboardWillHidden(notification: NSNotification) { UIView.animateWithDuration(0.3, animations: { () -&gt; Void in self.view.frame.origin.y = 0; }) }}extension Dialog : UITextFieldDelegate { func textFieldDidBeginEditing(textField: UITextField) { selectedEditText = textField } func textFieldShouldReturn(textField: UITextField) -&gt; Bool { textField.resignFirstResponder() return true } func textFieldDidEndEditing(textField: UITextField) { selectedEditText = nil }}","link":"/2016/10/13/2016/2016_10_13-ios-adjust_dialog_height/"},{"title":"iOS - ImageField 點擊事件與從圖片庫中選取圖片","text":"當畫面中有UIImageView且需從圖片庫中選取圖片時, 該如何實作呢? Step 1: 設定圖片並Reference到Source Code Step 2: 設定點擊圖片的處理 由於UIImageView沒有Click Event, 所以我們使用UITapGestureRecognizer來實現 123456789101112131415@IBOutlet weak var imageField: UIImageView! override func viewDidLoad() { super.viewDidLoad() let tapGestureRecognizer = UITapGestureRecognizer(target:self, action:#selector(ViewController.imageClick(_:))) imageField.userInteractionEnabled = true imageField.addGestureRecognizer(tapGestureRecognizer) } override func didReceiveMemoryWarning() { super.didReceiveMemoryWarning() } internal func imageClick(img: AnyObject) { } Step 3: 請求使用圖片庫的權限 123456internal func imageClick(img: AnyObject) { if UIImagePickerController.isSourceTypeAvailable(.PhotoLibrary){ } else { print(&quot;Can't read the album!&quot;) }} Step 4: 設定UIImagePickerController 使用UIImagePickerController選取圖片, 並註冊 UIImagePickerControllerDelegate &amp; UINavigationControllerDelegate 12345678910111213internal func imageClick(img: AnyObject) { if UIImagePickerController.isSourceTypeAvailable(.PhotoLibrary){ let picker = UIImagePickerController() picker.delegate = self picker.sourceType = UIImagePickerControllerSourceType.PhotoLibrary picker.allowsEditing = true; self.presentViewController(picker, animated: true, completion: { () -&gt; Void in }) } else { print(&quot;Can't read the album!&quot;) } } 1234567extension ViewController : UIImagePickerControllerDelegate { func imagePickerController(picker: UIImagePickerController, didFinishPickingMediaWithInfo info: [String : AnyObject]) { }}extension ViewController : UINavigationControllerDelegate {} 如果應用程式只使用Landscape 的話, 會發生UIApplicationInvalidInterfaceOrientation Exception Reason: ‘Supported orientations has no common orientation with the application, and [PUUIAlbumListViewController shouldAutorotate] is returning YES’ 在iOS 的 Docutment 中提到UIUmagePickerController只支援portrait mode. 所以要將Portrait選項打勾 Step 5: 使用客製化UIImagePickerController, 來維持Landscape 若接受螢幕可自動切換 Landscape/Portrait時, 可跳過此步驟. 若你的應用程式為Landscape時, 可使用客製化的UIImagePickerController並覆寫以下程式碼. shouldAutorotate : 將自動旋轉屏幕關閉 supportedInterfaceOrientatios preferredInterfaceOrientationForPresentation : 設定為Landscape CustomImagePicker Source Code: CustomImagePicker.swift1234567891011121314151617181920212223import UIKitclass CustomImagePicker: UIImagePickerController { override func viewDidLoad() { super.viewDidLoad() } override func didReceiveMemoryWarning() { super.didReceiveMemoryWarning() } override func shouldAutorotate() -&gt; Bool { return false } override func supportedInterfaceOrientations() -&gt; UIInterfaceOrientationMask { return UIInterfaceOrientationMask(rawValue: UIInterfaceOrientationMask.LandscapeRight.rawValue); } override func preferredInterfaceOrientationForPresentation() -&gt; UIInterfaceOrientation { return UIInterfaceOrientation.LandscapeRight; }} 將程式碼改為 12345678910111213internal func imageClick(img: AnyObject) { if UIImagePickerController.isSourceTypeAvailable(.PhotoLibrary){ let picker = CustomImagePicker() picker.delegate = self picker.sourceType = UIImagePickerControllerSourceType.PhotoLibrary picker.allowsEditing = true; self.presentViewController(picker, animated: true, completion: { () -&gt; Void in }) } else { print(&quot;Can't read the album!&quot;) } } Step 6: 設置圖片並關閉UIImagePicker 12345678extension ViewController : UIImagePickerControllerDelegate { func imagePickerController(picker: UIImagePickerController, didFinishPickingMediaWithInfo info: [String : AnyObject]) { let image = info[UIImagePickerControllerOriginalImage] as! UIImage imageField.image = image; picker.dismissViewControllerAnimated(true, completion: nil) }} 執行結果 點擊並選擇照片 Source Code 123456789101112131415161718192021222324252627282930313233343536373839404142434445import UIKitclass ViewController: UIViewController { @IBOutlet weak var imageField: UIImageView! override func viewDidLoad() { super.viewDidLoad() let tapGestureRecognizer = UITapGestureRecognizer(target:self, action:#selector(ViewController.imageClick(_:))) imageField.userInteractionEnabled = true imageField.addGestureRecognizer(tapGestureRecognizer) } override func didReceiveMemoryWarning() { super.didReceiveMemoryWarning() } internal func imageClick(img: AnyObject) { if UIImagePickerController.isSourceTypeAvailable(.PhotoLibrary){ let picker = CustomImagePicker() picker.delegate = self picker.sourceType = UIImagePickerControllerSourceType.PhotoLibrary picker.allowsEditing = true; self.presentViewController(picker, animated: true, completion: { () -&gt; Void in }) } else { print(&quot;Can't read the album!&quot;) } }}extension ViewController : UIImagePickerControllerDelegate { func imagePickerController(picker: UIImagePickerController, didFinishPickingMediaWithInfo info: [String : AnyObject]) { let image = info[UIImagePickerControllerOriginalImage] as! UIImage imageField.image = image; picker.dismissViewControllerAnimated(true, completion: nil) }}extension ViewController : UINavigationControllerDelegate {}","link":"/2016/10/13/2016/2016_10_13-ios-choose_image_from_gallery/"},{"title":"iOS - 跳至下個輸入框","text":"若一個畫面中有多個輸入框, 當輸入完之後, 想要自動跳至下個輸入框, 就算Storyboard中設置為Next, 依舊是無法自動跳轉的, 此時需要使用程式來控制. Step 1: Reference TextFields and 註冊UITextFieldDelegate 123456789101112131415161718import UIKitclass ViewController: UIViewController { @IBOutlet weak var nameField: UITextField! @IBOutlet weak var bdField: UITextField! @IBOutlet weak var heightField: UITextField! @IBOutlet weak var weightField: UITextField! @IBOutlet weak var idField: UITextField! override func viewDidLoad() { super.viewDidLoad() nameField.delegate = self; bdField.delegate = self; heightField.delegate = self; weightField.delegate = self; idField.delegate = self; }} Step 2: 監聽Return Key 12345extension ViewController : UITextFieldDelegate { func textFieldShouldReturn(textField: UITextField) -&gt; Bool { return true }} Step 3: 跳轉控制 12345678910111213141516extension ViewController : UITextFieldDelegate { func textFieldShouldReturn(textField: UITextField) -&gt; Bool { if textField == self.nameField { self.bdField.becomeFirstResponder() } else if textField == self.bdField { self.heightField.becomeFirstResponder() } else if textField == self.heightField { self.weightField.becomeFirstResponder() } else if textField == self.weightField { self.idField.becomeFirstResponder() } else { //nothing else } return true }} Source Code 12345678910111213141516171819202122232425262728293031323334353637383940import UIKitclass ViewController: UIViewController { @IBOutlet weak var nameField: UITextField! @IBOutlet weak var bdField: UITextField! @IBOutlet weak var heightField: UITextField! @IBOutlet weak var weightField: UITextField! @IBOutlet weak var idField: UITextField! override func viewDidLoad() { super.viewDidLoad() nameField.delegate = self; bdField.delegate = self; heightField.delegate = self; weightField.delegate = self; idField.delegate = self; } override func didReceiveMemoryWarning() { super.didReceiveMemoryWarning() }}extension ViewController : UITextFieldDelegate { func textFieldShouldReturn(textField: UITextField) -&gt; Bool { if textField == self.nameField { self.bdField.becomeFirstResponder() } else if textField == self.bdField { self.heightField.becomeFirstResponder() } else if textField == self.heightField { self.weightField.becomeFirstResponder() } else if textField == self.weightField { self.idField.becomeFirstResponder() } else { //nothing else } return true }}","link":"/2016/10/13/2016/2016_10_13-ios-next_textfield/"},{"title":"iOS - 下拉式選單","text":"iOS 目前沒有提供下拉式選單的UI物件供設計者使用. 若畫面中需要有下拉式選單時, 只能客製化了. 網路上搜尋到使用TextField來模擬, 不過自己實作時會遇到無法隱藏軟體鍵盤的問題.每次點擊時都會出現軟體鍵盤. 因此我改用Button來解決此問題. Step 1: 拉好Button物件, 並Reference到Source Code 可將文字改成黑色, 並設計下拉式icon (image view) 在旁邊, 模擬成下拉式選單 Step 2: 建立PickerView 設定下拉式選單的內容, 在此範例使用選擇 “綠茶”, “紅茶”, “烏龍茶” 12345678910@IBAction func openMenu(sender: AnyObject) { showPicker() } internal func showPicker() { let pickerView = UIPickerView(frame:CGRectMake(0, 0, 200, 100)) pickerView.showsSelectionIndicator = true pickerView.dataSource = self pickerView.delegate = self} 設定選單中欄位與列的個數 123456789extension ViewController : UIPickerViewDataSource { func pickerView(pickerView: UIPickerView, numberOfRowsInComponent component: Int) -&gt; Int { return self.dataArray.count } func numberOfComponentsInPickerView(pickerView: UIPickerView) -&gt; Int { return 1 }} 設定資料內容和選擇到時該如何更新UI的函數 123456789extension ViewController : UIPickerViewDelegate { func pickerView(pickerView: UIPickerView, titleForRow row: Int, forComponent component: Int) -&gt; String? { return self.dataArray[row] } func pickerView(pickerView: UIPickerView, didSelectRow row: Int, inComponent component: Int) { //update UI }} Step 3: 建立ToolBar 設定下拉式選單的畫面與位置 123self.sortView = UIToolbar(frame:CGRectMake(menuField.frame.origin.x, menuField.frame.origin.y + menuField.frame.height, 200, 130)) self.sortView!.barStyle = UIBarStyle.Defaultself.sortView!.backgroundColor = UIColor.blackColor(); 設定完成的按鈕 123456 let doneButton = UIBarButtonItem(title: &quot;Done&quot;, style: UIBarButtonItemStyle.Done, target: self, action: #selector(ViewController.doneClicked))//Using flexibleSpace to setup the position of Done buttonlet flexibleSpace = UIBarButtonItem(barButtonSystemItem: UIBarButtonSystemItem.FlexibleSpace, target: nil, action: nil)self.sortView!.setItems([flexibleSpace, doneButton, flexibleSpace], animated: true) 選擇後, 將下拉式選單隱藏 1234567func doneClicked() { if (nil != self.sortView) { self.sortView!.removeFromSuperview() } else { //nothing else } } Step 4: 將PickerView放到下拉式選單中 1234//add pickerview into Pull-Down Menuself.sortView!.addSubview(pickerView);//show Pull-Down Menuself.view.addSubview(self.sortView!) 執行結果 Source Code 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081import UIKitclass ViewController: UIViewController { @IBOutlet weak var menuField: UIButton! var sortView : UIToolbar? let dataArray = [&quot;綠茶&quot;, &quot;紅茶&quot;, &quot;烏龍茶&quot;] override func viewDidLoad() { super.viewDidLoad() } override func didReceiveMemoryWarning() { super.didReceiveMemoryWarning() } @IBAction func openMenu(sender: AnyObject) { showPicker() } internal func showPicker() { //Create PickerView let pickerView = UIPickerView(frame:CGRectMake(0, 0, 200, 100)) pickerView.showsSelectionIndicator = true pickerView.dataSource = self pickerView.delegate = self //Create Pull-Down Menu, and adjust position self.sortView = UIToolbar(frame:CGRectMake(menuField.frame.origin.x, menuField.frame.origin.y + menuField.frame.height, 200, 130)) self.sortView!.barStyle = UIBarStyle.Default self.sortView!.backgroundColor = UIColor.blackColor(); //Create Done Button let doneButton = UIBarButtonItem(title: &quot;Done&quot;, style: UIBarButtonItemStyle.Done, target: self, action: #selector(ViewController.doneClicked)) //Using flexibleSpace to setup the position of Done button let flexibleSpace = UIBarButtonItem(barButtonSystemItem: UIBarButtonSystemItem.FlexibleSpace, target: nil, action: nil) self.sortView!.setItems([flexibleSpace, doneButton, flexibleSpace], animated: true) //add pickerview into Pull-Down Menu self.sortView!.addSubview(pickerView); //show Pull-Down Menu self.view.addSubview(self.sortView!) } func doneClicked() { if (nil != self.sortView) { self.sortView!.removeFromSuperview() } else { //nothing else } }} extension ViewController : UIPickerViewDataSource { func pickerView(pickerView: UIPickerView, numberOfRowsInComponent component: Int) -&gt; Int { return self.dataArray.count } func numberOfComponentsInPickerView(pickerView: UIPickerView) -&gt; Int { return 1 }} extension ViewController : UIPickerViewDelegate { func pickerView(pickerView: UIPickerView, titleForRow row: Int, forComponent component: Int) -&gt; String? { return self.dataArray[row] } func pickerView(pickerView: UIPickerView, didSelectRow row: Int, inComponent component: Int) { //update UI }}","link":"/2016/10/13/2016/2016_10_13-spinner/"},{"title":"iOS - PageViewController &amp; SegmentedControl","text":"若要在一個頁面中使用 SegmentedControl 和 PageViewController 來轉換頁面該如何實作呢？ Step 1: 製作畫面 在主頁面上增加控制項 Segmented Control 新增兩個ViewController頁面, 並設置storyboard id 為firstPage, secondPage Step 2: Reference SegmentedControl 在ViewController.swift中, 設置SegmentedControl物件和點擊事件. 使用UISegmentedControl.selectedSegmentIndex可得知目前所按到的tab為何 Step 3: 設置 PageViewController 設置PageView內容 新增PageViewController 1var pageController: UIPageViewController! 使用水平滾動的方式變換頁面 1pageController = UIPageViewController(transitionStyle: .Scroll, navigationOrientation:.Horizontal, options: nil) 設置PageView顯示位置 1pageController!.view.frame = CGRectMake(0, mPageSegment.frame.origin.y + mPageSegment.frame.height, view.frame.size.width, view.frame.size.height); 設置首頁 12currentPageIndex = 0; pageController.setViewControllers([viewControllers.objectAtIndex(currentPageIndex) as! UIViewController], direction: .Forward, animated: false) {(isFinished:Bool) -&gt; Void in} 監聽頁面變化 UIPageViewControllerDelegate及頁面資料UIPageViewControllerDataSource 123456789101112131415161718192021222324pageController.delegate = self;pageController.dataSource = self;extension ViewController: UIPageViewControllerDataSource { func pageViewController(pageViewController: UIPageViewController, viewControllerBeforeViewController viewController: UIViewController) -&gt; UIViewController? { return nil } func pageViewController(pageViewController: UIPageViewController, viewControllerAfterViewController viewController: UIViewController) -&gt; UIViewController? { return nil }} extension ViewController: UIPageViewControllerDelegate { func pageViewController(pageViewController: UIPageViewController, }} 將PageViewController新增至畫面中 12self.addChildViewController(pageController)self.view.addSubview(pageController.view) Step 4: 設置轉換頁面的資料 由左至右滑動時, 也就是往前翻頁, 若前頁的上一頁的頁數小於０時, 則回傳nil(若目前第二頁時, 往前翻頁為第一頁, 而第一頁的前頁為nil) 123456789func pageViewController(pageViewController: UIPageViewController, viewControllerBeforeViewController viewController: UIViewController) -&gt; UIViewController? { currentPageIndex = viewController.view.tag let pageIndex = viewController.view.tag - 1; if pageIndex &lt; 0 { return nil } return viewControllers[pageIndex] as? UIViewController } 由右至左滑動時, 也就是往後翻頁, 若後頁的下一頁的頁數大於總頁數時, 則回傳nil(若目前第一頁時, 往後翻頁為第二頁, 而第二頁的下頁為nil) 123456789func pageViewController(pageViewController: UIPageViewController, viewControllerAfterViewController viewController: UIViewController) -&gt; UIViewController? { currentPageIndex = viewController.view.tag let pageIndex = viewController.view.tag + 1; if pageIndex &gt; 1 { return nil } return viewControllers[pageIndex] as? UIViewController } 以上我們完成了PageViewController的控制, 接下來要結合Segmented Controll來控制PageView Step 5: Segment的變換 對於SegmentControll的變換, 使用SegmentControll.selectedSegmentIndex來改變選取的Tab 在Step 4 的兩個步驟中, 加入 mPageSegment.selectedSegmentIndex = currentPageIndex; Step 6: 點擊SegmentControll來改變PageView 之前發生過使用點擊來轉換頁面太快時, 會出NSInternalInconsistencyException 原因是切換PageView時設定了轉移動畫, 當動畫還未結束時, 又再一次要求改變PageView所導致. 解決方式： 轉換PageView時, 不設定動畫 1pageController!.setViewControllers([self.viewControllers[index] as! UIViewController], direction: .Reverse, animated: false, completion:nil) 必須等動畫完成後, 才能再轉換PageView 在此我們採用第二種方式, 當點擊SegmentedControll時, 將enabled設為false.動畫結束後再設定為true. 設定轉換動畫若當前頁碼小於選擇頁碼時 (往前翻頁)direction: UIPageViewControllerNavigationDirection.Forward 若當前頁碼大於選擇頁碼時 (往後翻頁)direction: UIPageViewControllerNavigationDirection.Reverse 12345678910111213141516@IBAction func tapSegment(sender: AnyObject) { mPageSegment.enabled = false; let index = (sender as! UISegmentedControl).selectedSegmentIndex; if (currentPageIndex &lt; index) { pageController!.setViewControllers([self.viewControllers[index] as! UIViewController], direction: .Forward, animated: true, completion:{(isFinished: Bool) in self.mPageSegment.enabled = true; }) } else { pageController!.setViewControllers([self.viewControllers[index] as! UIViewController], direction: .Reverse, animated: true, completion:{(isFinished: Bool) in self.mPageSegment.enabled = true; }) } currentPageIndex = index } 使用滑動翻頁時, 當動畫結束後, 須將SegmentControll.enabled設為true 12345extension ViewController: UIPageViewControllerDelegate { func pageViewController(pageViewController: UIPageViewController, didFinishAnimating finished: Bool, previousViewControllers: [UIViewController], transitionCompleted completed: Bool) { mPageSegment.enabled = true; }} Source Code 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283import UIKitclass ViewController: UIViewController { @IBOutlet weak var mPageSegment: UISegmentedControl! @IBAction func tapSegment(sender: AnyObject) { mPageSegment.enabled = false; let index = (sender as! UISegmentedControl).selectedSegmentIndex; if (currentPageIndex &lt; index) { pageController!.setViewControllers([self.viewControllers[index] as! UIViewController], direction: .Forward, animated: true, completion:{(isFinished: Bool) in self.mPageSegment.enabled = true; }) } else { pageController!.setViewControllers([self.viewControllers[index] as! UIViewController], direction: .Reverse, animated: true, completion:{(isFinished: Bool) in self.mPageSegment.enabled = true; }) } currentPageIndex = index } var pageController: UIPageViewController! var viewControllers = NSMutableArray() var currentPageIndex : Int! override func viewDidLoad() { super.viewDidLoad() let storyboard = UIStoryboard(name: &quot;Main&quot;, bundle: nil) let firstViewController = storyboard.instantiateViewControllerWithIdentifier(&quot;firstPage&quot;) firstViewController.view.tag = 0; viewControllers.addObject(firstViewController) let secondViewController = storyboard.instantiateViewControllerWithIdentifier(&quot;secondPage&quot;) secondViewController.view.tag = 1; viewControllers.addObject(secondViewController) pageController = UIPageViewController(transitionStyle: .Scroll, navigationOrientation:.Horizontal, options: nil) pageController!.view.frame = CGRectMake(0, mPageSegment.frame.origin.y + mPageSegment.frame.height, view.frame.size.width, view.frame.size.height); currentPageIndex = 0; pageController.setViewControllers([viewControllers.objectAtIndex(currentPageIndex) as! UIViewController], direction: .Forward, animated: false) {(isFinished:Bool) -&gt; Void in } pageController.delegate = self; pageController.dataSource = self; self.addChildViewController(pageController) self.view.addSubview(pageController.view) } override func didReceiveMemoryWarning() { super.didReceiveMemoryWarning() }}extension ViewController: UIPageViewControllerDataSource { func pageViewController(pageViewController: UIPageViewController, viewControllerBeforeViewController viewController: UIViewController) -&gt; UIViewController? { currentPageIndex = viewController.view.tag mPageSegment.selectedSegmentIndex = currentPageIndex; let pageIndex = viewController.view.tag - 1; if pageIndex &lt; 0 { return nil } return viewControllers[pageIndex] as? UIViewController } func pageViewController(pageViewController: UIPageViewController, viewControllerAfterViewController viewController: UIViewController) -&gt; UIViewController? { currentPageIndex = viewController.view.tag mPageSegment.selectedSegmentIndex = currentPageIndex; let pageIndex = viewController.view.tag + 1; if pageIndex &gt; 1 { return nil } return viewControllers[pageIndex] as? UIViewController }}extension ViewController: UIPageViewControllerDelegate { func pageViewController(pageViewController: UIPageViewController, didFinishAnimating finished: Bool, previousViewControllers: [UIViewController], transitionCompleted completed: Bool) { mPageSegment.enabled = true; }} 執行結果","link":"/2016/10/18/2016/2016_10_18-ios-pageviewcontroller_segmentedcontrol/"},{"title":"iOS - 模糊效果 UIBlurEffect","text":"有些場景, 我們可能需要背景模糊的效果. 在 iOS 8 之後, Apple 官方提供了API 讓我們更容易實現此效果. UIBlurEffect Step 1: 先在畫面中設置好ImageView Step 2: 設置模糊效果 1let blurEffect = UIBlurEffect(style: UIBlurEffectStyle.Light) UIBlurEffectStyle 共有三種效果 ExtraLight : 極亮Light : 亮Dark : 暗 Step 3: 設置模糊視窗並添加至畫面中 123let blurView = UIVisualEffectView(effect: blurEffect)blurView.frame = CGRect(x: 100.0, y: 120.0, width: 300.0, height: 300.0)self.view.addSubview(blurView); 執行結果 Source Code 123456789101112131415import UIKitclass ViewController: UIViewController { override func viewDidLoad() { super.viewDidLoad() let blurEffect = UIBlurEffect(style: UIBlurEffectStyle.ExtraLight) let blurView = UIVisualEffectView(effect: blurEffect) blurView.frame = CGRect(x: 100.0, y: 120.0, width: 300.0, height: 300.0) self.view.addSubview(blurView); } override func didReceiveMemoryWarning() { super.didReceiveMemoryWarning() }}","link":"/2016/10/27/2016/2016_10_27-ios-uiblureffect/"},{"title":"iOS - UIImage &amp; UIContentMode","text":"當圖片超過螢幕大小時, 我們可選用幾種方式來縮放圖片. UIViewContentMode.ScaleAspectFill : 按照原比例呈現此模式下可搭配 UIImageView.clipsToBounds = true 來裁切圖片 UIViewContentMode.ScaleAspectFit : 按照等比例縮放UIViewContentMode.ScaleToFill : 按照UIImageView的大小縮放圖片 目前有張圖片為1920x1080, 而螢幕大小為1024x768 若沒有指定UIImageView大小時, 則呈現圖片如下, 且UIImageView所使用的大小為1920x1080 12345678910let image = UIImage(named: &quot;mi.jpg&quot;)var imageView: UIImageView!override func viewDidLoad() { super.viewDidLoad() imageView = UIImageView(image: image); imageView.center = view.center print(&quot;W: \\(imageView.frame.width), H: \\(imageView.frame.height)&quot;) view.addSubview(imageView);} 執行結果 若指定UIImageView的大小, 並使用 UIViewContentMode.ScaleAspectFill, ScaleAspectFit, ScaleToFill時UIImageView的大小皆為1024x768 UIViewContentMode.ScaleAspectFill : 按照原比例呈現 UIViewContentMode.ScaleAspectFit : 按照等比例縮放 UIViewContentMode.ScaleToFill : 按照UIImageView的大小縮放圖片","link":"/2016/10/27/2016/2016_10_27-ios-uiimage-scale/"},{"title":"iOS - 模糊效果 UIVibrancyEffect","text":"續上篇 iOS - 模糊效果 UIBlurEffect 我們可在畫面中製作模糊效果. 但如果想在模糊效果中, 再疊加文字時, 可使用UIVibrancyEffect讓文字也具有模糊效果. 如果不使用UIVibrancyEffect時, 則添加的Lable會以不透明顏色呈現 接下來我們使用UIVibrancyEffect來達成模糊效果. Step 1: 先在畫面中設置好ImageView, 並添加UIBlurEffect模糊效果 1234let blurEffect = UIBlurEffect(style: UIBlurEffectStyle.ExtraLight)let blurView = UIVisualEffectView(effect: blurEffect)blurView.frame = CGRect(x: 100.0, y: 120.0, width: 300.0, height: 300.0)self.view.addSubview(blurView); Step 2: 設置UIVibrancyEffect模糊效果 由於UIVibrancyEffect必須建設於UIBlurEffect的效果上, 因此初始設定時, 需帶入UIBlurEffect. 1let vibrancyEffect = UIVibrancyEffect(forBlurEffect: blurEffect) Step 3: 設置模糊視窗並添加至畫面中 由Apple 官方文件得知 UIVibrancyEffect 需添加於UIBlurEffect效果的畫面上 A UIVibrancyEffect object amplifies and adjusts the color of the content layered behind a UIVisualEffectView object, allowing the content placed inside of the contentView to become more vivid. 1234let vibrancyEffect = UIVibrancyEffect(forBlurEffect: blurEffect)let vibrancyView = UIVisualEffectView(effect: vibrancyEffect)vibrancyView.frame = CGRect(x: 0.0, y: 150.0, width: 300.0, height: 150.0)blurView.contentView.addSubview(vibrancyView); 注意vibrancyView並不像blurView加入在self.view中, 而是加在blurView.contentView中. Step 4: 添加Label於 Vibrancy 效果的畫面上 1234567let label = UILabel(frame: vibrancyView.bounds)label.textAlignment = NSTextAlignment.Centerlabel.text = &quot;Blur&quot;label.font = UIFont(name: &quot;SnellRoundhand-Black&quot;, size: 50.0)label.textColor = UIColor.whiteColor()vibrancyView.contentView.addSubview(label); 執行結果 Source Code 123456789101112131415161718192021222324252627282930313233import UIKitclass ViewController: UIViewController { override func viewDidLoad() { super.viewDidLoad() let blurEffect = UIBlurEffect(style: UIBlurEffectStyle.ExtraLight) let blurView = UIVisualEffectView(effect: blurEffect) blurView.frame = CGRect(x: 100.0, y: 120.0,width: 300.0, height: 300.0) self.view.addSubview(blurView); let vibrancyEffect = UIVibrancyEffect(forBlurEffect: blurEffect) let vibrancyView = UIVisualEffectView(effect: vibrancyEffect) vibrancyView.frame = CGRect(x: 0.0, y: 150.0,width: 300.0, height: 150.0) blurView.contentView.addSubview(vibrancyView); let label = UILabel(frame: vibrancyView.bounds) label.textAlignment = NSTextAlignment.Center label.text = &quot;Blur&quot; label.font = UIFont(name: &quot;SnellRoundhand-Black&quot;, size: 50.0) label.textColor = UIColor.whiteColor() vibrancyView.contentView.addSubview(label); } override func didReceiveMemoryWarning() { super.didReceiveMemoryWarning() }}","link":"/2016/10/27/2016/2016_10_27-ios-uivibrancyeffect/"},{"title":"iOS - UIButton 將 icon 設置在右邊","text":"當我們建立一個按鈕時, 可以同時設置好icon和文字. 注意文字顏色, 預設為白色, 在畫面中會看不到 但是預設的icon是在文字的左邊, 當我們想移動到右邊時, 可調整 Edge 為 image 再選擇right調整位置到右邊 若想調整文字位置時, 可調整Edge 為title 再調整位置即可","link":"/2016/10/31/2016/2016_10_31-ios-uibutton_change_icon_pos/"},{"title":"iOS - UITextField 限制輸入","text":"有時候使用輸入時, 想要限制輸入框只能輸入數字, 該如何實作呢？ 我們可使用 NSCharacterSet 來達成此功能。 Step 1: 委託 UITextFieldDelegate Step 2: 監聽輸入變化 shouldChangeCharactersInRange Step 3: 設定限制字元 Source Code 12345678910111213141516171819202122232425import UIKitclass ViewController: UIViewController { @IBOutlet weak var numTextField: UITextField! override func viewDidLoad() { super.viewDidLoad() numTextField.delegate = self; } override func didReceiveMemoryWarning() { super.didReceiveMemoryWarning() }}extension ViewController : UITextFieldDelegate { func textField(textField: UITextField, shouldChangeCharactersInRange range: NSRange, replacementString string: String) -&gt; Bool { let inverseSet = NSCharacterSet(charactersInString:&quot;0123456789.&quot;).invertedSet let components = string.componentsSeparatedByCharactersInSet(inverseSet) let filtered = components.joinWithSeparator(&quot;&quot;) return string == filtered }}","link":"/2016/10/31/2016/2016_10_31-ios-uitextfidle/"},{"title":"Android - Firebase 專案開發準備工作","text":"若在Tools 底下有 Firebase的選項, 可跳過此篇文章 （如下圖） 如果沒有請依照以下步驟 Step 1: 確認 Google Repository 及 Android SDK Tools皆為最新版本 Step 2: 安裝 Plugins - Firebase 將Firebase相關都勾選後, 點選 Apply並重新啟動 AndroidStudio Step 3: 確認Tools有Firebase即算成功","link":"/2017/04/19/2017/2017_04_19-android-firebase-install/"},{"title":"Android - Firebase 註冊","text":"簡介 Firebase原本為一家提供雲端服務的公司, 在2014年被Google所收購. Google所提供的雲端服務最一開始為Cloud to Device Messaging （C2DM）,在2012年時停用C2DM, 並更改為Google Cloud Messaging (GCM)收購Firebase後, 在2016年提出了Firebase Cloud Messaging (FCM) FCM base on GCM 提供網頁, 手機應用程式可將資料儲存於雲端, 以及從雲端取得資料. 註冊/登入Firebase帳號 Firebase 首頁找到首頁中的「登入」（如下圖）, 使用Google帳號登入 登入後出現授予權限畫面, 選擇「允許」即完成Firebase的註冊(如下圖)","link":"/2017/04/19/2017/2017_04_19-android-firebase-register/"},{"title":"Android - 開發Firebase專案 - Database 篇","text":"開始之前, 需要先完成Firebase的註冊和AndroidStudio的環境設定請參考文章Android - Firebase 註冊Android - Firebase 專案開發準備工作 Step 1: 新增Firebase 專案 在Firebase首頁中, 點選右上角的「前往控制台」 點擊「新增專案」 Step 2: 將 Firebase 引入 Module AndroidStudio 中新增Module，再點選Tools -&gt; Firebase 選擇Realtime Database Connect to Firebase &amp; Select your app Step 3: 將 Realtime Database 引入 Module 選取「Add the Realtime Database to your app」 引入成功 Step 4:建立Database資料 回到Firebase網頁, 在左邊欄位中選擇「Database」 在應用程式右方按下「+」, 可新增資料 由於Firebase並不是以傳統關聯式資料庫的表格, 而是以「JSON」的格式來儲存資料. 所以會以JSON的樹狀結構來呈現. 我們以聯絡人的案例來設計資料庫, 在資料名稱中填入「聯絡人/01/name」, 值填入「Nick」, 然後按下「新增」 再新增一位聯絡人資料名稱中填入「02/name」, 值填入「Curry」 JSON Tree（如下圖）, 我們也可以利用右邊的設定, 將JSON格式匯出(如下圖紅框) 匯出格式如下 Step 5:設定安全性 Firebase 預設只有經過驗證過得帳號, 才能讀取/寫入資料.在此範例中, 我們先將讀寫資料開放, 讓任何對象都可存取. 若在開發產品App階段, 請勿更改預設設定. 選取「規則」TAB, read/write權限原先預設為「auth != null」在此將read/write接改為「true」後, 按下發佈 Step 6:取得Firebase資料 回到AndroidStudio, 我們在Layout中增加一個Listview。 在OnCreate中, 設定好ListView和ArrayAdapter 1234567891011121314151617public class MainActivity extends AppCompatActivity { ArrayAdapter&lt;String&gt; fileDBAdapter; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); ListView list = (ListView) findViewById(R.id.listView); fileDBAdapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1, android.R.id.text1); list.setAdapter(fileDBAdapter); }} MainActivity 實現 ChildEventListener及其Function 在onChildAdded和onChildRemoved中, 將資料設定給ArrayAdapter, 使得資料顯示於ListView上 1234567891011@Overridepublic void onChildAdded(DataSnapshot dataSnapshot, String s) { fileDBAdapter.add( String.valueOf(dataSnapshot.child(&quot;name&quot;).getValue()));}@Overridepublic void onChildRemoved(DataSnapshot dataSnapshot) { fileDBAdapter.remove( String.valueOf(dataSnapshot.child(&quot;name&quot;).getValue()));} 最後在OnCreate中, 設定FirebaseDatabase 123FirebaseDatabase fireDB = FirebaseDatabase.getInstance();DatabaseReference myRef = fireDB.getReference(&quot;聯絡人&quot;);myRef.addChildEventListener(this); 執行結果 Source Code 123456789101112131415161718192021222324252627282930313233343536373839404142public class MainActivity extends AppCompatActivity implements ChildEventListener { ArrayAdapter&lt;String&gt; fileDBAdapter; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); ListView list = (ListView) findViewById(R.id.listView); fileDBAdapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1, android.R.id.text1); list.setAdapter(fileDBAdapter); FirebaseDatabase fireDB = FirebaseDatabase.getInstance(); DatabaseReference myRef = fireDB.getReference(&quot;聯絡人&quot;); myRef.addChildEventListener(this); } @Override public void onChildAdded(DataSnapshot dataSnapshot, String s) { fileDBAdapter.add( String.valueOf(dataSnapshot.child(&quot;name&quot;).getValue())); } @Override public void onChildRemoved(DataSnapshot dataSnapshot) { fileDBAdapter.remove( String.valueOf(dataSnapshot.child(&quot;name&quot;).getValue())); } @Override public void onChildChanged(DataSnapshot dataSnapshot, String s) { } @Override public void onChildMoved(DataSnapshot dataSnapshot, String s) { } @Override public void onCancelled(DatabaseError databaseError) { }}","link":"/2017/04/20/2017/2017_04_20-android-firebase-database/"},{"title":"Android - ConstraintLayout _ Relative Position","text":"在上一篇文章 Android - ConstraintLayout 基本介紹 中,我們知道ConstraintLayout基本概念和設計目的. 在此篇中我們將介紹ConstraintLayout的相對位置的解說 ConstraintLayout的設定共有13種, 在此我們使用兩個Button來解說, 水平方向 對於水平方向中的 Start/End 與 Left/Right 的不同點, 請參考 Android - RelativeLayout : Start/End 與 Left/Right 的不同 layout_constraintLeft_toLeftOf : 元件的左邊界和相對元件的左邊界對齊 （類似於android:layout_alignLeft） Souce BT 的左邊界和Target BT 的左邊界對齊 XML 表示方式 12345678&lt;Button android:text=&quot;Source Button&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:id=&quot;@+id/button3&quot; android:layout_marginTop=&quot;30dp&quot; app:layout_constraintTop_toBottomOf=&quot;@+id/button&quot; app:layout_constraintLeft_toLeftOf=&quot;@+id/button&quot;/&gt; layout_constraintLeft_toRightOf : 元件的左邊界和相對元件的右邊界對齊（類似於android:layout_toRightOf） Souce BT 的左邊界和Target BT 的右邊界對齊 XML 表示方式 12345678&lt;Button android:text=&quot;Source Button&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:id=&quot;@+id/button3&quot; android:layout_marginTop=&quot;30dp&quot; app:layout_constraintTop_toBottomOf=&quot;@+id/button&quot; app:layout_constraintLeft_toRightOf=&quot;@+id/button&quot;/&gt; layout_constraintRight_toLeftOf: 元件的右邊界和相對元件的左邊界對齊（類似於android:layout_toLeftOf） Souce BT 的右邊界和Target BT 的左邊界對齊 XML 表示方式 12345678&lt;Button android:text=&quot;Source Button&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:id=&quot;@+id/button3&quot; android:layout_marginTop=&quot;30dp&quot; app:layout_constraintTop_toBottomOf=&quot;@+id/button&quot; app:layout_constraintRight_toLeftOf=&quot;@+id/button&quot;/&gt; layout_constraintRight_toRightOf: 元件的右邊界和相對元件的右邊界對齊（類似於android:layout_alignRight） Souce BT 的右邊界和Target BT 的右邊界對齊 XML 表示方式 12345678&lt;Button android:text=&quot;Source Button&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:id=&quot;@+id/button3&quot; android:layout_marginTop=&quot;30dp&quot; app:layout_constraintTop_toBottomOf=&quot;@+id/button&quot; app:layout_constraintRight_toRightOf=&quot;@+id/button&quot;/&gt; layout_constraintStart_toEndOf: 元件的開始邊界和相對元件的結束邊界對齊（類似於android:layout_toEndOf） Souce BT 的開始邊界和Target BT 的結束邊界對齊 XML 表示方式 12345678&lt;Button android:text=&quot;Source Button&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:id=&quot;@+id/button3&quot; android:layout_marginTop=&quot;30dp&quot; app:layout_constraintTop_toBottomOf=&quot;@+id/button&quot; app:layout_constraintStart_toEndOf=&quot;@+id/button&quot;/&gt; layout_constraintStart_toStartOf: 元件的開始邊界和相對元件的開始邊界對齊（類似於android:layout_alignStart） Souce BT 的開始邊界和Target BT 的開始邊界對齊 XML 表示方式 12345678&lt;Button android:text=&quot;Source Button&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:id=&quot;@+id/button3&quot; android:layout_marginTop=&quot;30dp&quot; app:layout_constraintTop_toBottomOf=&quot;@+id/button&quot; app:layout_constraintStart_toStartOf=&quot;@+id/button&quot;/&gt; layout_constraintEnd_toStartOf: 元件的結束邊界和相對元件的開始邊界對齊（類似於android:layout_toStartOf） Souce BT 的結束邊界和Target BT 的開始邊界對齊 XML 表示方式 12345678&lt;Button android:text=&quot;Source Button&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:id=&quot;@+id/button3&quot; android:layout_marginTop=&quot;30dp&quot; app:layout_constraintTop_toBottomOf=&quot;@+id/button&quot; app:layout_constraintEnd_toStartOf=&quot;@+id/button&quot;/&gt; layout_constraintEnd_toEndOf: 元件的結束邊界和相對元件的結束邊界對齊（類似於android:layout_alignEnd） Souce BT 的結束邊界和Target BT 的結束邊界對齊 XML 表示方式 12345678&lt;Button android:text=&quot;Source Button&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:id=&quot;@+id/button3&quot; android:layout_marginTop=&quot;30dp&quot; app:layout_constraintTop_toBottomOf=&quot;@+id/button&quot; app:layout_constraintEnd_toEndOf=&quot;@+id/button&quot;/&gt; 垂直方向 layout_constraintTop_toTopOf: 元件的上邊界和相對元件的上邊界對齊（類似於android:layout_alignTop） Souce BT 的上邊界和Target BT 的上邊界對齊 XML 表示方式 123456789&lt;Button android:text=&quot;Source Button&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:id=&quot;@+id/button3&quot; app:layout_constraintLeft_toRightOf=&quot;@+id/button&quot; android:layout_marginLeft=&quot;30dp&quot; app:layout_constraintTop_toTopOf=&quot;@+id/button&quot;/&gt; layout_constraintTop_toBottomOf: 元件的上邊界和相對元件的下邊界對齊（類似於android:layout_below） Souce BT 的上邊界和Target BT 的下邊界對齊 XML 表示方式 123456789&lt;Button android:text=&quot;Source Button&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:id=&quot;@+id/button3&quot; app:layout_constraintLeft_toRightOf=&quot;@+id/button&quot; android:layout_marginLeft=&quot;30dp&quot; app:layout_constraintTop_toBottomOf=&quot;@+id/button&quot;/&gt; layout_constraintBottom_toTopOf: 元件的下邊界和相對元件的上邊界對齊（類似於android:layout_above） Souce BT 的下邊界和Target BT 的上邊界對齊 XML 表示方式 123456789&lt;Button android:text=&quot;Source Button&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:id=&quot;@+id/button3&quot; app:layout_constraintLeft_toRightOf=&quot;@+id/button&quot; android:layout_marginLeft=&quot;30dp&quot; app:layout_constraintBottom_toTopOf=&quot;@+id/button&quot;/&gt; layout_constraintBottom_toBottomOf: 元件的上邊界和相對元件的上邊界對齊（類似於android:layout_alignTop） Souce BT 的下邊界和Target BT 的下邊界對齊 XML 表示方式 123456789&lt;Button android:text=&quot;Source Button&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:id=&quot;@+id/button3&quot; app:layout_constraintLeft_toRightOf=&quot;@+id/button&quot; android:layout_marginLeft=&quot;30dp&quot; app:layout_constraintBottom_toBottomOf=&quot;@+id/button&quot;/&gt; layout_constraintBaseline_toBaselineOf: 元件的baseline和相對元件的baseline對齊（類似於android:layout_alignBaseline） Souce BT 的baseline和Target BT 的baseline對齊 XML 表示方式 123456789&lt;Button android:text=&quot;Source Button&quot; android:layout_width=&quot;158dp&quot; android:layout_height=&quot;87dp&quot; android:id=&quot;@+id/button3&quot; app:layout_constraintLeft_toRightOf=&quot;@+id/button&quot; android:layout_marginLeft=&quot;8dp&quot; app:layout_constraintBaseline_toBaselineOf=&quot;@+id/button&quot;/&gt;","link":"/2017/04/25/2017/2017_04_25-android_constraintlayout%20_relative_position/"},{"title":"Android - ConstraintLayout _ Relative Position","text":"在上一篇文章 Android - ConstraintLayout 基本介紹 中,我們知道ConstraintLayout基本概念和設計目的. 在此篇中我們將介紹ConstraintLayout的相對位置的解說 ConstraintLayout的設定共有13種, 在此我們使用兩個Button來解說, 水平方向 對於水平方向中的 Start/End 與 Left/Right 的不同點, 請參考 Android - RelativeLayout : Start/End 與 Left/Right 的不同 layout_constraintLeft_toLeftOf : 元件的左邊界和相對元件的左邊界對齊 （類似於android:layout_alignLeft） Souce BT 的左邊界和Target BT 的左邊界對齊 XML 表示方式 12345678&lt;Button android:text=&quot;Source Button&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:id=&quot;@+id/button3&quot; android:layout_marginTop=&quot;30dp&quot; app:layout_constraintTop_toBottomOf=&quot;@+id/button&quot; app:layout_constraintLeft_toLeftOf=&quot;@+id/button&quot;/&gt; layout_constraintLeft_toRightOf : 元件的左邊界和相對元件的右邊界對齊（類似於android:layout_toRightOf） Souce BT 的左邊界和Target BT 的右邊界對齊 XML 表示方式 12345678&lt;Button android:text=&quot;Source Button&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:id=&quot;@+id/button3&quot; android:layout_marginTop=&quot;30dp&quot; app:layout_constraintTop_toBottomOf=&quot;@+id/button&quot; app:layout_constraintLeft_toRightOf=&quot;@+id/button&quot;/&gt; layout_constraintRight_toLeftOf: 元件的右邊界和相對元件的左邊界對齊（類似於android:layout_toLeftOf） Souce BT 的右邊界和Target BT 的左邊界對齊 XML 表示方式 12345678&lt;Button android:text=&quot;Source Button&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:id=&quot;@+id/button3&quot; android:layout_marginTop=&quot;30dp&quot; app:layout_constraintTop_toBottomOf=&quot;@+id/button&quot; app:layout_constraintRight_toLeftOf=&quot;@+id/button&quot;/&gt; layout_constraintRight_toRightOf: 元件的右邊界和相對元件的右邊界對齊（類似於android:layout_alignRight） Souce BT 的右邊界和Target BT 的右邊界對齊 XML 表示方式 12345678&lt;Button android:text=&quot;Source Button&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:id=&quot;@+id/button3&quot; android:layout_marginTop=&quot;30dp&quot; app:layout_constraintTop_toBottomOf=&quot;@+id/button&quot; app:layout_constraintRight_toRightOf=&quot;@+id/button&quot;/&gt; layout_constraintStart_toEndOf: 元件的開始邊界和相對元件的結束邊界對齊（類似於android:layout_toEndOf） Souce BT 的開始邊界和Target BT 的結束邊界對齊 XML 表示方式 12345678&lt;Button android:text=&quot;Source Button&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:id=&quot;@+id/button3&quot; android:layout_marginTop=&quot;30dp&quot; app:layout_constraintTop_toBottomOf=&quot;@+id/button&quot; app:layout_constraintStart_toEndOf=&quot;@+id/button&quot;/&gt; layout_constraintStart_toStartOf: 元件的開始邊界和相對元件的開始邊界對齊（類似於android:layout_alignStart） Souce BT 的開始邊界和Target BT 的開始邊界對齊 XML 表示方式 12345678&lt;Button android:text=&quot;Source Button&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:id=&quot;@+id/button3&quot; android:layout_marginTop=&quot;30dp&quot; app:layout_constraintTop_toBottomOf=&quot;@+id/button&quot; app:layout_constraintStart_toStartOf=&quot;@+id/button&quot;/&gt; layout_constraintEnd_toStartOf: 元件的結束邊界和相對元件的開始邊界對齊（類似於android:layout_toStartOf） Souce BT 的結束邊界和Target BT 的開始邊界對齊 XML 表示方式 12345678&lt;Button android:text=&quot;Source Button&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:id=&quot;@+id/button3&quot; android:layout_marginTop=&quot;30dp&quot; app:layout_constraintTop_toBottomOf=&quot;@+id/button&quot; app:layout_constraintEnd_toStartOf=&quot;@+id/button&quot;/&gt; layout_constraintEnd_toEndOf: 元件的結束邊界和相對元件的結束邊界對齊（類似於android:layout_alignEnd） Souce BT 的結束邊界和Target BT 的結束邊界對齊 XML 表示方式 12345678&lt;Button android:text=&quot;Source Button&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:id=&quot;@+id/button3&quot; android:layout_marginTop=&quot;30dp&quot; app:layout_constraintTop_toBottomOf=&quot;@+id/button&quot; app:layout_constraintEnd_toEndOf=&quot;@+id/button&quot;/&gt; 垂直方向 layout_constraintTop_toTopOf: 元件的上邊界和相對元件的上邊界對齊（類似於android:layout_alignTop） Souce BT 的上邊界和Target BT 的上邊界對齊 XML 表示方式 123456789&lt;Button android:text=&quot;Source Button&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:id=&quot;@+id/button3&quot; app:layout_constraintLeft_toRightOf=&quot;@+id/button&quot; android:layout_marginLeft=&quot;30dp&quot; app:layout_constraintTop_toTopOf=&quot;@+id/button&quot;/&gt; layout_constraintTop_toBottomOf: 元件的上邊界和相對元件的下邊界對齊（類似於android:layout_below） Souce BT 的上邊界和Target BT 的下邊界對齊 XML 表示方式 123456789&lt;Button android:text=&quot;Source Button&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:id=&quot;@+id/button3&quot; app:layout_constraintLeft_toRightOf=&quot;@+id/button&quot; android:layout_marginLeft=&quot;30dp&quot; app:layout_constraintTop_toBottomOf=&quot;@+id/button&quot;/&gt; layout_constraintBottom_toTopOf: 元件的下邊界和相對元件的上邊界對齊（類似於android:layout_above） Souce BT 的下邊界和Target BT 的上邊界對齊 XML 表示方式 123456789&lt;Button android:text=&quot;Source Button&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:id=&quot;@+id/button3&quot; app:layout_constraintLeft_toRightOf=&quot;@+id/button&quot; android:layout_marginLeft=&quot;30dp&quot; app:layout_constraintBottom_toTopOf=&quot;@+id/button&quot;/&gt; layout_constraintBottom_toBottomOf: 元件的上邊界和相對元件的上邊界對齊（類似於android:layout_alignTop） Souce BT 的下邊界和Target BT 的下邊界對齊 XML 表示方式 123456789&lt;Button android:text=&quot;Source Button&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:id=&quot;@+id/button3&quot; app:layout_constraintLeft_toRightOf=&quot;@+id/button&quot; android:layout_marginLeft=&quot;30dp&quot; app:layout_constraintBottom_toBottomOf=&quot;@+id/button&quot;/&gt; layout_constraintBaseline_toBaselineOf: 元件的baseline和相對元件的baseline對齊（類似於android:layout_alignBaseline） Souce BT 的baseline和Target BT 的baseline對齊 XML 表示方式 123456789&lt;Button android:text=&quot;Source Button&quot; android:layout_width=&quot;158dp&quot; android:layout_height=&quot;87dp&quot; android:id=&quot;@+id/button3&quot; app:layout_constraintLeft_toRightOf=&quot;@+id/button&quot; android:layout_marginLeft=&quot;8dp&quot; app:layout_constraintBaseline_toBaselineOf=&quot;@+id/button&quot;/&gt;","link":"/2017/04/25/2017/2017_04_25-android_constraintlayout_relative_position/"},{"title":"Android - RelativeLayout Start&#x2F;End 與 Left&#x2F;Right 的不同","text":"在RelativeLayout的設計中, 一般來說Start = Left, End = Right 所以 android:layout_alignStart/End = android:layout_alignLeft/Rightandroid:layout_toStart/EndOf = android:layout_toLeft/RightOf 但以上規則只適用於讀法規則為由左而右開始的國家 如果讀法規則為由右開始的國家時, 會有以下的錯誤情況 XML的寫法使用 Left .xml12345678910111213141516171819202122232425&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; tools:context=&quot;.MainActivity&quot;&gt; &lt;Button android:id=&quot;@+id/button_1&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_alignParentTop=&quot;true&quot; android:layout_alignParentLeft=&quot;true&quot; android:layout_marginLeft=&quot;10dp&quot; android:layout_marginTop=&quot;10dp&quot; android:text=&quot;1-Button&quot; /&gt; &lt;Button android:id=&quot;@+id/button_2&quot; android:layout_width=&quot;200dp&quot; android:layout_height=&quot;wrap_content&quot; android:layout_marginTop=&quot;10dp&quot; android:layout_below=&quot;@+id/button_1&quot; android:layout_alignLeft=&quot;@+id/button_1&quot; android:text=&quot;2-Button&quot; /&gt;&lt;/RelativeLayout&gt; 執行結果 這對由右而左的國家來說是很不習慣的, 因為應該是要以右邊來對齊才對 因此Android 在API 17 (Android 4.2) 提出了通用的法則 Start / End, 可適用於 由左而右或由右而左的國家 XML的寫法使用 Start .xml12345678910111213141516171819202122232425&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; tools:context=&quot;.MainActivity&quot;&gt; &lt;Button android:id=&quot;@+id/button_1&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_alignParentTop=&quot;true&quot; android:layout_alignParentStart=&quot;true&quot; android:layout_marginStart=&quot;10dp&quot; android:layout_marginTop=&quot;10dp&quot; android:text=&quot;1-Button&quot; /&gt; &lt;Button android:id=&quot;@+id/button_2&quot; android:layout_width=&quot;200dp&quot; android:layout_height=&quot;wrap_content&quot; android:layout_marginTop=&quot;10dp&quot; android:layout_below=&quot;@+id/button_1&quot; android:layout_alignStart=&quot;@+id/button_1&quot; android:text=&quot;2-Button&quot; /&gt;&lt;/RelativeLayout&gt; 執行結果","link":"/2017/04/25/2017/2017_04_25-relativelayout_start_left_diff/"},{"title":"Android - ConstraintLayout 基本介紹","text":"ConstraintLayout為一個Support Library, 從Android 2.3 （API level 9）開始支援.之前的版面設計, 大多數的畫面只要用LinearLayout或RelativeLayout就能夠實作. 缺點是Layout層級太多, 造成設計更動上的困難, 且也較耗資源.要解決此缺點, 必須將Layout平面化, 因此推出了ConstraintLayout元件來達成此目的.(類似於iOS的AutoLayout) 在編寫畫面時, 一般都是利用XML代碼完成, 在AndroidStudio 2.2中已支持可視化的方式來編寫ConstraintLayout可讓使用者可以更直覺地設計界面. 在開始之前, 需要在build.gradle文件中添加函式庫 build.gradle123dependencies { compile 'com.android.support.constraint:constraint-layout:1.0.2'} ConstraintLayout和RelativeLayout類似, 元件必須和某一個元件相對.若我們將一個畫面拉到編輯畫面中, 如下圖 在角落會有四個藍色方框, 可用來調整元件大小 而四個白色圓點, 則是用來對齊某元件的.若按下紅框部份, 會顯示內容的baseline, 如下圖 可利用白色橢圓長條的部份來坐Baseline的對齊方式. 假設我們要使得物件位於中央時, 我們可拉動四個白色圓點, 分別拉到畫面的Top, Bottom, Left, Right 置中結果按下上圖中的紅框按鈕, 可將所有對齊條件清除 我們來看一下 xml 的寫法為 main_layout.xml12345678910111213&lt;Button android:text=&quot;Button A&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:id=&quot;@+id/button&quot; app:layout_constraintTop_toTopOf=&quot;parent&quot; app:layout_constraintLeft_toLeftOf=&quot;parent&quot; app:layout_constraintBottom_toBottomOf=&quot;parent&quot; app:layout_constraintRight_toRightOf=&quot;parent&quot; android:layout_marginTop=&quot;8dp&quot; android:layout_marginLeft=&quot;8dp&quot; android:layout_marginBottom=&quot;8dp&quot; android:layout_marginRight=&quot;8dp&quot; /&gt; layout_constraintLeft_toLeftOf : 元件的左邊界和parent的左邊界對齊layout_constraintRight_toRightOf: 元件的右邊界和parent的右邊界對齊layout_constraintTop_toTopOf: 元件的上邊界和parent的上邊界對齊layout_constraintBottom_toBottomOf: 元件的下邊界和parent的下邊界對齊 以上為ConstraintLayout的基本介紹","link":"/2017/04/25/2017/2017_04_25_android_constraintlayout/"},{"title":"Ubuntu - 設置AndroidStudio快速執行鍵","text":"在Ubuntu上安裝AndroidStudio後，無法在桌面產生快捷鍵可供使用。 我們可使用以下的方式，自行建立快捷鍵來使用。 在官網下載AndroidStudio並解壓縮後，會產生android-studio資料夾。進入android-studio/bin資料夾中後，按下右鍵 「新增文件-&gt;空白文件」在此我們取名為 「AndroidStudio.desktop」。 打開此文件，或是使用Vim輸入以下字串 AndroidStudio.desktop12345[Desktop Entry]Name=AndroidStudioType=ApplicationIcon=/您目錄的絕對路徑/android-studio/bin/studio.pngExec=sh /您目錄的絕對路徑/android-studio/bin/studio.sh 接著在「AndroidStudio.desktop」上點擊右鍵，將「屬性&gt;權限&gt;允許作為程序執行文件」打勾後會發現文件圖案變了。 此時已可雙擊執行，也可將此圖標拖曳到左邊快速功能鍵中， 鎖定在啟動欄中。 但在Ubuntu 18.04中，必須再執行以下動作。 將捷徑加入 dock bar 將AndroidStudio.desktop複製到 ~/.local/share/applications/ 便可在應用程式中找到AndroidStudio，並且可加入喜好中。 cms1sudo cp AndroidStudio.desktop ~/.local/share/applications/","link":"/2017/05/17/2017/2017_05_17-ubuntu-androidstudio-shortcut/"},{"title":"Android 人臉偵測","text":"這篇主要來介紹 Android API - FaceDetector 實做人臉偵測 設備環境Device : Acrer Iconia Tab 10Version : Android 6.0 (API 23, M) FaceDetector畫面中使用 ImageView 和 Button，ImageView用來顯示偵測的圖片點擊Button後，標示出人臉的部份。 ImageView預設讀入Resources中的圖片 點擊按鈕後，先讀取圖片再進行偵測 12345678910111213141516@Overridepublic void onClick(View v) { switch(v.getId()) { case R.id.button: ImageView imageView = findViewById(R.id.imageView); //讀取目前在ImageView 顯示的圖片 Bitmap source = ((BitmapDrawable)imageView.getDrawable()).getBitmap(); //人臉辨識 Bitmap detectMap = detectFace(source); //顯示辨識好的圖片 imageView.setImageBitmap(detectMap); break; default: break; }} 由於Android的人臉辨識，需要使用 RGB565的圖片，所以我們必須先轉換格式 1Bitmap source = bitmap.copy(Bitmap.Config.RGB_565, true); 轉換格式後，再透過 FaceDetector 進行人臉偵測 12345678910111213public Bitmap detectFace(Bitmap bitmap) { Bitmap source = bitmap.copy(Bitmap.Config.RGB_565, true); //設定最多可偵測臉數 int MAX_FACES = 5; FaceDetector faceDet = new FaceDetector(source.getWidth(), source.getHeight(), MAX_FACES); FaceDetector.Face[] faceArray = new FaceDetector.Face[MAX_FACES]; faceDet.findFaces(source, faceArray); //標示偵測到的區域 drawDetectRect(source, faceArray); return source;} 繪製偵測到的區域 12345678910111213141516171819202122232425262728293031public void drawDetectRect(Bitmap source, FaceDetector.Face[] faceArray) { int findFaceCount = faceArray.length; if (findFaceCount == 0) { return; } Canvas canvas = new Canvas(source); Paint p = new Paint(); p.setAntiAlias(true); p.setStrokeWidth(4); p.setStyle(Paint.Style.STROKE); p.setColor(Color.RED); PointF pf = new PointF(); RectF rf = new RectF(); for(int i = 0; i &lt; findFaceCount; i++) { FaceDetector.Face face = faceArray[i]; if (null != face) { //取得兩眼的中間點 face.getMidPoint(pf); //eyesDistance: 兩眼間的距離 rf.left = pf.x - face.eyesDistance(); rf.right = pf.x + face.eyesDistance(); rf.top = pf.y - face.eyesDistance(); rf.bottom = pf.y + face.eyesDistance(); canvas.drawRect(rf, p); } }} 執行結果","link":"/2018/07/09/2018/2018_07_09-facedetect/"},{"title":"Android Permissions Request","text":"在 Android 6 (API 23, M) 之後，除了在AndroidManifest中宣告權限之外，還必須在程式中動態請求權限。 Permissions Request 相關API如下： //檢查是否已取得權限ActivityCompat.checkSelfPermission//確認是否已在請求權限中ActivityCompat.shouldShowRequestPermissionRationale//請求權限ActivityCompat.requestPermissions 首先在AndroidManifest.xml中宣告權限。 AndroidManifest.xml12345678910&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; package=&quot;com.nickthomas55.camera.facedetect&quot;&gt; &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt; &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt; &lt;application&gt; ... &lt;/application&gt;&lt;/manifest&gt; 在onCreate時，檢查是否已取得權限。 MainActivity.java12345678910111213@Overrideprotected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); int rc = ActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA); if (rc == PackageManager.PERMISSION_GRANTED) { //do something } else { //請求權限 requestPermissions(); }} 可將所有需要的權限，命名一個String Array，之後做一次性的請求。 MainActivity.java12345private static String[] PERMISSIONS_STORAGE = { Manifest.permission.READ_EXTERNAL_STORAGE, Manifest.permission.WRITE_EXTERNAL_STORAGE, Manifest.permission.CAMERA}; 先利用ActivityCompat.shouldShowRequestPermissionRationale檢查現在是否已經在請求中。若應用程式沒有在請求時，我們再向系統請求權限。 MainActivity.java123456private void requestPermissions() { if (!ActivityCompat.shouldShowRequestPermissionRationale(this,Manifest.permission.CAMERA)) { ActivityCompat.requestPermissions(this, PERMISSIONS_STORAGE, RC_HANDLE_CAMERA_PERM); return; }} 執行結果 取得權限後，我們可由 Settings -&gt; Apps -&gt; 您的應用程式名稱 -&gt; Permissions 中，查看並管理權限。","link":"/2018/07/12/2018/2018_07_12-permission/"},{"title":"Android Camera2","text":"Android 5 (API 21, L) 新增加了Camera2，和之前的Camera使用起來較複雜，但是多了許多功能，支援RAW輸出、調整對焦模式、曝光模式等。 Camera2 首先先了解幾個重要的Class CameraManager : 管理攝影設備，主要功用是獲取所有攝影設備和打開指定的攝影鏡頭。 CameraDevice : 攝影設備，可透過CameraManager.openCamera()來取得。 CameraCaptureSession : 用於處理拍照及預覽工作。 CaptureRequest ：捕捉畫面請求，用來定義輸出緩衝區及顯示 (TextureView or SurfaceView) 我們在畫面中加入一個TextureView，用來預覽攝影鏡頭目前捕捉到的畫面。並設定Listener監聽TextureView是否已設置好。 程式參數 MainActivity.java123456789101112131415161718private TextureView mTextureView;private Size mPreviewSize;private CameraDevice mCameraDevice;private String mCameraId;private ImageReader mImageReader;private CaptureRequest.Builder mCaptureRequestBuilder;private CaptureRequest mCaptureRequest;private CameraCaptureSession mPreviewSession;private static String[] PERMISSIONS_STORAGE = { Manifest.permission.READ_EXTERNAL_STORAGE, Manifest.permission.WRITE_EXTERNAL_STORAGE, Manifest.permission.CAMERA};private static final int RC_HANDLE_CAMERA_PERM = 2; MainActivity: onCreate12mTextureView = findViewById(R.id.textureView);mTextureView.setSurfaceTextureListener(textureListener); 當TextureView設置好之後，再來設置並打開攝影鏡頭。 MainActivity.java123456789TextureView.SurfaceTextureListener textureListener = new TextureView.SurfaceTextureListener() { @Override public void onSurfaceTextureAvailable(SurfaceTexture surface, int width, int height) { //設置攝影鏡頭 setupCamera(width, height); //打開攝影鏡頭。 openCamera(); }}; 利用CamaraManager取得所有攝影鏡頭的資訊，此例子使用後置鏡頭，我們可根據CameraCharacteristics屬性略過前置鏡頭並開啟後置鏡頭。 由於攝影鏡頭支援眾多格式和大小，可由StreamConfigurationMap取得這些屬性。根據TextureView的長寬，設定攝影鏡頭的格式與大小。 MainActivity.java12345678910111213141516171819202122private void setupCamera(int width, int height) { CameraManager manager = (CameraManager) getSystemService(Context.CAMERA_SERVICE); try { //獲取所有攝影設備 String[] cameraList = manager.getCameraIdList(); for (String cameraId: cameraList) { //取得攝影設備屬性 CameraCharacteristics characteristics = manager.getCameraCharacteristics(cameraId); //不擷取前置鏡頭的畫面 if (characteristics.get(CameraCharacteristics.LENS_FACING) == CameraCharacteristics.LENS_FACING_FRONT) continue; //取得StreamConfigurationMap，取得攝影鏡頭支持的所有輸出格式和尺寸 StreamConfigurationMap map = characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP); //根據TextureView的尺寸設置預覽尺寸 mPreviewSize = getOptimalSize(map.getOutputSizes(SurfaceTexture.class), width, height); mCameraId = cameraId; break; } } catch (CameraAccessException e) { e.printStackTrace(); }} MainActivity.java123456789101112131415161718192021222324//選擇sizeMap中最接近width和height的尺寸private Size getOptimalSize(Size[] sizeMap, int width, int height) { List&lt;Size&gt; sizeList = new ArrayList&lt;&gt;(); for (Size option : sizeMap) { if (width &gt; height) { if (option.getWidth() &gt; width &amp;&amp; option.getHeight() &gt; height) { sizeList.add(option); } } else { if (option.getWidth() &gt; height &amp;&amp; option.getHeight() &gt; width) { sizeList.add(option); } } } if (sizeList.size() &gt; 0) { return Collections.min(sizeList, new Comparator&lt;Size&gt;() { @Override public int compare(Size lhs, Size rhs) { return Long.signum(lhs.getWidth() * lhs.getHeight() - rhs.getWidth() * rhs.getHeight()); } }); } return sizeMap[0];} 根據mCameraId來決定要開啟的鏡頭，並設置CameraDevice.StateCallback監聽狀態。 MainActivity.java123456789101112131415private void openCamera() { CameraManager manager = (CameraManager) getSystemService(Context.CAMERA_SERVICE); try { //檢查權限 if (ActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) { //請求權限 ActivityCompat.requestPermissions(this, PERMISSIONS_STORAGE, RC_HANDLE_CAMERA_PERM); return; } //根據mCameraId來決定要開啟的鏡頭 manager.openCamera(mCameraId, mStateCallback, null); } catch (CameraAccessException e) { e.printStackTrace(); }} MainActivity.java123456789101112131415161718private final CameraDevice.StateCallback mStateCallback = new CameraDevice.StateCallback() { @Override public void onOpened(CameraDevice camera) { mCameraDevice = camera; //預覽畫面 startPreview(); } @Override public void onDisconnected(@NonNull CameraDevice camera) { Log.e(TAG, &quot;onDisconnected&quot;); } @Override public void onError(@NonNull CameraDevice camera, int error) { Log.e(TAG, &quot;onError: &quot; + error); }}; 設置預覽畫面，將捕捉到的畫面顯示於TextureView中。 MainActivity.java1234567891011121314151617private void startPreview() { SurfaceTexture mSurfaceTexture = mTextureView.getSurfaceTexture(); //設置TextureView的緩衝區大小 mSurfaceTexture.setDefaultBufferSize(mPreviewSize.getWidth(), mPreviewSize.getHeight()); //獲取Surface顯示預覽數據 Surface mSurface = new Surface(mSurfaceTexture); try { //創建預覽請求CaptureRequestBuilder，TEMPLATE_PREVIEW mCaptureRequestBuilder = mCameraDevice.createCaptureRequest(CameraDevice.TEMPLATE_PREVIEW); //設置Surface作為預覽顯示界面 mCaptureRequestBuilder.addTarget(mSurface); //創建捕捉畫面，並設置callback mCameraDevice.createCaptureSession(Arrays.asList(mSurface),mCaptureCallback, null); } catch (CameraAccessException e) { e.printStackTrace(); }} 當預覽請求設置好之後，設定Repeat，讓畫面持續更新。 MainActivity.java12345678910111213141516171819private final CameraCaptureSession.StateCallback mCaptureCallback = new CameraCaptureSession.StateCallback() { @Override public void onConfigured(CameraCaptureSession session) { try { //創建捕獲請求 mCaptureRequest = mCaptureRequestBuilder.build(); mPreviewSession = session; //設置反覆捕獲數據，持續畫面更新 mPreviewSession.setRepeatingRequest(mCaptureRequest, null, null); } catch (CameraAccessException e) { e.printStackTrace(); }} @Override public void onConfigureFailed(CameraCaptureSession session) { }}; 執行結果","link":"/2018/07/17/2018/2018_07_17-camera2/"},{"title":"Android adb no permission","text":"在Ubuntu開發Android時，有時會遇到adb無法使用的情況。 這次遇到的情況是 no permissions (user in plugdev group; are your udev rules wrong? )。 解決方式 新增ADB USB 裝置資訊 首先先查看usb裝置資訊，打開終端機輸入 lsusb。 以此例子裝置資訊為 : 2207。 新增USB裝置資訊於 adb_usb.ini，此檔案位於根目錄底下的隱藏資料夾 .android 中。 cmd1vim .android/adb_usb.ini 打開檔案後新增USB裝置資訊 0x2207 增加Rules 切換成root，並在 /etc/udev/rules.d 資料夾中增加rules檔案。 cmd12sudo -ivim /etc/udev/reuls.d/box-android.rules 輸入資訊 box-android.rules12SUBSYSTEM==&quot;usb&quot;, ATTR{idVendor}==&quot;2207&quot;,MODE=&quot;0666&quot;, GROUP=&quot;plugdev&quot;, SYMLINK+=&quot;android_adb&quot;, OWNER=&quot;nick&quot; 儲存後，再修改rules檔案權限。 cmd1chmod a+rx box-android.rules 最後再重新開機，就可以找到裝置了。","link":"/2018/07/24/2018/2018_07_24-adb_no_permissions/"},{"title":"Android aar檔打包與引用","text":"開發專案時，Android可選擇.jar檔或.aar檔的方式，提供 API 供第三方開發者所使用。 但.jar檔只包含.class和文件清單，無法引用資源檔，如圖片等所有res中的文件，而.aar檔可引用所有檔案。 此篇主要針對 .aar 檔案的打包與引用來做介紹。 打包 .aar 檔 由於我們只提供API，而沒有畫面操作，所以選擇沒有Activity的Module來製作。 此時右上角區域顯示無法執行 or build。 到 Edit Configurations 中，將 Launch Options 更改為 Nothing Step 1: 更改為輸出library Gradle 中對於 apply plugin的定義為 12apply plugin: 'com.android.application' //預設值為输出 apkapply plugin: 'com.android.library' //输出 library 要輸出.aar檔，在build.gradle中將Module配置為 library。 build.gradle1apply plugin: 'com.android.library' //输出 library Step 2: 刪除 applicationId** build.gradle1234defaultConfig { //applicationId &quot;com.nickthomas55gmail.testaar&quot; ... } Step 3: 產生.aar檔 打開 Gradle Projects (View -&gt; Tool Windows -&gt; Gradle) 或是點擊畫面右方的Gradle icon 到根目錄 Projects中，點擊assemble 執行成功後，可在module中 build -&gt; outputs -&gt; aar 找到相關的 aar檔。 module_name-debug.aarmodule_name-release.aar 引用 .aar 檔 打開Project Structure，選擇Import Jar/Aar Package，引用aar檔。 並在build.gradle的dependencies中增加compile project *** :module_name*** build.gradle12345dependencies { compile project(':module_name-release') ...} 此時就可在專案中，使用.aar中的class與資源檔了。","link":"/2018/08/03/2018/2018_08_03-aar_packaged_import/"},{"title":"Android GradientDrawable 漸變效果","text":"一般我們繪製背景圖時，會使用.9.png來設置。遇到漸層背景時，除了透過.9.png設置之外，還可以使用Android本身所提供的shape標籤來實現。 GradientDrawable靜態使用 在drawable中創建一個xml文件 123456789101112131415161718192021&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:shape=&quot;rectangle&quot; &gt; &lt;size android:width=&quot;200dp&quot; android:height=&quot;200dp&quot;/&gt; &lt;corners android:radius=&quot;10dp&quot;/&gt; &lt;gradient android:startColor=&quot;@android:color/white&quot; android:centerColor=&quot;@android:color/holo_red_light&quot; android:endColor=&quot;@android:color/black&quot; android:useLevel=&quot;false&quot; android:angle=&quot;90&quot; android:type=&quot;radial&quot; android:centerX=&quot;0.5&quot; android:centerY=&quot;0.5&quot; android:gradientRadius=&quot;50&quot;/&gt;&lt;/shape&gt; android:shape = [“rectangle” | “oval” | “line” | “ring”] shape形狀，默認為矩形 rectangle，亦可設置橢圓形oval、線性line、環形ring android:radius : 圓角大小 漸變顏色android:startColor : 起始顏色android:centerColor : 中間值顏色，從起始顏色到結束顏色的變化過程中的中繼顏色android:endColor: 結束顏色 android:useLevel : true (無漸變) | false (有漸變) android:angle : 漸變角度 以45度為一個單位。0 - 由左至右 ; 90 - 由下至上 ; 180 - 由右至左 ; 270 - 由上至下 android:type : 漸變樣式 [linear | radial | sweep] linear 線性漸變 (默認設置) radial 放射式漸變 sweep 雷達式漸變、掃描線式漸變 android:centerX, android:centerY : 中心點相對位置 值域從 0.0 ~ 1.0，此案例設定在中心點，所以 android:centerX和 android:centerY皆為0.5。 android:gradientRadius: 漸變色半徑 當設定android:type=radial 時，一定要設定此項目，否則會發生XmlPullParserException。 動態使用 使用xml來設定shape，最終都是轉成GradientDrawable，並非為ShapeDrawable, 也不是 OvalShape，RoundRectShape等。 程式設計如下：(使用Kotlin語法) 123456789101112var imageView = findViewById&lt;ImageView&gt;(R.id.photo)var gd = GradientDrawable()gd.gradientType = GradientDrawable.RECTANGLE //android:shapegd.cornerRadius = 10.0F //android:radius gd.colors = intArrayOf(Color.WHITE, Color.RED, Color.BLACK) //android:centerColor, android:startColor, android:endColorgd.useLevel = false //android:useLevelgd.gradientType = GradientDrawable.RADIAL_GRADIENT //android:type gd.setGradientCenter(0.5F, 0.5F) //android:centerX, android:centerYgd.gradientRadius = 50.0F //android:gradientRadiusimageView.background = gd android:angle 在 Kotlin中已被取消，必須透過GradientDrawable.Orientation.* 來達成功能。 如: 1gd.orientation = GradientDrawable.Orientation.TOP_BOTTOM 動態更改 既然我們可以動態配置GradientDrawable，那也可以透過動態修改來改變其背景。相關設定如下 123var imageView = findViewById&lt;ImageView&gt;(R.id.photo)var gd = imageView.background as GradientDrawablegd.colors = intArrayOf(Color.WHITE, Color.BLUE, Color.BLACK)","link":"/2018/08/07/2018/2018_08_07-gradientdrawable/"},{"title":"Android 更新Aar檔案","text":"在開發時，有時需要引用第三方library - jar檔或者aar檔。這次遇到要更新aar檔案時，發生沒有更新成功的問題。 將新的aar檔覆蓋舊的aar檔後，參考網路上的方式，rebuild / sync gradle / File -&gt; Invalidate Caches and Restart… 都無法成功 最後使用以下方式可成功更新 aar 檔 Step 1: 在你的 Project資料夾下，顯示所有隱藏檔 Step 2: 再到 /.idea/libraries 資料夾下 Step 3: 找到Gradle__artifacts_[aar_name].xml，刪除此檔案 Step 4: 回到Android Studio，File -&gt; Sync Projech with Gradle Files 即可","link":"/2018/08/09/2018/2018_08_09-update_aar/"},{"title":"AndroidStudio Clean Project 錯誤","text":"最近將buildToolsVersion更改為 27.0.3及更新NDK 17r後，使用Clean Project時，發生Error。 在網路上搜尋解法，使用了以下的方式都無法解決。 配置ndk 在build.gradle加入 ndk 及 sourceSets。 將 NDK 降板 心想有可能是Android NDK 17r的問題，因此嘗試將NDK降回到16r，依舊無解。 增加屬性multiDexEnabled 有文章指出可能是library重複了或者是使用了65K以上的Method，可以採取增加屬性multiDexEnabled來解決。 文章出處 以上方式都無法解決後，只好一步一步解析到底是在哪邊發生錯誤。 在Terminal中輸入以下指令。 terminal1./gradlew assembleDebug --info 錯誤原因：jni_gstreamer 中armeabi ABI 已不再被支援。 查看Android Developer文件 ，armeabi在NDK 17r已移除，須改用armeabi-v7a。 解決方式 修改 /jni_gstreamer/src/main/jni/Application.mk，將APP_ABI := armeabi更改為 Application.mk1APP_ABI := armeabi-v7a 再重新Clean Project和Build即可。","link":"/2018/08/31/2018/2018_08_31-non_zero_exit_value_2/"},{"title":"Android loadLibrary - dlopen failed","text":"先前具有系統權限下，使用System.loadLibrary可正常的讀取到system/lib底下的.so檔但在Android 8 (SDK 26, M) 卻得到以下訊息而Crash java.lang.UnsatisfiedLinkError: dlopen failed: library “/system/lib/libcutils.so” is not accessible for the namespace “classloader-namespace” 原因是Anroid 7 (SDK 24, N) 避免載入非公開API時，會使得APP Crash。 網路上解決方式有以下幾種 修改system/etc/public.libraries.txt 將非官方library的名稱libgstreamer.so加入到public.libraries.txt中。 但此方式在我開發的機器上會失敗而無法進入到Android 桌面，或許是需要燒image的方式才能成功。 指定讀取 vendor lib 可將第三方library放到vendor/lib中，此方法試過是可行的。 device manufactures 機制 在Android 9提供了device manufactures 機制，依然可將library放到system/lib之中，但是必須將library命名為 lib*COMPANYNAME.so 如 libgstreamer.qisda.so 並在system/etc/中增加 public.libraries-COMPANYNAME.txt 由於手上無Android 9 的機器，此方式還未測試過。 Reference source.android.com","link":"/2019/03/27/2019/2019_03_27-system_loadlibrary_linkerror/"},{"title":"架設HttpServer - NanoHttpd","text":"NanoHttpd是一個輕量級的Http Server，可在本地端接收Http Client所傳來的訊息。 Step 1: 下載 .jar 檔 NanoHttpd jar 下載網址https://github.com/NanoHttpd/nanohttpd/releases Step 2: 將下載的.jar檔案，放置到 (App Name)/lib 資料夾底下 Step 3: build.gradle 中添加 .jar檔的資訊 build.gradle12345678android { ...}dependencies { ... compile files('libs/nanohttpd-2.3.1.jar')} Step 4: 新增加class，並繼承NanoHTTPD NanoHttpServer.java12345public class NanoHttpServer extends NanoHTTPD { public NanoHttpServer(int port) { super(port); }} Step 5: 建立NanoHttpServer並啟動HttpServer 設定一組port來進行溝通，此例子使用6600 port來監聽socket間的溝通 MainActivity.java12mHttpServer = new NanoHttpServer(6600);mHttpServer.start(); Step 6: 接收Client端的訊息 當Client連接上，並傳送訊息時，可由serve(IHTTPSession session) 接收訊息並回傳Response NanoHttpServer.java123456789101112131415161718@Override public Response serve(IHTTPSession session) { String uri = session.getUri(); String method = session.getMethod().name(); String remoteIp = session.getRemoteIpAddress(); NxLog.e(TAG, &quot;uri: &quot; + uri); NxLog.e(TAG, &quot;method: &quot; + method); NxLog.e(TAG, &quot;remoteIp: &quot; + remoteIp); InputStream is = session.getInputStream(); ... String msg = &quot;Send response to client&quot;; return newFixedLengthResponse(msg); } 不過需要注意的是IHTTPSession的getInputStream，讀完數據流後不會回傳 -1 或者結束符號，必須自己控制何時結束。 我們可取一個buffer size來控制，當讀入的數據長度小於此buffer size則跳出迴圈表示已讀完數據流。 1234567891011121314try { InputStream is = session.getInputStream(); int buffer_szie = 1024; byte[] buffer = new byte[buffer_szie]; int length = 0; do { length = is.read(buffer); //... } while(length &gt;= buffer_szie );} catch (IOException e) { e.printStackTrace();}","link":"/2019/04/01/2019/2019_04_01-nanohttpd/"},{"title":"How to build GStreamer","text":"Step 1: 下載GStreamer 先到官網下載GStreamer source codehttps://gstreamer.freedesktop.org/data/pkg/android/ Step 2: 下載gst-docs cmd1git clone git://anongit.freedesktop.org/gstreamer/gst-docs Step 3: 在AndroidStudio新增Project 在此我們選擇android-tutorial-3(gst-docs/examples/tutorials/android-tutorial-3) Step 4: 增加 GSTREAMER_ROOT_ANDROID 路徑 在/examples/tutorials/android/android-tutorial-3/jni/Android.mk中增加GSTREAMER_ROOT_ANDROID 路徑, 路徑為剛剛在步驟一所下載的GStreamer Android.mk1234567include $(BUILD_SHARED_LIBRARY)GSTREAMER_ROOT_ANDROID := /home/nick/Git/gstreamerifndef GSTREAMER_ROOT_ANDROID$(error GSTREAMER_ROOT_ANDROID is not defined!)endif Step 5: 修改GSTREAMER_ROOT的判斷 根據支援的cpu 架構，刪除其餘的判斷式以armv7為例 Android.mk1GSTREAMER_ROOT:= $(GSTREAMER_ROOT_ANDROID)/armv7 Step 6: 修改build.grade 在/examples/tutorials/android/android-tutorial-3/build.gradle中刪除gstRoot的code 刪除以下程式碼 android-tutorial-3/build.gradle1234567891011def gstRootif (project.hasProperty('gstAndroidRoot')) gstRoot = project.gstAndroidRootelse gstRoot = System.env.GSTREAMER_ROOT_ANDROIDif (gstRoot == null) throw new GradleException...arguments &quot;NDK_APPLICATION_MK=jni/Application.mk&quot;, &quot;GSTREAMER_JAVA_SRC_DIR=src&quot;, &quot;GSTREAMER_ROOT_ANDROID=$gstRoot&quot;, &quot;GSTREAMER_ASSETS_DIR=src/assets&quot; Step 7: 過濾ABI 修改build.grade build.grade123456externalNativeBuild { ndkBuild { targets &quot;tutorial-3&quot; abiFilters 'armeabi-v7a' } } Step 8:更改/examples/tutorials/android/settings.gradle 將include ‘:android-tutorial-1’, include ‘:android-tutorial-2’include ‘:android-tutorial-4’, include ‘:android-tutorial-5’ 刪除 Step 9: 重新編譯 編譯後，可在/examples/tutorials/android/android-tutorial-3/gst-build-armeabi-v7a中取得libgstreamer_android.so","link":"/2019/04/03/2019/2019_04_03-build_gstreamer/"},{"title":"Android 區域網路 - JCIFS Library","text":"在Android 機器上想要讀取Windows 或 Linux 網路芳鄰中檔案時, 可使用第三方Library : Jcifs 來實現. Jcifs 屬於 LGPL License, 只要不更改到 Jcifs 相關source code就不須將Souce Code 公開. 但Jcifs目前只支援smb 1，不支援smb 2/smb 3。若要支援smb 2/3 可使用 jcifs-ng smbj Step 1: 取得 Jcifs jar 檔案 可從官網 ：https://jcifs.samba.org/ 下載 jar 檔. 將jar檔案複製到 /project_name/libs 中 Step 2: 設定 Library 在Project檔案列表中, 在libs/jcifs-1.3.19.jar按右鍵, 選擇 Add to Library Step 3: 取得遠端檔案 無使用者帳號密碼 String remoteURL = “smb://192.168.0.155”;SmbFile dir = new SmbFile(remoteURL); 需要使用者帳號密碼 NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(null, userName, password);String remoteURL = “smb://192.168.0.155”;SmbFile dir = new SmbFile(remoteURL, auth); Step 4: 下載遠端檔案 123456789101112131415161718String remoteURL = &quot;smb://192.168.0.155&quot;;String remoteFile = &quot;//qtytr01publicnb//cmsfiles//test.csv&quot;;NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(null, userName, password);SmbFile dir = new SmbFile(remoteURL + remoteFile, auth);SmbFileInputStream inputSmbFileStream = new SmbFileInputStream(smbFile);File localFile = new File(filePath);FileOutputStream outputFileStream = new FileOutputStream(localFile);byte[] buffer = new byte[4096];int length = 0;while ((length = inputSmbFileStream.read(buffer)) &gt; 0) { outputFileStream.write(buffer, 0, length);}outputFileStream.close();inputSmbFileStream.close();","link":"/2019/04/08/2019/2019_04_08-jcifs/"},{"title":"Android 區域網路 - Jcifs-ng","text":"Android 與 Windows之間可透過smb socket技術在區網中上傳或下載檔案。 之前提過使用Jcifs library來達成此功能，但是Jcifs只支援smb 1，而不支援smb 2/smb 3。 因此需要透過其他library來完成，如smbj或jcifs-ng。 由於smbj需要使用Android SDK 26 (Android O, Android 8)，目前手邊沒有這些設備，所以本篇使用jcifs-ng來實做。 Step 1: 引用 Jcifs -ng 在Jcifs-ng官網中說明，引用Jcifs-ng只要在build.gradle中添加 build.gradle12345&lt;dependency&gt; &lt;groupId&gt;eu.agno3.jcifs&lt;/groupId&gt; &lt;artifactId&gt;jcifs-ng&lt;/artifactId&gt; &lt;version&gt;2.1.2&lt;/version&gt;&lt;/dependency&gt; 亦可更改為 build.gradle12345678android { ...}dependencies { ... compile 'eu.agno3.jcifs:jcifs-ng:2.1.2'} Step 2: 取得遠端檔案 1234567891011121314151617181920212223String userName = &quot;user&quot;;String password = &quot;1234&quot;;String remoteFile = &quot;/files/test.csv&quot;;String remoteURL = &quot;smb://nickpublicpc&quot;;CIFSContext baseCxt = new BaseContext(new PropertyConfiguration(System.getProperties()));NtlmPasswordAuthenticator auth = new NtlmPasswordAuthenticator(userName, password);CIFSContext ct = baseCxt.withCredentials(auth);SmbFile smbFile = new SmbFile(remoteURL + remoteFile, ct);SmbFileInputStream inputSmbFileStream = new SmbFileInputStream(smbFile);File localFile = new File(filePath);FileOutputStream outputFileStream = new FileOutputStream(localFile);byte[] buffer = new byte[4096];int length = 0;while ((length = inputSmbFileStream.read(buffer)) &gt; 0) { outputFileStream.write(buffer, 0, length);}outputFileStream.close();inputSmbFileStream.close(); 以上便可透過smb server來取得區域網路中的文件，但Jcifs-ng只支援部份smb 3，需要看看往後版本會不會再更新了。","link":"/2019/04/09/2019/2019_04_09-jcifs_ng/"},{"title":"Android TensorFlow Lite 辨識物品","text":"由於最近需要去研究人臉辨識的實作方式，雖然目前網路上提供很多SDK，不過大多數都是要付費使用，畢竟一個Machine Learning的資料庫也需要維護，所以大部分不會有免費使用的SDK。 在網路上搜尋後，找到了一個輕量化的開源資料庫 - TensorFlow Lite 本篇先以辨識圖像的例子來解說，往後再介紹人臉辨識的方式。 參考文章 Step 1: 下載TensorFlow模型 使用MobileNet_v1_1.0_224的模型 下載點 解壓縮之後可以找到 mobilenet_v1_1.0_224.tflite這個檔案 Step 2: 下載模型Label 上述的模型共有1001個分類，不過壓縮檔內沒有包含分類好的標籤，已分類好的標籤可由此下載 下載點 Step 3: 引用TensorFlow Lite 在build.gradle的dependencies中加入libraries build.gradle12345dependencies { ... implementation 'com.github.bumptech.glide:glide:4.3.1' implementation 'org.tensorflow:tensorflow-lite:0.0.0-nightly'} 然後在android的項目中加入以下代碼，主要是避免壓縮tensor lite的模型 build.gradle123456android { ... aaptOptions { noCompress &quot;tflite&quot; }} Step 4: 添加模型 在main目錄下創建assets，將剛剛.tflite和label .txt檔案放到此處。 在畫面中使用兩個按鈕: 引用模型和分析圖片 點擊引用模型的代碼如下 loadModeFile : 把模型文件讀取成ByteBuffer，並交給Interpreter初始化。load_mode : 取得Interpreter後，使用這個物件來分析圖像，並設置使用的Thread 數量 (tflite.setNumThreads) MainActivity.java12345678910111213141516171819202122232425262728293031323334353637private final String MODEL_NAME = &quot;mobilenet_v1_1.0_224&quot;;private Interpreter tflite = null;@Overridepublic void onClick(View v) { switch(v.getId()) { case R.id.load_model: load_model(MODEL_NAME); break; ... }}private void load_model(String model) { try { tflite = new Interpreter(loadModelFile(model)); Toast.makeText(MainActivity.this, model + &quot; model load success&quot;, Toast.LENGTH_SHORT).show(); Log.d(TAG, model + &quot; model load success&quot;); tflite.setNumThreads(4); load_result = true; } catch (IOException e) { Toast.makeText(MainActivity.this, model + &quot; model load fail&quot;, Toast.LENGTH_SHORT).show(); Log.d(TAG, model + &quot; model load fail&quot;); load_result = false; e.printStackTrace(); }}private ByteBuffer loadModelFile(String model) throws IOException { AssetFileDescriptor fileDescriptor = getApplicationContext().getAssets().openFd(model + &quot;.tflite&quot;); FileInputStream inputStream = new FileInputStream(fileDescriptor.getFileDescriptor()); FileChannel fileChannel = inputStream.getChannel(); long startOffset = fileDescriptor.getStartOffset(); long declaredLength = fileDescriptor.getDeclaredLength(); return fileChannel.map(FileChannel.MapMode.READ_ONLY, startOffset, declaredLength);} Step 5: 添加Label 在程式開始時，先讀入Label文件 MainActivity.java1234567891011121314151617181920@Overrideprotected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); ... readCacheLabelFromLocalFile();}private void readCacheLabelFromLocalFile() { try { AssetManager assetManager = getApplicationContext().getAssets(); BufferedReader reader = new BufferedReader(new InputStreamReader(assetManager.open(LABEL_NAME + &quot;.txt&quot;))); String readLine = null; while ((readLine = reader.readLine()) != null) { resultLabel.add(readLine); } reader.close(); } catch (Exception e) { Log.e(&quot;labelCache&quot;, &quot;error &quot; + e); }} Step 6: 分析圖片 predict_image ：先取得圖片後，對圖片進行壓縮，之後把圖片轉成ByteBuffer格式後，再調用Interpreter.run()進行分析。get_max_result : 取得分析之後，機率最高的Label MainActivity.java123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101private List&lt;String&gt; resultLabel = new ArrayList&lt;&gt;();private ImageView mImage;private int[] ddims = {1, 3, 224, 224};private TextView mResult;@Overridepublic void onClick(View v) { switch(v.getId()) { ... case R.id.use_photo: RequestOptions options = new RequestOptions().skipMemoryCache(true).diskCacheStrategy(DiskCacheStrategy.NONE); File file = new File(&quot;/storage/sdcard1/mouse.jpeg&quot;); Uri photoUri = Uri.fromFile(file); Glide.with(MainActivity.this).load(photoUri).apply(options).into(mImage); predict_image(file.getAbsolutePath()); break; default: break; }}private void predict_image(String image_path) { // picture to float array Bitmap bmp = getScaleBitmap(image_path); ByteBuffer inputData = getScaledMatrix(bmp, ddims); try { float[][] labelProbArray = new float[1][1001]; long start = System.currentTimeMillis(); // get predict result tflite.run(inputData, labelProbArray); long end = System.currentTimeMillis(); long time = end - start; float[] results = new float[labelProbArray[0].length]; System.arraycopy(labelProbArray[0], 0, results, 0, labelProbArray[0].length); // show predict result and time int r = get_max_result(results); String show_text = &quot;result：&quot; + r + &quot;\\nname：&quot; + resultLabel.get(r) + &quot;\\nprobability：&quot; + results[r] + &quot;\\ntime：&quot; + time + &quot;ms&quot;; mResult.setText(show_text); } catch (Exception e) { e.printStackTrace(); }}private Bitmap getScaleBitmap(String filePath) { BitmapFactory.Options opt = new BitmapFactory.Options(); opt.inJustDecodeBounds = true; BitmapFactory.decodeFile(filePath, opt); int bmpWidth = opt.outWidth; int bmpHeight = opt.outHeight; int maxSize = 500; // compress picture with inSampleSize opt.inSampleSize = 1; while (true) { if (bmpWidth / opt.inSampleSize &lt; maxSize || bmpHeight / opt.inSampleSize &lt; maxSize) { break; } opt.inSampleSize *= 2; } opt.inJustDecodeBounds = false; return BitmapFactory.decodeFile(filePath, opt);}private ByteBuffer getScaledMatrix(Bitmap bitmap, int[] ddims) { ByteBuffer imgData = ByteBuffer.allocateDirect(ddims[0] * ddims[1] * ddims[2] * ddims[3] * 4); imgData.order(ByteOrder.nativeOrder()); // get image pixel int[] pixels = new int[ddims[2] * ddims[3]]; Bitmap bm = Bitmap.createScaledBitmap(bitmap, ddims[2], ddims[3], false); bm.getPixels(pixels, 0, bm.getWidth(), 0, 0, ddims[2], ddims[3]); int pixel = 0; for (int i = 0; i &lt; ddims[2]; ++i) { for (int j = 0; j &lt; ddims[3]; ++j) { final int val = pixels[pixel++]; imgData.putFloat(((((val &gt;&gt; 16) &amp; 0xFF) - 128f) / 128f)); imgData.putFloat(((((val &gt;&gt; 8) &amp; 0xFF) - 128f) / 128f)); imgData.putFloat((((val &amp; 0xFF) - 128f) / 128f)); } } if (bm.isRecycled()) { bm.recycle(); } return imgData;}private int get_max_result(float[] result) { float probability = result[0]; int r = 0; for (int i = 0; i &lt; result.length; i++) { if (probability &lt; result[i]) { probability = result[i]; r = i; } } return r;} 執行結果","link":"/2019/04/10/2019/2019_04_10-tensorflow_lite_object_recognition/"},{"title":"Android TensorFlow Lite 人臉辨識","text":"在上一篇，我們介紹過使用TensorFlow Lite來辨識物品，此篇我們來探討如何達成人臉辨識。由於無法取得TensorFlow Lite的人臉模型，因此我們必須自已訓練模型來分析圖片。 參考文章 Step 1: 安裝TensorFlow 我們在Ubuntu機器上先安裝TensorFlow cmd12pip install --upgrade &quot;tensorflow==1.7.*&quot;pip install PILLOW Step 2: 下載TensorFlow Script cmd12git clone https://github.com/googlecodelabs/tensorflow-for-poets-2cd tensorflow-for-poets-2 Step 3: 下載訓練圖片 我們在網路上擷取一些圖片，來當作訓練資料。 每種圖片至少要20張。 將下載好的圖片放置/tensorflow-for-poets-2/tf_files中，並使用一個父類別的資料夾，如/tensorflow-for-poets-2/tf_files/people/cheryl/tensorflow-for-poets-2/tf_files/people/fivebear/tensorflow-for-poets-2/tf_files/people/sonia 在父類別資料夾中的子資料夾名稱，之後會成為我們訓練出來的Label名稱 Step 4: 設定Config 繼續在終端機輸入 IMAGE_SIZE : 圖像解析度，若設的太高，則分析起來會花比較長的時間。可設定的值為 128,160,192, or 224pxARCHITECTURE : 設定比對值，可設定為 1.0, 0.75, 0.50, or 0.25。 cmd12IMAGE_SIZE=224ARCHITECTURE=&quot;mobilenet_0.50_${IMAGE_SIZE}&quot; Step 5: 訓練資料 在終端機輸入 cmd123456789python -m scripts.retrain --bottleneck_dir=tf_files/bottlenecks --how_many_training_steps=500 --model_dir=tf_files/models/ --summaries_dir=tf_files/training_summaries/&quot;${ARCHITECTURE}&quot; --output_graph=tf_files/retrained_graph.pb --output_labels=tf_files/peopleLabels.txt --architecture=&quot;${ARCHITECTURE}&quot; --image_dir=tf_files/people 程式會執行Python script : scripts.retrain，根據我們的訓練圖資會產生訓練資訊-retrained_graph.pb以及Label - peopleLabels.txt Step 6: 轉譯為Mobile訓練資料 首先我們必須先安裝bazel, freeze_graph, toco等工具。 安裝bazel : 可參考官網的安裝方式 下載TensorFlow Source code cmd1git clone https://github.com/tensorflow/tensorflow.git 編譯 reeze_graph, toco cmd123cd tensorflow/bazel build tensorflow/python/tools:freeze_graphbazel build tensorflow/contrib/lite/toco:toco 回到tensorflow-for-poets-2資料夾後輸入 cmd12345678910toco --input_file=tf_files/retrained_graph.pb --output_file=tf_files/people.tflite --input_format=TENSORFLOW_GRAPHDEF --output_format=TFLITE --input_shape=1,${IMAGE_SIZE},${IMAGE_SIZE},3 --input_array=input --output_array=final_result --inference_type=FLOAT --input_data_type=FLOAT 執行完後會產生Mobile所使用的訓練資料檔people.tflite，再將people.tflite和peopleLabels.txt 放到Project的/src/main/assets中。 並更改前篇文章程式中的MODEL_NAME和LABEL_NAME即可。 cmd12MODEL_NAME = &quot;people&quot;;LABEL_NAME = &quot;peopleLabels&quot;; 執行結果","link":"/2019/04/11/2019/2019_04_11-tensorflow_lite_face_recognition/"},{"title":"Android Baidu Text To Speech","text":"Text To Speech (TTS) 文字語音，也就是將使用者輸入的文字轉化為語音。百度TTS 是一個免費的文字語音SDK，本篇將以百度TTS SDK 來達成文字語音的功能。 Step 1: 創建應用 首先必須要註冊百度雲 帳號，註冊好之後，點擊管理控制台來創建應用。 選擇語音技術 再選擇創建應用 填入相關資訊， 記得要填對package name Step 2: 下載SDK和library 點選左邊Menu Bar的SDK下載，再選取語音合成，下載Android版本的SDK。 在project/src/main 新增資料夾jniLibs。 將下載後壓縮檔解壓縮後，將Baidu-TTS-Android-2.3.5.20180713_6101c2a/app/src/main/jniLibs/armeabi資料夾複製到剛剛新增的jniLibs資料夾中。 再將Baidu-TTS-Android-2.3.5.20180713_6101c2a/app/libs/com.baidu.tts_2.3.2.jar複製到project/libs中 Step 3: 引用jar檔 在build.gradle的dependencies中增加compile jar檔 build.gradle1234dependencies { ... compile files('libs/com.baidu.tts_2.3.2.jar')} Step 4: 初始化TTS 取得SpeechSynthesizer實例 1234private SpeechSynthesizer mSpeechSynthesizer;mSpeechSynthesizer = SpeechSynthesizer.getInstance();mSpeechSynthesizer.setContext(this); 設置TTS Listener 12345678910111213141516171819202122232425262728public class MainActivity extends AppCompatActivity implements SpeechSynthesizerListener { private void initTTS() { ... mSpeechSynthesizer.setSpeechSynthesizerListener(this); } @Override public void onSynthesizeStart(String s) { } @Override public void onSynthesizeDataArrived(String s, byte[] bytes, int i) { } @Override public void onSynthesizeFinish(String s) { } @Override public void onSpeechStart(String s) { } @Override public void onSpeechProgressChanged(String s, int i) { } @Override public void onSpeechFinish(String s) { } @Override public void onError(String s, SpeechError speechError) { }} Step 5: 設置AppId, AppKey 和 AppSecretKey 在百度雲創建應用程式後，會有AppId, AppKey 和 AppSecretKey 12int result = mSpeechSynthesizer.setAppId(appId);result = mSpeechSynthesizer.setApiKey(appKey, secretKey); Step 6: 驗證並下載授權文件 TtsMode.ONLINE : 純在線模式，自動下載授權文件，每次啟用時可能需要更新授權文件TtsMode.MIX : 離線與在線模式 12345678910private boolean checkAuth() { AuthInfo authInfo = mSpeechSynthesizer.auth(ttsMode); if (!authInfo.isSuccess()) { String errorMsg = authInfo.getTtsError().getDetailMessage(); return false; } else { Log.i(TAG, &quot;checkAuth success!&quot;); return true; }} Step 7: 導入TTS 模型 複製 Baidu-TTS-Android-2.3.5.20180713_6101c2a/app/src/main/assets資料夾到project/src/main中 在程式開始前，將檔案複製到SD Card中 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869private String MODEL_FILENAME ; private String TEXT_FILENAME ; private static final String SPEECH_FEMALE_MODEL_NAME = &quot;bd_etts_common_speech_f7_mand_eng_high_am-mix_v3.0.0_20170512.dat&quot;; private static final String TEXT_MODEL_NAME = &quot;bd_etts_text.dat&quot;; @Overrideprotected void onResume() { super.onResume(); copyModelFileToSD(); initTTS();}private void copyModelFileToSD() { String folder = MainActivity.this.getFilesDir().getAbsolutePath(); MODEL_FILENAME = folder + &quot;/&quot; + TEXT_MODEL_NAME; TEXT_FILENAME = folder + &quot;/&quot; + SPEECH_FEMALE_MODEL_NAME; InputStream is = null; FileOutputStream fos = null; try { Context context = MainActivity.this.getApplicationContext(); File textFile = new File(TEXT_FILENAME); File modelFile = new File(MODEL_FILENAME); if (!textFile.exists()) { textFile.createNewFile(); is = context.getAssets().open(TEXT_MODEL_NAME); fos = new FileOutputStream(textFile); copyFile(is, fos); } else { //ignore } if (!modelFile.exists()) { modelFile.createNewFile(); is = context.getAssets().open(SPEECH_FEMALE_MODEL_NAME); fos = new FileOutputStream(modelFile); copyFile(is, fos); } else { //ignore } } catch (IOException e) { Log.e(TAG, &quot;Error: &quot; + e.toString()); } finally { closeObject(is); closeObject(fos); }}private void copyFile(InputStream is, FileOutputStream fos) throws IOException { byte[] buffer = new byte[2048]; int byteCount = 0; while((byteCount=is.read(buffer))!=-1) { fos.write(buffer, 0, byteCount); } fos.flush();}private void closeObject(Closeable obj) { try { if (null != obj) { obj.close(); } } catch (IOException e) { Log.e(TAG, &quot;Error: &quot; + e.toString()); }} 在checkAuth成功後，設置模型參數 123456789101112131415private void setupParam() { mSpeechSynthesizer.setParam(SpeechSynthesizer.PARAM_TTS_TEXT_MODEL_FILE, TEXT_FILENAME); mSpeechSynthesizer.setParam(SpeechSynthesizer.PARAM_TTS_SPEECH_MODEL_FILE, MODEL_FILENAME); //人聲種類, 0 : 普通女聲, 1:普通男聲, 2:特別男聲, 3:情感男, 4:兒童聲 mSpeechSynthesizer.setParam(SpeechSynthesizer.PARAM_SPEAKER, &quot;0&quot;); //音量: 0 ~ 9 mSpeechSynthesizer.setParam(SpeechSynthesizer.PARAM_VOLUME, &quot;9&quot;); //速度: 0~9 mSpeechSynthesizer.setParam(SpeechSynthesizer.PARAM_SPEED, &quot;4&quot;); //語調: 0 ~ 9 mSpeechSynthesizer.setParam(SpeechSynthesizer.PARAM_PITCH, &quot;4&quot;); //請求模式 mSpeechSynthesizer.setParam(SpeechSynthesizer.PARAM_MIX_MODE, SpeechSynthesizer.MIX_MODE_DEFAULT); } MIX_MODE_DEFAULT: 有wifi時，使用在線模式，無wifi時使用離線模式。在線狀態下，請求超過6秒自動轉離線。MIX_MODE_HIGH_SPEED_SYNTHESIZE_WIFI: 與MIX_MODE_DEFAULT相同，但請求超過1.2秒自動轉離線。MIX_MODE_HIGH_SPEED_NETWORK: 可使用3G/4G or Wifi, 但請求超過1.2秒自動轉離線。 完整設定TTS模型流程如下 1234567891011121314151617181920private void initTTS() { mSpeechSynthesizer = SpeechSynthesizer.getInstance(); mSpeechSynthesizer.setContext(this); mSpeechSynthesizer.setSpeechSynthesizerListener(this); int result = mSpeechSynthesizer.setAppId(appId); result = mSpeechSynthesizer.setApiKey(appKey, secretKey); if (!checkAuth()) { return; } setupParam(); result = mSpeechSynthesizer.loadModel(TEXT_FILENAME, MODEL_FILENAME); result = mSpeechSynthesizer.initTts(TtsMode.MIX); if (result != 0) { Log.e(TAG, &quot;init failed&quot;); } else { Log.e(TAG, &quot;init success&quot;); }} Step 8: 讀出文字 如果需要馬上讀出語音的話，使用speak api。只需要先合成可使用synthesize。 12String text = &quot;測試百度TTS&quot;;mSpeechSynthesizer.speak(text);","link":"/2019/04/12/2019/2019_04_12-baidu_tts/"},{"title":"Android 多屏顯示","text":"Android在SDK 17時，提供了多屏異步顯示。本篇將敘述如何在兩個屏幕中透過HDMI來達成異步顯示的方式。 Step 1: 檢視屏幕數量 123456DisplayManager mDisplayManager = context.getSystemService(Context.DISPLAY_SERVICE);Display[] displays = mDisplayManager.getDisplays();Log.i(TAG, &quot;Display Counts: &quot; + displays.length);//display[0] : 主要屏幕//display[1] : 副屏幕 Step 2: 創建Presentation類別 首先我們要先創建class並繼承Presentation。(Presentation類繼承Dialog類別) 123456789101112131415161718192021public class SubDislay extends Presentation { public SubDislay(Context outerContext, Display display) { super(outerContext, display); } public SubDislay(Context outerContext, Display display, int theme) { super(outerContext, display, theme); } @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.sub_view); //ImageView 的內容必須在此設置, 否則不會呈現 Resources r = getContext().getResources(); ImageView image = findViewById(R.id.imageView3); image.setImageDrawable(r.getDrawable(R.drawable.pic2)); }} Step 3: 呈現畫面於副屏幕 在MainActivity.java中宣告SubDislay，並將畫面給予副屏幕呈現。 1234SubDislay mPresentation =new SubDislay (this,displays[1]);if(null != mPresentation) { mPresentation.show();}","link":"/2019/04/29/2019/2019_04_29-multi_displays/"},{"title":"Android 影片截圖","text":"Android針對影片截圖的方式，可使用MediaMetadataRetriever來完成。 1234567891011String videoFilePath = &quot;/storage/sdcard0/Shadows_Die_Twice.mp4&quot;MediaMetadataRetriever retriever = new MediaMetadataRetriever();retriever.setDataSource(videoFilePath);Bitmap bitmap = retriever.getFrameAtTime(1000000);ByteArrayOutputStream baos = new ByteArrayOutputStream();bitmap.compress(Bitmap.CompressFormat.JPEG, 100, baos); //bm is the bitmap objectImageView mView = findViewById(R.id.image);mView.setImageBitmap(bitmap); 執行結果","link":"/2019/05/10/2019/2019_05_10-movie-screenshot/"},{"title":"Android CursorLoader  - onLoadFinished not called","text":"先前為了不影響UI Thread的執行，等到程式都Ready時，才執行CursorLoader的初始化。 執行程式時都很正常也能收到onLoadFinished callback event，但旋轉屏幕時卻無法再次收到onLoadFinished callback event。 按照網路所使用的方式，先destroyLoader在restartLoader也是無法收到event。 MainActivity.java12345678910111213private static final int LOADER_UI_EVENT = 1;private void loadEvent() { LoaderManager loaderManager = getLoaderManager(); Loader eventLoader = loaderManager.getLoader(LOADER_UI_EVENT); if (null != eventLoader) { loaderManager.destroyLoader(LOADER_UI_EVENT); loaderManager.restartLoader(LOADER_UI_EVENT, null, this); } else { loaderManager.initLoader(LOADER_UI_EVENT, null, this); }} 重新看了Android 官方文件後，CursorLoader初始化必須在Activity onCreate時，才會收到onLoadFinished callback event。 將程式修改為onCreate先初始化Loader，旋轉屏幕時也能收到event了，之後如果要重新讀取Loader再呼叫loadEvent 函式即可。 MainActivity.java12345@Overrideprotected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); getLoaderManager().initLoader(LOADER_UI_EVENT, null, this);}","link":"/2019/05/16/2019/2019_05_16-cursorloader_onloadfinished/"},{"title":"Android 圖片轉成字串傳輸","text":"本篇要來探討如何將圖片轉成JSON格式做傳輸的方式。 我們可利用Base64 encode的方式將圖片轉成字串，再放置到JSON格式中做傳輸。 首先我們必須先將圖片轉成byte陣列 123456String filePath = &quot;/mnt/sdcard/test.jpg&quot;;Bitmap bitmap = BitmapFactory.decodeFile(filePath, getBitmapOption(2));ByteArrayOutputStream baos = new ByteArrayOutputStream();bitmap.compress(Bitmap.CompressFormat.JPEG, 100, baos);byte[] bytes = baos.toByteArray(); 在使用Base64 encode成字串 1String enStr = Base64.encodeToString(bytes, Base64.DEFAULT); 之後我們就可以將enStr字串封裝成JSon格式傳送給對方，當對方收到後便可將此字串轉回圖片了。","link":"/2019/05/23/2019/2019_05_23-image_base64_tostring/"},{"title":"Android - 設定開機畫面","text":"首先必須先具備以下條件 裝置必須具有Root權限 開機設定壓縮檔bootanimation.zip必須為無損壓縮 (uncompresser arcgive) 開機畫面壓縮檔位於 /system/media 中，使用 cmd1adb pull /system/media/bootanimation.zip . 取得並解壓縮後，會得到設定檔desc.txt及畫面檔案目錄。 desc.txt123512 128 30p 1 0 part0p 1 60 part1 設定檔第一行說明使用512x128大小的圖檔，30為FPS。 接下來為撥放內容，皆以p為開頭，第一個數字表示撥放次數，若設為0則表示不限定撥放次數，第二個數字表示暫停時間，以60為例，由於播放為30 fps，所以會暫停2秒。最後一個參數表示圖檔目錄。 最後將所有檔案壓縮為bootanimation.zip檔，並選擇使用無損壓縮，壓縮後再放入/system/media中重開機即可。 Ubuntu中使用7Zip做無損壓縮將圖檔目錄和說明檔放到資料夾中，輸入 cmd17z a –mx=0 bootanimation.zip Windows中使用7Zip做無損壓縮壓縮模式/層級，選擇封存(Store/Copy) 最後將開機設定壓縮檔bootanimation.zip放到/system/media/中，重新開機即可。","link":"/2019/10/16/2019/2019_10_16-bootanimation/"},{"title":"Hexo - Icarus 使用 Google AdSense","text":"使用Hexo主題Icarus來架設網站，想要使用Google AdSense來增加廣告收益時，搜尋網站資料，大多是使用Hexo的Next主題來架設。 經過一番研究之後，終於在自己的網站上嵌入Google AdSense了。以下為嵌入Google AsSense的步驟。 只支援Icarus 3.0之前的版本 Step 1: 註冊Google AsSense帳號 申請前，網站內容需要先豐富，否則會申請不過。 首先先登入Google 帳號，並填入你的網站。 接下來就填入你的相關資料，以及驗證，完成註冊。 Step 2: 驗證網站 完成註冊後，Google需要驗證你的網站。 Google AdSense會給你一段Script ，將此Script放在/hexo/theme/hexo-theme-icarus/layout/layout.ejs的head之中 layout.ejs1234567&lt;!DOCTYPE html&gt;&lt;html &lt;%- has_config('language') ? ' lang=&quot;' + get_config('language').substring(0, 2) + '&quot;' : '' %&gt;&gt;&lt;head&gt; &lt;%- _partial('common/head') %&gt; &lt;script data-ad-client=&quot;ca-pub-xxxxxxxxxx&quot; async src=&quot;https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js&quot;&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt; ... &lt;/body&gt; 然後在Google AdSense上點擊驗證即可。 一般會在三天之內收到通知信，就可以得知是否通過Google AdSense的審核。 Step 3: 建立廣告 通過審核後，可在Google AdSense上建立廣告，在此我是使用「按廣告單元 - 多媒體廣告」來建立。 建立好之後，會得到一段Script 將此Script貼到你所想要的Widget中 Ex: Footer : /hexo/theme/hexo-theme-icarus/layout/common/footer.ejs 1234567891011121314151617&lt;footer class=&quot;footer&quot;&gt; &lt;div class=&quot;container&quot;&gt; &lt;div class=&quot;level&quot;&gt; &lt;/div&gt; &lt;script async src=&quot;https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js&quot;&gt;&lt;/script&gt; &lt;!-- 橫式廣告 --&gt; &lt;ins class=&quot;adsbygoogle&quot; style=&quot;display:block&quot; data-ad-client=&quot;ca-pub-xxxxxxxx&quot; data-ad-slot=&quot;xxxxxxx&quot; data-ad-format=&quot;auto&quot; data-full-width-responsive=&quot;true&quot;&gt;&lt;/ins&gt; &lt;script&gt; (adsbygoogle = window.adsbygoogle || []).push({}); &lt;/script&gt; &lt;/div&gt;&lt;/footer&gt; Profile : /hexo/theme/hexo-theme-icarus/layout/widget/profile.ejs 123456789101112131415&lt;div class=&quot;card widget&quot;&gt; &lt;div class=&quot;card-content&quot;&gt; &lt;script async src=&quot;https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js&quot;&gt;&lt;/script&gt; &lt;!-- 方形廣告 --&gt; &lt;ins class=&quot;adsbygoogle&quot; style=&quot;display:block&quot; data-ad-client=&quot;ca-pub-xxxxxxxxx&quot; data-ad-slot=&quot;xxxxx&quot; data-ad-format=&quot;auto&quot; data-full-width-responsive=&quot;true&quot;&gt;&lt;/ins&gt; &lt;script&gt; (adsbygoogle = window.adsbygoogle || []).push({}); &lt;/script&gt; &lt;/div&gt;&lt;/div&gt; Link : /hexo/theme/hexo-theme-icarus/layout/widget/link.ejs 123456789101112131415&lt;div class=&quot;card widget&quot;&gt; &lt;div class=&quot;card-content&quot;&gt; &lt;script async src=&quot;https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js&quot;&gt;&lt;/script&gt; &lt;!-- 方形廣告 --&gt; &lt;ins class=&quot;adsbygoogle&quot; style=&quot;display:block&quot; data-ad-client=&quot;ca-pub-xxxxxxxxx&quot; data-ad-slot=&quot;xxxxx&quot; data-ad-format=&quot;auto&quot; data-full-width-responsive=&quot;true&quot;&gt;&lt;/ins&gt; &lt;script&gt; (adsbygoogle = window.adsbygoogle || []).push({}); &lt;/script&gt; &lt;/div&gt;&lt;/div&gt; 大約過30分鐘後，就可以看到嵌入的廣告了。","link":"/2019/10/25/2019/2019_10_25-icarus-google-adsense/"},{"title":"讓Google也能搜尋到 Hexo - Icarus Blog","text":"我們想讓自己的Blog也能讓Google搜尋的到，該如何做呢？ Google Search Console提供了Sitemap的方式，讓我們的Blog也能被搜尋到囉。 步驟如下: Step 1: 安裝Hexo sitemap 先到hexo根目錄底下，輸入 cmd1npm install hexo-generator-sitemap --save Step 2: 加入 sitemap 路徑 打開hexo根目錄底下的 _config.yml ，並增加以下內容 /hexo/_config.yml12sitemap: path: sitemap.xml Step 3: 創建sitemap檔案 在終端機中輸入 cmd1hexo s 驗證是否創建成功 在本地端網址後加入/sitemap.xml，若有出現以下訊息表示創建成功。 Step 4: 申請Google Search Console 打開Google Search Console , 並將網址填入。 Step 5: 驗證 Google Search Console有多種驗證方式，我們選用HTML標記的方式驗證。 將這段meta的資訊填入/hexo/theme/hexo-theme-icarus/layout/layout.ejs中 layout.ejs123456&lt;!DOCTYPE html&gt;&lt;html &lt;%- has_config('language') ? ' lang=&quot;' + get_config('language').substring(0, 2) + '&quot;' : '' %&gt;&gt;&lt;head&gt; &lt;meta name=&quot;google-site-verification&quot; content=&quot;XXXXX&quot; /&gt;&lt;/head&gt;&lt;body&gt; ... &lt;/body&gt; 再回到Google Search Console中點擊驗證。 Step 6: 提交網頁 到Google Search Console中選擇前往資源，在側邊欄中選取Sitemap，在新增Sitemap中填入sitemap.xml並提交即可。","link":"/2019/10/25/2019/2019_10_25-icarus-google-sitemap/"},{"title":"Android ImageView 被 Button 覆蓋","text":"在一個UI 設計中，我們要在Button的左邊設計icon 原本使用Button的屬性android:drawableLeft來設計，但是相對位置上非常難調整成UI 設計人員所制定的位置。 後來使用RelativeLayout並加上ImageView, Button的設計 12345678910111213141516171819202122&lt;RelativeLayout android:id=&quot;@+id/relativeLayout1&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot;&gt; &lt;Button android:id=&quot;@+id/bt_logout&quot; style=&quot;@style/MenuButtonStyle&quot; android:layout_below=&quot;@+id/relativeLayout2&quot; android:layout_marginTop=&quot;200dp&quot; android:layout_centerHorizontal=&quot;true&quot; android:text=&quot;@string/logout&quot; android:gravity=&quot;center&quot;/&gt; &lt;ImageView android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_alignLeft=&quot;@id/bt_logout&quot; android:layout_alignTop=&quot;@id/bt_logout&quot; android:layout_marginLeft=&quot;24dp&quot; android:layout_marginTop=&quot;17dp&quot; android:src=&quot;@drawable/log_out&quot;/&gt;&lt;/RelativeLayout&gt; 發現ImageView會被Button所覆蓋。 原因是Android制定Button的Z-Order的層級比ImageView高，所以Button總是在ImageView的上方。 替代方案 由於Button是繼承TextView，而TextView和ImageView為同層級，所以我們可以將Button換成TextView，便可讓ImageView疊在TextView的上方了。 12345678910111213141516171819202122&lt;RelativeLayout android:id=&quot;@+id/relativeLayout1&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot;&gt; &lt;TextView android:id=&quot;@+id/bt_logout&quot; style=&quot;@style/MenuButtonStyle&quot; android:layout_below=&quot;@+id/relativeLayout2&quot; android:layout_marginTop=&quot;200dp&quot; android:layout_centerHorizontal=&quot;true&quot; android:text=&quot;@string/logout&quot; android:gravity=&quot;center&quot;/&gt; &lt;ImageView android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_alignLeft=&quot;@id/bt_logout&quot; android:layout_alignTop=&quot;@id/bt_logout&quot; android:layout_marginLeft=&quot;24dp&quot; android:layout_marginTop=&quot;17dp&quot; android:src=&quot;@drawable/log_out&quot;/&gt;&lt;/RelativeLayout&gt;","link":"/2019/10/25/2019/2019_10_25-imageview-over-button/"},{"title":"Android Text Click Color","text":"當點擊Button時，想要改變Button上文字的顏色，我們可使用resource xml的方式來實現。 步驟如下 Step 1: 建立color資料夾 在res底下建立color資料夾。 Step 2: 建立color檔案 在color資料夾底下建立xml檔案, 內容如下 text_color.xml12345&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; &gt; &lt;item android:state_pressed=&quot;true&quot; android:color=&quot;#ffffffff&quot;/&gt; &lt;item android:state_focused=&quot;true&quot; android:color=&quot;#ffffffff&quot;/&gt; &lt;item android:color=&quot;#d0b9ff&quot;/&gt;&lt;/selector&gt; Step 3: 設定文字顏色 main_layout.xml12345678&lt;Button android:id=&quot;@+id/bt_adv&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_centerHorizontal=&quot;true&quot; android:text=&quot;@string/adv_settings&quot; android:textColor=&quot;@color/text_color&quot;/&gt;","link":"/2019/10/25/2019/2019_10_25-text-click-color/"},{"title":"Android RecyclerView HighLight","text":"當使用RecyclerView，針對點擊項目後，要將背景Highlight，可依照以下步驟實現此功能。 Step 1: 建立項目內容 首先我們先建立項目內容，在此我們使用一個RelativeLayout及TextView，之後選取項目時，更改RelativeLayout背景，達到Highlight功能。 layout_item.xml123456789101112131415&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot; android:layout_width=&quot;580dp&quot; android:layout_height=&quot;66dp&quot;&gt; &lt;TextView android:id=&quot;@+id/tx_device&quot; android:layout_width=&quot;398dp&quot; android:layout_height=&quot;64dp&quot; android:layout_centerInParent=&quot;true&quot; android:textSize=&quot;26sp&quot; android:textColor=&quot;@color/color_media_check&quot; android:gravity=&quot;center&quot; /&gt;&lt;/RelativeLayout&gt; Step 2: 建立ViewHolder 其中mRootView指的是剛剛所建立的RelativeLayout 123456789class ItemViewHolder(view: View): RecyclerView.ViewHolder(view) { val mRootView: View val mDevice: TextView init { mRootView = view mDevice = view.findViewById(R.id.tx_device) }} Step 3: 建立Adapter 123456class ItemRecyclerViewAdapter() : RecyclerView.Adapter&lt;ItemViewHolder&gt;(){ override fun onCreateViewHolder(parent: ViewGroup, pos: Int): MediaItemViewHolder { val itemView = LayoutInflater.from(parent.context).inflate(R.layout.layout_item, parent, false) return MediaItemViewHolder(itemView) } } Step 4: 更換Highlight背景 設定RelativeLayout的Click Event，當點擊時將選取到的項目position保存下來，並更新畫面(this.notifyDataSetChanged())。 當項目position等於剛剛所保存的position時，更新背景圖案 12345678910111213141516class ItemRecyclerViewAdapter() : RecyclerView.Adapter&lt;ItemViewHolder&gt;(){ private var mSelectedPos = -1 override fun onBindViewHolder(holder: MediaItemViewHolder, pos: Int) { holder.mRootView.setOnClickListener(View.OnClickListener { v: View -&gt; mSelectedPos = pos this.notifyDataSetChanged() }) if (pos == mSelectedPos) { holder.mRootView.setBackgroundResource(R.drawable.list_select_hover_bg) } else { holder.mRootView.background = null } }} 執行結果 未選取時 選取效果","link":"/2019/11/06/2019/2019_11_06-recyclerview-highlight/"},{"title":"Android SQL 查詢null值","text":"在SQLlite語法中，NULL表示一個缺失數值的值，與空白不同。空白是不佔用空間的，而NULL值是佔用空間的。 在Android的寫法中，若DB欄位值為NULL，使用以下的方式是無法查詢到的。 1234ContentResolver resolver = myContext.getContentResolver();int count = resolver.delete(getDataUri(), Contract.DataColumns.TIME + &quot;=? &quot;, new String[] { null });Log.e(TAG, &quot;count of Null Item: &quot; + count); 可使用 1column_name is null or column_name=&quot;&quot; 的方式查詢NULL值 1234ContentResolver resolver = myContext.getContentResolver();int count = resolver.delete(getDataUri(), Contract.DataColumns.TIME + &quot; is null or &quot; + Contract.DataColumns.TIME + &quot; =? &quot;, new String[] { &quot;&quot; });Log.e(TAG, &quot;count of Null Item: &quot; + count);","link":"/2019/11/13/2019/2019_11_13-sql-query-null-item/"},{"title":"Android 複製assets檔案至SD卡","text":"若想要在程式啟動時，將檔案預載至SD卡中，該如何實做呢？ Step 1: 建立assets資料夾 在專案main 目錄下(專案名稱/module name/src/main)，建立assets資料夾，並將預先載入的檔案放到此目錄中。 Step 2: 取得AssetManager 使用Contex.getAssets() 的方式可取得AssetManager Step 3: 取得檔案流 再使用AssetManager.open(檔案名稱)的方式取得InputStream AssetManager.open(“photo.jpg”); 若檔案在assets的子目錄中時，需要將子目錄名稱帶入 1AssetManager.open(&quot;picture/photo.jpg&quot;); Source Code 123456789101112131415161718192021222324252627282930313233343536private void copyAssetFile() { InputStream is = null; FileOutputStream fos = null; try { File sdFile = new File(&quot;/mnt/sdcard/sd_photo.jpg&quot;); if (!sdFile.exists()) { sdFile.createNewFile(); } is = context.getAssets().open(&quot;picture/photo.jpg&quot;); fos = new FileOutputStream(sdFile); byte[] buffer = new byte[2048]; int byteCount = 0; while ((byteCount = is.read(buffer)) != -1) { fos.write(buffer, 0, byteCount); } fos.flush(); } catch (IOException e) { } finally { closeQuietly(is); closeQuietly(fos); } } private void closeQuietly(Closeable closeable) { if (closeable != null) { try { closeable.close(); } catch (IOException ex) { // ignore } } }","link":"/2019/11/15/2019/2019_11_15-cpoy-assets-file/"},{"title":"Ubuntu boot 空間不足","text":"當時安裝Ubuntu的時候，切給boot的空間為200MB，要更新Kernel時，系統告知boot 空間不足的問題。 原因是Ubuntu更新系統後，並不會將舊的Kernel package移除所導致。 以下為解決方式。 Step 1: 查看當前Kernel版本 使用 cmd1uname -a 來查看當前Kernel版本 Step 2: 查看已安裝Kernel版本 cmd1dpkg --get-selections | grep linux-image Step 3: 刪除Kernel版本 cmd1sudo apt purge linux-image-x.x.x-x-generic linux-image-x.x.x-x-generic 填入版本較舊的名稱 Step 4: 刪除相關檔案 可使用auto reomve或者完整清除的方式來刪除不需要的檔案。 cmd1sudo apt autoremove 完整清除 cmd1sudo apt-get purge *x.x.x-xx* Step 5: 重新開機","link":"/2019/11/15/2019/2019_11_15-ubuntu-boot-not-space/"},{"title":"Android onConfigurationChanged not called for Landscape and Reverselandscape","text":"當螢幕方向改變時，我們通常會在Activity中Override function : onConfigurationChanged 的方式來接收變化。 但目前只有當 Landscape 與 Portrait 之間互轉時才會收到event.所以landscape轉成reverse landscape並不會由onConfigurationChanged收到變化. onConfigurationChanged onConfigurationChanged接收orientation變化的方式如下 在AndroidManifest.xml的填入android:configChanges AndroidManifest.xml123456&lt;application ... &gt; &lt;activity android:name=&quot;.MainActivity&quot; android:screenOrientation=&quot;sensorLandscape&quot; android:configChanges=&quot;orientation|screenSize|keyboardHidden&quot;/&gt;&lt;/application&gt; 在MainActivity.java中增加Override function : onConfigurationChanged 。 AndroidManifest.xml123override fun onConfigurationChanged(newConfig: Configuration?) { super.onConfigurationChanged(newConfig)} 以上的方式無法得知 landscape轉成reverse landscape的訊息。 我們可監聽Ratation的變化來實現此功能。 Rotation Changed Listener Step 1: 建立callback : RotationCallback 新增kotlin interface : RotationCallback RotationCallback.kt123interface RotationCallback { fun onRotationChanged(lastRotation: Int, newRotation: Int)} Step 2: 建立Listerner : RotationListener 新增kotlin class : RotationListener其中mOrientationEventListener監聽Rotation的變化，並透過mCallback傳遞給上層 RotationListener.kt123456789101112131415161718192021222324252627282930313233343536class RotationListener { private var mOrientationEventListener: OrientationEventListener? = null private var mCallback: RotationCallback? = null private var lastRotation: Int = 0 constructor(callback: RotationCallback) { mCallback = callback } fun listen(context: Context) { mOrientationEventListener = object : OrientationEventListener(context, SensorManager.SENSOR_DELAY_NORMAL) { override fun onOrientationChanged(orientation: Int) { val localWindowManager = context.getSystemService(Context.WINDOW_SERVICE) as WindowManager if (null != localWindowManager &amp;&amp; null != mCallback) { val newRotation = localWindowManager.defaultDisplay.rotation if (newRotation != lastRotation) { mCallback!!.onRotationChanged(lastRotation, newRotation) lastRotation = newRotation } } } } mOrientationEventListener!!.enable() lastRotation = (context.getSystemService(Context.WINDOW_SERVICE) as WindowManager).defaultDisplay.rotation } fun stop() { if (null != mOrientationEventListener) { mOrientationEventListener!!.disable() } mOrientationEventListener = null mCallback = null }} Step 3: MainActivity監聽與解除接聽 MainActivity繼承RotationCallback且實現其onRotationChanged function，並在onCreate時建立監聽Rotation變化, 而在onDestroy時取消監聽 MainActivity.kt123456789101112131415161718192021222324252627class MainActivity : AppCompatActivity(), RotationCallback { private val TAG = &quot;MainActivity &quot; private var mRotationListener : RotationListener? = null override fun onCreate(savedInstanceState: Bundle?) { super.onCreate(savedInstanceState) setContentView(R.layout.activity_main) mRotationListener = RotationListener(this) mRotationListener!!.listen(this.applicationContext) } override fun onDestroy() { super.onDestroy() Log.e(TAG, &quot;onDestroy()&quot;) mRotationListener!!.stop() mRotationListener = null } //RotationCallback override fun onRotationChanged(lastRotation: Int, newRotation: Int) { Log.d(TAG, &quot;onRotationChanged: last &quot; + (lastRotation) +&quot; new &quot; + (newRotation)); }} 這樣就可以得知landscape與reverse landscape的變化了。","link":"/2019/11/21/2019/2019_11_21-reverselandscape-event/"},{"title":"Android HttpURLConnection 繞過證書訪問Https網址","text":"針對訪問Https網站，必須具有認可的證書，經過驗證後才能訪問該網站。 通常需要機構所發行的證書，但在開發階段還未申請到核可的證書時，我們可透過繞過證書的方式，來訪問Https網站。 要繞過證書的方式，主要是重寫HostnameVerifier的驗證方式及配合X509TrustManager來處理授權。 Step 1: 建立class : CustomHostnameVerifier 首先，先在文件中建立CustomHostnameVerifier, 並複寫HostnameVerifier的驗證方法，通過所有的驗證。 Connection.java123456private class CustomHostnameVerifier implements HostnameVerifier { @Override public boolean verify(String hostname, SSLSession session) { return true; }} Step 2: 建立class : CustomTrustManager 建立CustomTrustManager來處理授權。 Connection.java12345678910111213141516171819private class CustomTrustManager implements X509TrustManager { public CustomTrustManager(KeyStore keystore) throws NoSuchAlgorithmException, KeyStoreException { super(); } @Override public void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException { } @Override public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException { } @Override public X509Certificate[] getAcceptedIssuers() { return null; }} Step 3: 設定SSL及建立連線 在建立HttpURLConnection連線之前，我們必須先設定好SSL相關設定。 Connection.java1234567891011121314151617SSLContext sc = SSLContext.getInstance(&quot;TLS&quot;);sc.init(null, new TrustManager[] { new CustomTrustManager(null) }, new SecureRandom());HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());HttpsURLConnection.setDefaultHostnameVerifier(new CustomHostnameVerifier());URL url = new URL(api);HttpURLConnection httpConn = (HttpURLConnection) url.openConnection();httpConn.setRequestMethod(&quot;POST&quot;);httpConn.setUseCaches(true);httpConn.setAllowUserInteraction(true);httpConn.setDoOutput(true);httpConn.setDoInput(true);httpConn.setConnectTimeout(3000);httpConn.setReadTimeout(3000);... 這樣就能夠繞過證書，達到免簽的方式訪問Https的網站了。","link":"/2019/12/10/2019/2019_12_10-httpurlconnection_ssl/"},{"title":"Hexo - Icarus 多國語系","text":"目前Hexo並沒有支援多國語系，網路上的方式都是以Next主題實做多國語系為主，本篇將以Icarus主題來實做多國語系的Blog。 Step 1: 建立英文站點 在原本Hexo的根目錄下建立en 資料夾(在此命名為blog_en)，將原本Hexo根目錄下的所有檔案/資料夾複製一份到en資料夾中。 node_modules不必複製到en資料夾中 Step 2: 修改Config檔 修改blog_en中的 _config.yml (非icarus主題的config.yml)，修改language為en, url 設定為英文站台的網址 _config.yml1234567891011# Sitetitle: Nick Blogsubtitle:description:keywords:author: Nick Linlanguage: entimezone:# URLurl: https://nickcarter9.github.io/en 在en 資料夾(blog_en)中執行npm install就會自動安裝Hexo所需的插件，安裝完畢後，就可執行hexo g命令產生英文站點。 cmd1nick@Nick-Lin:~/Blog/blog_en$ npm install Step 3: 增加語言切換按鈕 本篇設定在navigation bar的search按鈕旁邊，首先我們先增加英文站點的連結。 修改icarus的 _config.icarus.yml, 在最後一行增加 _config.icarus.yml1blog_en: https://nickcarter9.github.io/en/ 並在blog_en/themes/icarus 的 _config.icarus.yml, 增加中文站點連結 blog_en/themes/icarus/_config.icarus.yml1blog_tw: https://nickcarter9.github.io/ 在中文站點 themes/icarus/layout/common/navbar.jsx的module.exports增加config的對應（blog_en） navbar.jsx1const { logo, title, navbar, widgets, search, blog_en } = config; 在英文站點也增加其對應(blog_en/themes/icarus/layout/common/navbar.jsx) navbar.jsx12 const { logo, title, navbar, widgets, search, blog_tw } = config;} 在return時，返回url(中文站點及英文站點都要設定) navbar.jsx1234567891011121314return { logo, logoUrl: url_for(logo), siteUrl: url_for('/'), siteTitle: title, menu, links, showToc, tocTitle: _p('widget.catalogue', Infinity), showSearch: search &amp;&amp; search.type, searchTitle: __('search.search'), blog_en, langUrl: url_for(blog_en) }; 在中文站點及英文站點增加menu文字(/themes/icarus/languages/en.yml, zh-TW.yml) en.yml12menu: chang-lang: ' Chinese' zh-TW.yml12menu: chang-lang: ' English' 在search按鈕旁邊增加語系按鈕(/themes/icarus/layout/common/navbar.jsx) 在render中增加const變數: langTitle navbar.jsx12345678910111213const { logo, logoUrl, siteUrl, siteTitle, menu, links, showToc, tocTitle, showSearch, searchTitle, langTitle} = this.props; 在 module.exports return 時，傳回變數langTitle navbar.jsx123456789101112131415return { logo, logoUrl: url_for(logo), siteUrl: url_for('/'), siteTitle: title, menu, links, showToc, tocTitle: _p('widget.catalogue', Infinity), showSearch: search &amp;&amp; search.type, searchTitle: __('search.search'), blog_en, langUrl: url_for(blog_en), langTitle: __('menu.chang-lang')}; search按鈕旁邊增加語系按鈕 navbar.jsx123{showSearch ? &lt;a class=&quot;navbar-item search&quot; title={searchTitle} href=&quot;javascript:;&quot;&gt; &lt;i class=&quot;fas fa-search&quot;&gt;&lt;/i&gt;&lt;/a&gt; : null}&lt;a class=&quot;navbar-item&quot; href={langUrl}&gt;{langTitle}&lt;/a&gt; Step 4: Build &amp; Push 中文及英文站點 由於執行的步驟有點多，所以撰寫了一隻可執行的script。在中文站點Hexo的根目錄下，建立build.sh，並將權限設定為可執行檔 cmd1nick@Nick-Lin:~/Blog$ chmod 777 build.sh build.sh的內容為 build.sh12345678910111213141516echo &quot;clean en blog...&quot;cd /home/nick/Blog/blog_enhexo cleanecho &quot;build en blog...&quot;hexo gecho &quot;clean zh-TW blog...&quot;/home/nick/Bloghexo cleanecho &quot;build zh-TW blog...&quot;hexo gecho &quot;move en blog to public...&quot;cp -r /home/nick/Blog/blog_en/public/. /home/nick/Blog/public/en/ 執行此script後，再執行hexo d即完成發布，就可實現多國語系的Blog了。 Reference Hexo添加多语言支持「国际化i18n」","link":"/2019/12/11/2019/2019_12_11-icarus-multi-language/"},{"title":"Android ImageView 透明背景","text":"針對ImageView的來源圖片為透明底色時, 需要將底色設定為透明.否則的話，會將底下的物件覆蓋住. 將ImageView背景設定為透明的方式有以下幾種 靜態設置 在xml中設定background顏色為 #00000000 activity.xml12345&lt;ImageView android:layout_width=&quot;218dp&quot; android:layout_height=&quot;247dp&quot; android:src=&quot;@drawable/test2&quot; android:background=&quot;#00000000&quot;/&gt; 亦可使用android color : transparent activity.xml12345&lt;ImageView android:layout_width=&quot;218dp&quot; android:layout_height=&quot;247dp&quot; android:src=&quot;@drawable/test2&quot; aandroid:background=&quot;@android:color/transparent&quot;/&gt; 動態設置 在程式中, 我們可以使用setBackgroundColor API 來設置 MainActivity.java12var imageView = findViewById&lt;ImageView&gt;(R.id.test1)imageView.setBackgroundColor(Color.parseColor(&quot;#00000000&quot;)) 或者使用Color.TRANSPARENT MainActivity.java12var imageView = findViewById&lt;ImageView&gt;(R.id.test1)imageView.setBackgroundColor(Color.TRANSPARENT) 執行結果","link":"/2019/12/26/2019/2019_12_26-imageview-transparent-background/"},{"title":"ActiveMQ MQTT Server 架設","text":"Android 開發上需要和MQTT Server做溝通，在此之前必須先架設MQTT Server來協助開發. 此篇主要在Window 10中使用Apache ActiveMQ來做架設 Step 1: 下載 ActiveMQ 下載位址 ActiveMQ 此例中使用ActiveMQ 5 Classic Step 2: 執行activemq 打開命令提示字元, 到apache-activemq-5.15.11/bin底下輸入activemq start Step 3: 開啟activemq首頁 cmd視窗中會告知Server的訊息 使用瀏覽器輸入 http://127.0.0.1:port/admin ，其中port為上圖中紅框所表示的數字 並輸入帳號/密碼 admin/admin 即可打開管理界面, 這也表示已架設好MQTT Server","link":"/2020/02/14/2020/2020_02_14-activemq/"},{"title":"Android MQTT Client","text":"在上篇『ActiveMQ MQTT Server 架設』中我們已架設好MQTT Server，此篇我們將在Android上建立MQTT Client與MQTT Server做溝通. 此篇使用org.eclipse.paho來架設MQTT Client Step 1: 引用org.eclipse.paho 在build.gradle中引用org.eclipse.paho build.gradle12345678910111213141516 android { ... } repositories { maven { url &quot;https://repo.eclipse.org/content/repositories/paho-snapshots/&quot; }}dependencies { ... implementation 'org.eclipse.paho:org.eclipse.paho.client.mqttv3:1.1.0' implementation 'org.eclipse.paho:org.eclipse.paho.android.service:1.1.1'} Step 2: 建立MqttService 在AndroidManifest.xml中宣告權限及建立MqttService AndroidManifest.xml12345678&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;&lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot;/&gt; &lt;application&gt; &lt;service android:name=&quot;org.eclipse.paho.android.service.MqttService&quot;/&gt;&lt;/application&gt; Step 3: Implement MqttCallbackExtended MainActivity.kt12345678910111213141516171819private class MqttCallback : MqttCallbackExtended { override fun connectComplete(reconnect: Boolean, serverURI: String?) { Log.i(TAG, &quot;connect Complete&quot; + Thread.currentThread().id) } override fun messageArrived(topic: String?, message: MqttMessage?) { Log.i(TAG, &quot;topic: &quot; + topic + &quot; message: &quot;+ String(message!!.payload, Charset.forName(&quot;utf-8&quot;))) } override fun connectionLost(cause: Throwable?) { Log.i(TAG, &quot;connection Lost &quot;) } override fun deliveryComplete(token: IMqttDeliveryToken?) { Log.i(TAG, &quot;delivery Complete &quot;) } } 在這四個函式中，不可進行UI的操作。可使用Handler後再做UI的處理。 Step 4: 初始化MQTT Client MainActivity.kt12345678910private var mMqttClient: MqttAsyncClient? = nullprivate val host = &quot;tcp://192.168.0.98:1883&quot;private val mClientID = &quot;xx:xx:xx:xx:xx:xx&quot;...if (null == mMqttClient) { mMqttClient = MQTTUtils.initClient(host, mClientID, MqttCallback())} 我們使用一個公用object MQTTUtils 來處理初始化。 MQTTUtils.kt12345678910object MQTTUtils { fun initClient(serverURI: String, clientId: String, callback: MqttCallback) :MqttAsyncClient? { var client: MqttAsyncClient? = null var persistence = MemoryPersistence() client = MqttAsyncClient (serverURI, clientId, persistence) client.setCallback(callback) return client }} serverURI: MQTT Server網址clientId： 唯一識別碼，告知Broker知道是哪個Clientcallback: 回調函式 在上篇『ActiveMQ MQTT Server 架設』中，啟動Server時會得到Server的資訊，其中會有MQTT的資訊。 在此port為1883 在程式中MQTT Server的網址設定為 tcp://xxx.xxx.xxx.xxx:1883 Step 5: 設定連接參數 在MQTTUtils中設置連接參數 MQTTUtils.kt123456789101112131415object MQTTUtils { fun initMqttConnectionOptions(): MqttConnectOptions { var mOptions = MqttConnectOptions() mOptions.isAutomaticReconnect = false mOptions.isCleanSession = true mOptions.connectionTimeout = 10 mOptions.userName = &quot;admin&quot; mOptions.password = &quot;admin&quot;.toCharArray() mOptions.keepAliveInterval = 10 mOptions.maxInflight = 10 mOptions.mqttVersion = MqttConnectOptions.MQTT_VERSION_3_1_1 return mOptions }} 參數說明isAutomaticReconnect: 連接中斷時，是否會自動連接isCleanSession： 若斷開連線時是否清除連接資訊connectionTimeout: 連線逾時時間，以秒為單位userName：帳號password: 密碼keepAliveInterval: Heartbeat，每隔幾秒會再度確認是否連線maxInflight: 允許同時發送幾條訊息mqttVersion: MQTT 版本 Step 6: 與MQTT Server連線 MainActivity.kt12345678910111213141516private val mTopicID = &quot;topic1&quot;var options = MQTTUtils.initMqttConnectionOptions()mMqttClient!!.connect(options, null, object : IMqttActionListener { override fun onSuccess(asyncActionToken: IMqttToken) { mMqttClient!!.subscribe(mTopicID, 1) } override fun onFailure(asyncActionToken: IMqttToken, exception: Throwable) { } }) 連線成功後，傳送溝通的Topic: mTopicID 執行結果 連接上後，透過ActiveMQ的管理界面，可看到Topics有剛剛所設定的mTopicID: topic1。 透過此Topic 可與MQTT Client做溝通。 Source Code MainActivity.kt12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273class MainActivity : AppCompatActivity(), View.OnClickListener { private val host = &quot;tcp://xxx.xxx.xxx.xxx:1883&quot; private val mClientID = &quot;xx:xx:xx:xx:xx:xx&quot; private val mTopicID = &quot;topic1&quot; private var mMqttClient: MqttAsyncClient? = null override fun onCreate(savedInstanceState: Bundle?) { super.onCreate(savedInstanceState) setContentView(R.layout.activity_main) var btConnect = findViewById&lt;Button&gt;(R.id.bt_connect) btConnect.setOnClickListener(this) } override fun onDestroy() { super.onDestroy() if (null != mMqttClient) { mMqttClient!!.disconnect() } } private fun connect() { Thread(Runnable { try { if (null == mMqttClient) { mMqttClient = MQTTUtils.initClient(host, mClientID, MqttCallback()) } var options = MQTTUtils.initMqttConnectionOptions() mMqttClient!!.connect(options, null, object : IMqttActionListener { override fun onSuccess(asyncActionToken: IMqttToken) { mMqttClient!!.subscribe(mTopicID, 1) } override fun onFailure(asyncActionToken: IMqttToken, exception: Throwable) { } }) } catch (e: Exception) { e.printStackTrace() } }).start() } private class MqttCallback : MqttCallbackExtended{ val TAG = &quot;MqttCallback&quot; override fun connectComplete(reconnect: Boolean, serverURI: String?) { Log.i(TAG, &quot;connect Complete&quot; + Thread.currentThread().id) } override fun messageArrived(topic: String?, message: MqttMessage?) { Log.i(TAG, &quot;topic: &quot; + topic + &quot; message: &quot;+ String(message!!.payload, Charset.forName(&quot;utf-8&quot;))) } override fun connectionLost(cause: Throwable?) { Log.i(TAG, &quot;connection Lost &quot;) } override fun deliveryComplete(token: IMqttDeliveryToken?) { Log.i(TAG, &quot;delivery Complete &quot;) } } override fun onClick(v: View?) { when(v!!.id) { R.id.bt_connect -&gt; connect() } }} MQTTUtils.kt1234567891011121314151617181920212223object MQTTUtils { fun initMqttConnectionOptions(): MqttConnectOptions { var mOptions = MqttConnectOptions() mOptions.isAutomaticReconnect = false mOptions.isCleanSession = true mOptions.connectionTimeout = 10 mOptions.userName = &quot;admin&quot; mOptions.password = &quot;admin&quot;.toCharArray() mOptions.keepAliveInterval = 10 mOptions.maxInflight = 10 mOptions.mqttVersion = MqttConnectOptions.MQTT_VERSION_3_1_1 return mOptions } fun initClient(serverURI: String, clientId: String, callback: MqttCallback) :MqttAsyncClient? { var client: MqttAsyncClient? = null var persistence = MemoryPersistence() client = MqttAsyncClient (serverURI, clientId, persistence) client.setCallback(callback) return client }}","link":"/2020/02/14/2020/2020_02_14-android_mqtt_client/"},{"title":"Android App Sign key","text":"針對需要具有系統權限的app，可以使用以下兩種方式來達成。 編譯後再使用signapk.jar來sign key編譯時sign key 編譯後再使用signapk.jar來sign key Step 1: 下載signapk.jar 下載位址signapk.jar Step 2: 使用signapk.jar 指令如下 cmd12java -jar signapk.jar platform.x509.pem platform.pk8 unsign.apk signed.apk 編譯時sign key 首先我們必須先將platform.x509.pem和platform.pk8轉成編譯時所使用的keystore 文件 Step 1: 下載keytool-importkeypair 下載位址keytool-importkeypair Step 2: 產生keystore 文件 將platform.x509.pem和platform.pk8放到keytool-importkeypair的目錄下 輸入指令 cmd12./keytool-importkeypair -k ./release.keystore -p you_password -pk8 platform.pk8 -cert platform.x509.pem -alias your_alias -k : keystore 文件的名稱-p : keystore 的密碼-pk8 : 導入的 platform.pk8 文件-cert : 導入的platform.x509.pem-alias : release.keystore 的名稱 Step 3: Sign key 我們可透過AndroidStudio中的 Build -&gt; Generated Signed Bundle/Apk來sign key或者寫入build.gradle中來自動sign key. build.gradle123456789101112android { ... signingConfigs { releaseconfig { keyAlias 'your_alias' keyPassword 'you_password' storeFile file('your_keystore_path') storePassword 'you_password' } }}","link":"/2020/02/14/2020/2020_02_14-apk-sign-key/"},{"title":"Ethernet Adapter Chipset","text":"最近開發的產品中，需透過USB轉Ethernet來連接網路，但底層只燒錄AX88772B chipset的Driver。 本篇說明如何確認手邊的Ethernet Adapter支援哪種Driver。 使用Ubuntu電腦，打開終端機並輸入指令dmesg cmd12nick:~$ dmesg Esense RJU166 資訊如下 可看到晶片組為ASIX AX88772與製造商為ASIX Elec. Corp. ASUS USB Ethernet Cable 資訊如下 晶片組為Realtek r8152與製造商為Realtek ACER USB Ethernet Cable 資訊如下 晶片組為ASIX AX88772B與製造商為ASIX Elec. Corp.","link":"/2020/02/27/2020/2020_02_27-ethernet_chipset/"},{"title":"Android Hide Navigation Bar","text":"根據 Android官方文件可在程式中隱藏Navigation Bar MainActivity.kt1234window.decorView.apply { systemUiVisibility = View.SYSTEM_UI_FLAG_HIDE_NAVIGATION or View.SYSTEM_UI_FLAG_FULLSCREEN} 但使用滑鼠點擊後，會顯示Navigation Bar，必須再呼叫此函式再將Navigation Bar隱藏起來即可。 何時觸發便是本篇所要談論的重點 我們先將之前Hide Navigation Bar的程式碼寫成函式：hideNavigationBar()。 MainActivity.kt123456private fun hideNavigationBar() { window.decorView.apply { systemUiVisibility = View.SYSTEM_UI_FLAG_HIDE_NAVIGATION or View.SYSTEM_UI_FLAG_FULLSCREEN } } 利用偵測螢幕大小的變化，當作觸發的時機。 MainActivity.kt1234567891011override fun onCreate(savedInstanceState: Bundle?) { super.onCreate(savedInstanceState) setContentView(R.layout.activity_main) var relativeLayout = findViewById&lt;RelativeLayout&gt;(R.id.main_view) relativeLayout.addOnLayoutChangeListener( View.OnLayoutChangeListener { v, left, top, right, bottom, oldLeft, oldTop, oldRight, oldBottom -&gt; }) } 但由於OnLayoutChangeListener為Callback函式，處理UI變化時，不可在函式中處理。 所以我們必須創建一個Handler來呼叫hideNavigationBar函式 Source Code MainActivity.kt12345678910111213141516171819202122232425262728293031323334353637383940 class MainActivity : AppCompatActivity() { private var mUiHandler : UiHandler? = null private val HANDLER_HIDE_NAVIGATION_BAR = 1 override fun onCreate(savedInstanceState: Bundle?) { super.onCreate(savedInstanceState) setContentView(R.layout.activity_main) mUiHandler = UiHandler(this) var relativeLayout = findViewById&lt;RelativeLayout&gt;(R.id.main_view) relativeLayout.addOnLayoutChangeListener( View.OnLayoutChangeListener { v, left, top, right, bottom, oldLeft, oldTop, oldRight, oldBottom -&gt; if (bottom &lt; oldBottom){ mUiHandler!!.sendEmptyMessageDelayed( HANDLER_HIDE_NAVIGATION_BAR, 3000) } }) hideNavigationBar() } private fun hideNavigationBar() { window.decorView.apply { systemUiVisibility = View.SYSTEM_UI_FLAG_HIDE_NAVIGATION or View.SYSTEM_UI_FLAG_FULLSCREEN } } private inner class UiHandler(obj: MainActivity) : Handler() { private val mObj: WeakReference&lt;MainActivity&gt; = WeakReference(obj) override fun handleMessage(msg: Message) { super.handleMessage(msg) when(msg.what) { HANDLER_HIDE_NAVIGATION_BAR -&gt; { hideNavigationBar() } } } }} activity_main.xml1234567891011121314151617&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; android:id=&quot;@+id/main_view&quot; tools:context=&quot;.MainActivity&quot;&gt; &lt;TextView android:id=&quot;@+id/test&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_centerInParent=&quot;true&quot; android:text=&quot;Hello World!&quot; /&gt;&lt;/RelativeLayout&gt;","link":"/2020/03/02/2020/2020_03_02-hide_navigation_bar/"},{"title":"Android Change Resolution","text":"在Android系統中，我們可以通過編譯系統檔案來更改Resolution。 必須具有root權限，才能編譯系統檔案。 先取得root權限並remount後，使用adb shell進入Android系統中。 cmd1234adb rootadb remountadb shell Adb 修改方式 Step 1: 更改解析度 1080p cmd12echo 1080p60hz &gt; /sys/class/display/mode 720p cmd12echo 720p60hz &gt; /sys/class/display/mode Step 2: 更改視窗大小 當我們執行完步驟一後，會發現畫面會錯亂或是沒有被縮放。以下為由720p更改為1080p的結果。 原因是因為視窗大小沒有被改變的原因。 更改視窗大小1080p cmd12echo 0 0 1919 1079 &gt; /sys/class/graphics/fb0/window_axis 720p cmd12echo 0 0 1279 719 &gt; /sys/class/graphics/fb0/window_axis Step 3: 更改控制範圍 步驟二執行完畢後，發現畫面有正常顯示了，但是滑鼠的移動範圍依舊為1280x720的位置，而無法正常的移到最下方或最右方。 因此我們必須調整控制範圍。1080p cmd12echo 1920 1080 1920 1080 &gt; /sys/class/graphics/fb1/scale_axis 720p cmd12echo 1920 1080 1280 720 &gt; /sys/class/graphics/fb1/scale_axis 以上為使用adb shell進入Android系統來更改Resolution的方式。 程式修改方式 在程式中修改的方式如下: 首先必須先確認Android 系統的su指令位於何處，可能在/system/xbin中或/system/bin中。 使用ProcessBuilder.command的方式來執行。 720p 12345678910111213private void change720p() { try { ProcessBuilder pb = new ProcessBuilder(); pb.command(&quot;/system/xbin/su&quot;, &quot;-c&quot;, &quot;echo 720p60hz &gt; /sys/class/display/mode&quot;).start().waitFor(); pb.command(&quot;/system/xbin/su&quot;, &quot;-c&quot;, &quot;echo 0 0 1279 719 &gt; /sys/class/graphics/fb0/window_axis&quot;).start().waitFor(); pb.command(&quot;/system/xbin/su&quot;, &quot;-c&quot;, &quot;echo 1920 1080 1280 720 &gt; /sys/class/graphics/fb1/scale_axis&quot;).start().waitFor(); } catch (IOException e) { e.printStackTrace(); } catch (InterruptedException e) { e.printStackTrace(); } } 1080p 12345678910111213private void change1080p() { try { ProcessBuilder pb = new ProcessBuilder(); pb.command(&quot;/system/xbin/su&quot;, &quot;-c&quot;, &quot;echo 1080p60hz &gt; /sys/class/display/mode&quot;).start().waitFor(); pb.command(&quot;/system/xbin/su&quot;, &quot;-c&quot;, &quot;echo 0 0 1919 1079 &gt; /sys/class/graphics/fb0/window_axis&quot;).start().waitFor(); pb.command(&quot;/system/xbin/su&quot;, &quot;-c&quot;, &quot;echo 1920 1080 1920 1080 &gt; /sys/class/graphics/fb1/scale_axis&quot;).start().waitFor(); } catch (IOException e) { e.printStackTrace(); } catch (InterruptedException e) { e.printStackTrace(); } }","link":"/2020/03/09/2020/2020_03_09-change_resolution/"},{"title":"Android 播放 Gif 檔","text":"Android 要在app上播放gif的方式有很多種, 可以使用ImageView輪撥, WebView來播放等等。在網路上收尋到第三方Library : GifImageView搭配Glide來播放gif檔。Android上的Glide主要是處理圖片與影片的技術，讓原本的加載流程更加順暢。 Step 1: 引用Library 在app的build.gradle中引用 pl.droidsonroids.gif:android-gif-drawable:1.1.17 build.gradle12345dependencies { ... implementation 'pl.droidsonroids.gif:android-gif-drawable:1.1.17'} Step 2: 使用GifImageView GifImageView繼承ImageView，使用方式與一般使用ImageView一樣。 在xml檔案中使用pl.droidsonroids.gif.GifImageView即可。 activity_main.xml1234567891011121314151617&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; tools:context=&quot;.MainActivity&quot;&gt; &lt;pl.droidsonroids.gif.GifImageView android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_centerInParent=&quot;true&quot; android:src=&quot;@drawable/gif_image_view&quot; /&gt;&lt;/RelativeLayout&gt; 執行結果","link":"/2020/03/18/2020/2020_03_18-gif_imageview/"},{"title":"Android Google TTS","text":"Google TTS相對於其他TTS的使用方式來講非常的容易上手，網路上也有很多教學文章可參考。 但由於開發所使用的機器Android版本較舊，只有早期的Pico TTS可以使用，必須上網下載Google TTS apk才能使用Google文字轉語音引擎。 下載並安裝好Google TTS後，遇到以下幾種問題及解決方式。 只有出現Pico TTS，無顯示Google TTS 進入[設定 -&gt; 語言與輸入設定 -&gt; 文字轉語音輸出] 發現只有出現Pico TTS卻沒有Google文字轉語音引擎。 遇到此問題時，必須先將Pico TTS停用。 從[設定-&gt;應用程式]中選擇Pico TTS後，選擇停用。 再度進入文字轉語音輸出中就可以看到Google文字轉語音引擎。 無法進入文字轉語音輸出 由於客製化的設備中，將語言與輸入設定隱藏起來。 經由Log trace後，此設定頁面為TextToSpeechSettings，它是一個Fragment，由Settings app中的SubSetting所使用。 我們可以透過adb 來launch此Fragment，網路上搜尋到的方式為： cmd12adb shell am start -n com.android.settings/com.android.settings.SubSettings -e :android:show_fragment com.android.settings.tts.TextToSpeechSettings 但此方式喚起後會Crash: NullPointerException，改用以下的方式才能成功喚起此Fragment。 cmd12adb shell am start -n com.android.settings/com.android.settings.SubSettings -e :settings:show_fragment com.android.settings.tts.TextToSpeechSettings 執行結果 成功喚起後，可透過Google文字轉語音引擎，將語音設定為 中文(台灣)的模式。 本篇使用android.speech.tts.TextToSpeech package來實做TTS。 Step 1: 初始化TTS 初始化時設定初始化Listener : TextToSpeech.OnInitListener ，初始化完成會由onInit 函數返回結果。 MainActivity12345678910111213141516171819202122232425public class MainActivity extends AppCompatActivity implements TextToSpeech.OnInitListener { private TextToSpeech mTextToSpeech; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); mTextToSpeech = new TextToSpeech(this.getApplicationContext(), this); } @Override protected void onDestroy() { if (mTextToSpeech != null) { mTextToSpeech.shutdown(); } super.onDestroy(); } @Override public void onInit(int status) { Log.e(&quot;MainActivity&quot;, &quot;onInit : &quot; + status); }} Step 2: 設定語系 初始化成功後，可設定語系並檢測是否支援此語系。 MainActivity123456789101112@Overridepublic void onInit(int status) { Log.e(&quot;Nick Main&quot;, &quot;onInit : &quot; + status); if (status == TextToSpeech.SUCCESS) { int result = mTextToSpeech.setLanguage(Locale.TRADITIONAL_CHINESE); if (result != TextToSpeech.LANG_COUNTRY_AVAILABLE &amp;&amp; result != TextToSpeech.LANG_AVAILABLE){ Log.e(&quot;MainActivity&quot;, &quot;TTS 不支持此語言！&quot;); } }} Step 3: 監聽TTS進度 當開始讀出語音時，我們可能需要在開始朗讀或結束朗讀時，執行一些動作。所以必須使用UtteranceProgressListener來監聽進度。 可在初始化成功時，設置監聽。 MainActivity123456789101112131415161718192021222324252627@Overridepublic void onInit(int status) { Log.e(&quot;Nick Main&quot;, &quot;onInit : &quot; + status); if (status == TextToSpeech.SUCCESS) { mTextToSpeech.setOnUtteranceProgressListener(new UtteranceProgressListener() { @Override public void onStart(String s) { Log.e(&quot;MainActivity&quot;, &quot;onStart: &quot; + s); } @Override public void onDone(String s) { Log.e(&quot;MainActivity&quot;, &quot;onDone: &quot; + s); } @Override public void onError(String s) { Log.e(&quot;MainActivity&quot;, &quot;onError: &quot; + s); } }); int result = mTextToSpeech.setLanguage(Locale.TRADITIONAL_CHINESE); if (result != TextToSpeech.LANG_COUNTRY_AVAILABLE &amp;&amp; result != TextToSpeech.LANG_AVAILABLE){ Log.e(&quot;MainActivity&quot;, &quot;TTS 不支持此語言！&quot;); } }} 使用 mTextToSpeech.speak(“測試Google中文語音”, TextToSpeech.QUEUE_ADD, null); 執行時文字有讀出聲音，但是Callback函式都沒有收到訊息，原因是因為沒有設定utteranceId，所以TTS library不知該返回給誰。 Step 4: 設定utteranceId 在呼叫speak API時必須傳入utteranceId，使用Random來產生一組utteranceId。 MainActivity123456789Random random = new Random();random.setSeed(Calendar.getInstance().getTimeInMillis());HashMap&lt;String, String&gt; myHashAlarm = new HashMap&lt;String, String&gt;();myHashAlarm.put(TextToSpeech.Engine.KEY_PARAM_STREAM, String.valueOf(AudioManager.STREAM_ALARM));myHashAlarm.put(TextToSpeech.Engine.KEY_PARAM_UTTERANCE_ID, String.valueOf(random.nextInt()));int result = mTextToSpeech.speak(&quot;測試Google中文語音&quot;, TextToSpeech.QUEUE_ADD, myHashAlarm); 執行後就會在UtteranceProgressListener中的onStart與onDone中，看見返回結果。","link":"/2020/03/20/2020/2020_03_20-google_tts/"},{"title":"Android 自動填入 Autofill Framework","text":"Android 8 (Oreo, SDK 26)增加了自動填入的框架，使我們在填寫表單時更快速較不易出錯。 本篇中使用基礎元件(EditText, SharedPreferences)，來完成自動填入的功能。 Step 1: 畫面布局 在主畫面中，我們只使用了一個EditText來實做。 activity_main.xml123456789101112131415161718192021222324&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; tools:context=&quot;.MainActivity&quot;&gt; &lt;EditText android:id=&quot;@+id/editText&quot; android:layout_width=&quot;348dp&quot; android:layout_height=&quot;79dp&quot; android:ems=&quot;10&quot; android:inputType=&quot;textPersonName&quot; android:text=&quot;Name&quot; android:autofillHints=&quot;user_name&quot; android:importantForAutofill=&quot;yes&quot; app:layout_constraintBottom_toBottomOf=&quot;parent&quot; app:layout_constraintEnd_toEndOf=&quot;parent&quot; app:layout_constraintStart_toStartOf=&quot;parent&quot; app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt; 值得注意的是android:autofillHints, android:importantForAutofill這兩個屬性。 android:autofillHint: 註明autofill的tag，tag內容可以自己定義，也可以使用Android 官方文件HintConstants所定義的tag, 共有38個種類。 android:importantForAutofill : 自動填入服務 此屬性內容值說明如下 IMPORTANT_FOR_AUTOFILL_AUTO 預設值, 由系統決定是否使用自動填入 IMPORTANT_FOR_AUTOFILL_NO 不使用自動填入,但是子view可以使用 IMPORTANT_FOR_AUTOFILL_NO_EXCLUDE_DESCENDANTS 不使用自動填入,子view也不使用 IMPORTANT_FOR_AUTOFILL_YES 使用自動填入,包括子view IMPORTANT_FOR_AUTOFILL_YES_EXCLUDE_DESCENDANTS 使用自動填入,但子view不使用 Step 2: 創建AutofillService 新增class MyAutofillService繼承AutofillService，並實現兩個函式onFillRequest及onSaveRequest onFillRequest為執行自動填入時所呼叫的函式，在此文章中會介紹當執行自動填入時，顯示視窗讓使用者選擇填入的值。 onSaveRequest為保存自動填入的內容值所呼叫。 MyAutofillService.java123456789101112131415public class MyAutofillService extends AutofillService { private String TAG = &quot;Nick AutofillService&quot;; //執行自動填入 @Override public void onFillRequest(@NonNull FillRequest request, @NonNull CancellationSignal cancellationSignal, @NonNull FillCallback fillCallback) { Log.e(TAG, &quot;onFillRequest&quot;); } //保存自動填入的值 @Override public void onSaveRequest(@NonNull SaveRequest request, @NonNull SaveCallback callback) { }} 在AndroidManifest.xml中宣告此Service AndroidManifest.xml123456789101112131415161718192021&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; package=&quot;com.nickthomas55.autofill.test&quot;&gt; &lt;application ... &gt; &lt;activity android:name=&quot;.MainActivity&quot;&gt; ... &lt;/activity&gt; &lt;service android:name=&quot;.MyAutofillService&quot; android:label=&quot;Autofill Service Test&quot; android:permission=&quot;android.permission.BIND_AUTOFILL_SERVICE&quot;&gt; &lt;meta-data android:name=&quot;android.autofill&quot; android:resource=&quot;@xml/autofill_filler&quot;/&gt; &lt;intent-filter&gt; &lt;action android:name=&quot;android.service.autofill.AutofillService&quot;/&gt; &lt;/intent-filter&gt; &lt;/service&gt; &lt;/application&gt;&lt;/manifest&gt; 在使用自動填入服務之前，我們必須先開啟自動填入服務的功能。從[設定-&gt;系統-&gt;語言與輸入設定-&gt;進階-&gt;自動填入服務] 在此頁面中可看見我們在AndroidManifest.xml中所定義的android:label名稱，選取此服務為自動填入服務。 在Project res資料夾中新增xml 資料夾，並在此資料夾中新增autofill_filler.xml內容如下 autofill_filler.xml1234&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;autofill-service xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:settingsActivity=&quot;[your package name].MainActivity&quot;/&gt; Step 3: 初始化 當程式一開始時, 我們先在SharedPreferences中加入自動填入的內容。宣告AutofillManager和AutofillCallback，在onResume與onPause註冊與解註冊callback。 MainActivity.java123456789101112131415161718192021222324252627282930313233343536373839404142434445464748public class MainActivity extends AppCompatActivity { private AutofillManager mAutofillManager; private MyAutofillCallback mAutofillCallback; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); init(); mAutofillManager = this.getSystemService(AutofillManager.class); mAutofillCallback = new MyAutofillCallback(); } @Override protected void onResume() { super.onResume(); mAutofillManager.registerCallback(mAutofillCallback); } @Override protected void onPause() { super.onPause(); mAutofillManager.unregisterCallback(mAutofillCallback); } private void init() { SharedPreferences.Editor editor = getSharedPreferences(&quot;People_Info&quot;, MODE_PRIVATE).edit(); editor.putString(&quot;user_name&quot;, &quot;nick&quot;); editor.commit(); } private class MyAutofillCallback extends AutofillManager.AutofillCallback { @Override public void onAutofillEvent(@NonNull View view, int event) { super.onAutofillEvent(view, event); } @Override public void onAutofillEvent(@NonNull View view, int virtualId, int event) { super.onAutofillEvent(view, virtualId, event); } }} Step 4: 取得自動填入的元件 在執行自動填入和保存自動填入資料時，我們必須先取得自動填入的元件。 MyAutofillService.java123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354 public class MyAutofillService extends AutofillService { private String TAG = &quot;Nick AutofillService&quot;; //執行自動填入 @Override public void onFillRequest(@NonNull FillRequest request, @NonNull CancellationSignal cancellationSignal, @NonNull FillCallback fillCallback) { Log.e(TAG, &quot;onFillRequest&quot;); //取得畫面中所有元件 List&lt;FillContext&gt; context = request.getFillContexts(); AssistStructure structure = context.get(context.size() - 1).getStructure(); //在所有元件中, 收集需要自動填入的元件 List&lt;AssistStructure.ViewNode&gt; fields = new ArrayList&lt;&gt;(); traverseStructure(structure, fields); } //保存自動填入的值 @Override public void onSaveRequest(@NonNull SaveRequest request, @NonNull SaveCallback callback) { Log.e(TAG, &quot;onSaveRequest&quot;); //取得畫面中所有元件 List&lt;FillContext&gt; context = request.getFillContexts(); AssistStructure structure = context.get(context.size() - 1).getStructure(); //在所有元件中, 收集自動填入的元件 List&lt;AssistStructure.ViewNode&gt; fields = new ArrayList&lt;&gt;(); traverseStructure(structure, fields); } //掃描畫面上所有元件 private void traverseStructure(AssistStructure structure, List&lt;AssistStructure.ViewNode&gt; fields) { int nodes = structure.getWindowNodeCount(); for (int i = 0; i &lt; nodes; i++) { AssistStructure.WindowNode windowNode = structure.getWindowNodeAt(i); AssistStructure.ViewNode viewNode = windowNode.getRootViewNode(); traverseNode(viewNode, fields); } } //收集自動填入的元件 private void traverseNode(AssistStructure.ViewNode viewNode, List&lt;AssistStructure.ViewNode&gt; fields) { if (viewNode == null || viewNode.getClassName() == null) return; if (viewNode.getAutofillHints() != null &amp;&amp; viewNode.getAutofillHints().length &gt; 0) { fields.add(viewNode); } for (int i = 0; i &lt; viewNode.getChildCount(); i++) { AssistStructure.ViewNode childNode = viewNode.getChildAt(i); traverseNode(childNode, fields); } }} 從SharedPreferences, DB, 或文件中取得自動填入的資料內容 MyAutofillService.java123 SharedPreferences sharedPreferences = getSharedPreferences(&quot;People_Info&quot;, MODE_PRIVATE);String userName = sharedPreferences.getString(&quot;user_name&quot;, &quot;&quot;); 設定一個浮動視窗來顯示資料內容 MyAutofillService.java1234RemoteViews afRemoteView = new RemoteViews(getPackageName(), R.layout.user_suggestion);afRemoteView.setTextViewText(R.id.user_suggestion_item, userName);afRemoteView.setImageViewResource(R.id.icon, R.mipmap.ic_launcher_round); user_suggestion_item.xml 畫面設定如下 user_suggestion_item.xml1234567891011121314151617181920212223 &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;LinearLayout android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; android:orientation=&quot;horizontal&quot; xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt; &lt;TextView android:id=&quot;@+id/user_suggestion_item&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:padding=&quot;5dp&quot; android:textSize=&quot;18sp&quot; android:textStyle=&quot;bold&quot;/&gt; &lt;ImageView android:id=&quot;@+id/icon&quot; android:layout_gravity=&quot;center&quot; android:layout_height=&quot;wrap_content&quot; android:layout_marginEnd=&quot;?android:attr/listPreferredItemPaddingEnd&quot; android:layout_width=&quot;wrap_content&quot; android:src=&quot;@drawable/people&quot; /&gt;&lt;/LinearLayout&gt; 將浮動視窗和自動填入元件做Mapping MyAutofillService.java123456//設定元件的顯示視窗AssistStructure.ViewNode userField = fields.get(0);Dataset primaryEmailDataSet = new Dataset.Builder(afRemoteView) .setValue(userField.getAutofillId(), AutofillValue.forText(userName)) .build(); 封裝返回數據並通知自動填入框架 MyAutofillService.java1234567//封裝數據FillResponse response = new FillResponse.Builder() .addDataset(primaryEmailDataSet) .build();//通知自動填入的框架fillCallback.onSuccess(response); Source Code MainActivity.java請參考上面內容，以下為MyAutofillService.java完整內容。 MyAutofillService.java12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576 public class MyAutofillService extends AutofillService { private String TAG = &quot;Nick AutofillService&quot;; //執行自動填入 @Override public void onFillRequest(@NonNull FillRequest request, @NonNull CancellationSignal cancellationSignal, @NonNull FillCallback fillCallback) { Log.e(TAG, &quot;onFillRequest&quot;); //取得畫面中所有元件 List&lt;FillContext&gt; context = request.getFillContexts(); AssistStructure structure = context.get(context.size() - 1).getStructure(); //在所有元件中, 收集需要自動填入的元件 List&lt;AssistStructure.ViewNode&gt; fields = new ArrayList&lt;&gt;(); traverseStructure(structure, fields); //設定要自動填入的資料內容, 從SharedPreferences, DB, 文件中取得資料內容 SharedPreferences sharedPreferences = getSharedPreferences(&quot;People_Info&quot;, MODE_PRIVATE); String userName = sharedPreferences.getString(&quot;user_name&quot;, &quot;&quot;); //用於顯示內容的視窗 RemoteViews afRemoteView = new RemoteViews(getPackageName(), R.layout.user_suggestion); afRemoteView.setTextViewText(R.id.user_suggestion_item, userName); afRemoteView.setImageViewResource(R.id.icon, R.mipmap.ic_launcher_round); //設定元件的顯示視窗 AssistStructure.ViewNode userField = fields.get(0); Dataset primaryEmailDataSet = new Dataset.Builder(afRemoteView) .setValue(userField.getAutofillId(), AutofillValue.forText(userName) ).build(); //封裝數據 FillResponse response = new FillResponse.Builder() .addDataset(primaryEmailDataSet) .build(); //通知自動填入的框架 fillCallback.onSuccess(response); } //保存自動填入的值 @Override public void onSaveRequest(@NonNull SaveRequest request, @NonNull SaveCallback callback) { Log.e(TAG, &quot;onSaveRequest&quot;); //取得畫面中所有元件 List&lt;FillContext&gt; context = request.getFillContexts(); AssistStructure structure = context.get(context.size() - 1).getStructure(); //在所有元件中, 收集自動填入的元件 List&lt;AssistStructure.ViewNode&gt; fields = new ArrayList&lt;&gt;(); traverseStructure(structure, fields); //保存於SharedPreferences, DB, 文件中 callback.onSuccess(); } private void traverseStructure(AssistStructure structure, List&lt;AssistStructure.ViewNode&gt; fields) { int nodes = structure.getWindowNodeCount(); for (int i = 0; i &lt; nodes; i++) { AssistStructure.WindowNode windowNode = structure.getWindowNodeAt(i); AssistStructure.ViewNode viewNode = windowNode.getRootViewNode(); traverseNode(viewNode, fields); } } private void traverseNode(AssistStructure.ViewNode viewNode, List&lt;AssistStructure.ViewNode&gt; fields) { if (viewNode == null || viewNode.getClassName() == null) return; if (viewNode.getAutofillHints() != null &amp;&amp; viewNode.getAutofillHints().length &gt; 0) { fields.add(viewNode); } for (int i = 0; i &lt; viewNode.getChildCount(); i++) { AssistStructure.ViewNode childNode = viewNode.getChildAt(i); traverseNode(childNode, fields); } }} 執行結果","link":"/2020/05/21/2020/2020_05_21-autofill/"},{"title":"Android AutoSize TextView","text":"當一個元件所顯示的內容過長時，可能會顯得不完整。在Android 8 (Oreo, SDK 26)增加了自動調整字體大小，讓TextView文字大小自動擴展或收縮，使得輸入時可以看到完整內容。 Step 1: 畫面布局 首先我們先設定一個輸入框及所要顯示的內容，並且限制TextView的大小為100dp並且使用單行顯示。 activity_main.xml1234567891011121314151617181920212223242526272829303132333435&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; android:background=&quot;#FF97BFFF&quot; tools:context=&quot;.MainActivity&quot;&gt; &lt;TextView android:id=&quot;@+id/textView&quot; android:layout_width=&quot;100dp&quot; android:layout_height=&quot;wrap_content&quot; android:layout_marginTop=&quot;88dp&quot; android:text=&quot;Hello&quot; android:textSize=&quot;18sp&quot; android:maxLines=&quot;1&quot; app:layout_constraintEnd_toEndOf=&quot;parent&quot; app:layout_constraintStart_toStartOf=&quot;parent&quot; app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt; &lt;EditText android:id=&quot;@+id/editText&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_marginTop=&quot;28dp&quot; android:ems=&quot;10&quot; android:hint=&quot;Enter...&quot; android:inputType=&quot;textPersonName&quot; app:layout_constraintEnd_toEndOf=&quot;parent&quot; app:layout_constraintHorizontal_bias=&quot;0.537&quot; app:layout_constraintStart_toStartOf=&quot;parent&quot; app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot; /&gt;&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt; 在Android 8之前，如果我們輸入的文字超過此TextView的寬度時，會無法顯示完整內容。 Step 2: 設定AutoSize 在TextView的元件上增加android:autoSizeTextType=”uniform”， autoSizeTextType有兩種參數可設定，預設值為 none。 AUTO_SIZE_TEXT_TYPE_NONE (none)：關閉自動調整功能。AUTO_SIZE_TEXT_TYPE_UNIFORM (uniform)：開啟自動調整功能。 activity_main.xml12345678910111213&lt;TextView android:id=&quot;@+id/textView&quot; android:layout_width=&quot;100dp&quot; android:layout_height=&quot;wrap_content&quot; android:layout_marginTop=&quot;88dp&quot; android:text=&quot;Hello&quot; android:textSize=&quot;18sp&quot; android:maxLines=&quot;1&quot; android:autoSizeTextType=&quot;uniform&quot; app:layout_constraintEnd_toEndOf=&quot;parent&quot; app:layout_constraintStart_toStartOf=&quot;parent&quot; app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt; 執行結果 當輸入文字超過顯示框時，會自動調整字體大小","link":"/2020/06/15/2020/2020_06_15-autosize_textview/"},{"title":"Xcode - 發佈遇到IPA processing failed","text":"發布應用程式時，遇到 IPA processing failed 解決方式 Step 1: open Finder–&gt; Application (應用程式) Step 2: 在 Xcode右鍵選擇—-&gt; 取得資訊 Step 3: 勾選use Rosetta 再重新發布一次即可．","link":"/2021/03/05/2021/2021_03_05-ipa_process_failed/"},{"title":"iOS 輸入框-提示文字","text":"在 iOS 6+ 以上，針對輸入框提供了attributedPlaceholder來設置提示文字的顏色． 使用方式UITextField *nameTextUIColor *color = [UIColor grayColor]; nameText.attributedPlaceholder = [[NSAttributedString alloc] initWithString:@”Full Name” attributes:@{NSForegroundColorAttributeName:color}];","link":"/2021/03/09/2021/2021_03_09-edittext_hint_color/"},{"title":"SwiftUI 物件階層","text":"設計App時，除了空件的位置之外，階層也是很重要的一環，它將決定A元件覆蓋B元件，還是被B元件所覆蓋． 在SwiftUI中主要有ZStack, Overlay 和 Background三種技術可以調整階層． ZStack ZStack和其他stack元件一樣，可在{ }中設定物件排列的順序，和HStack, VStack不一樣的是，ZStack是可以在三維空間中疊加的． { }中的元件，後面的元件會覆蓋於前一個元件． 以下例來說，會先加入一個Image後，Text會覆蓋在Image的上方． ContentView.swift12345678struct ContentView: View { var body: some View { ZStack { Image(&quot;testImage&quot;) Text(&quot;Hello, world!&quot;) } }} alignment ZStack 預設為將元件全部置中，但可以透過alignment參數控制對其的方式． 以alignment: .buttom為例，將圖片與文字對齊底部． ContentView.swift12345678struct ContentView: View { var body: some View { ZStack(alignment: .bottom) { Image(&quot;testImage&quot;) Text(&quot;Curry&quot;) } }} padding &amp; offset 我們也可以利用padding 和 offset來調整ZStack元件之間的間距． ContentView.swift12345678struct ContentView: View { var body: some View { ZStack(alignment: .bottom) { Image(&quot;testImage&quot;).padding(.bottom, 20) Text(&quot;Curry&quot;).offset(x: -80, y: 0) } }} Overlay 如果不使用ZStack，我們也可以使用Overlay的方式達到此效果． Overlay的作用是將物件疊加在自己身上． ContentView.swift12345struct ContentView: View { var body: some View { Image(&quot;testImage&quot;).overlay(Text(&quot;Curry&quot;)) }} 效果和第一張圖一樣，預設會將物件對齊於中間． 也可透過alignment的屬性來設置對齊方式． ContentView.swift12345struct ContentView: View { var body: some View { Image(&quot;testImage&quot;).overlay(Text(&quot;Curry&quot;), alignment: .bottom) }} 結合padding &amp; offset達到其第三圖的效果． ContentView.swift12345678struct ContentView: View { var body: some View { Image(&quot;testImage&quot;) .padding(.bottom, 20) .overlay(Text(&quot;Curry&quot;).offset(x: -80, y: 0), alignment: .bottom) }} Overlay可將多個物件疊加在自己身上，以下例來說，再多疊加一個 Image物件在上面．此Image物件會在Text的上方，如果設計不好的話，會造成文字被圖片所擋住． ContentView.swift123456789struct ContentView: View { var body: some View { Image(&quot;testImage&quot;) .padding(.bottom, 20) .overlay(Text(&quot;Curry&quot;).offset(x: -80, y: 0), alignment: .bottom) .overlay(Image(&quot;basketball&quot;).resizable() .frame(width: 72.0, height: 72.0).offset(x: -10, y: 90)) }} Background Bakground和Overlay為相反疊加順序，Overlay是將物件疊加在自己身上，而Background是將自己疊加在物件身上． ContentView.swift123456struct ContentView: View { var body: some View { Image(&quot;testImage&quot;).resizable().frame(width: 150, height: 250, alignment: .center).offset(x: 20, y: 0) .background( Image(&quot;curryBrand&quot;)) }} Background也可以透過設定padding &amp; Offset的方式調整內部物件的位置．","link":"/2021/03/25/2021/2021_03_25-object_z_order/"},{"title":"SwiftUI 背景如何渲染於Status Bar底下","text":"在 WWDC 2019 大會上，Apple 發佈了全新的框架SwiftUI，讓你用更少的程式碼來設計及開發iOS App． 以往Swift的底層依舊是Object C，而SwiftUI已將底層全面換成Swift語法． Swift: UIKit通常需要搭配storyboards一起使用，而SwitfUI完全使用程式碼來建構，並且可搭配Automatic Preview來即時預覽畫面． 設計App時，通常會設定自己的背景圖片，接下來我們來看如何設定 Step 1: 建立Image Set 在左邊目錄中選取 Assets.xcassets後，在右邊選項中按右鍵，新增ImageSet (在此以loginBackground為例)並將圖片拖曳至虛線框中． Step 2: 新增Background 回到主頁面中，使用ZStack設定背景圖和文字． Image中填入剛剛所設定的ImageSet的名稱． ContentView.swift123456789struct ContentView: View { var body: some View { ZStack { Image(&quot;loginBackground&quot;).resizable() Text(&quot;Hello, world!&quot;) .padding() } }} 會發現Status Bar的部分，還是預設的白色，並沒有被藍色背景所涵蓋． Step 3: 屬性 : edgesIgnoringSafeArea 將ZStack添加屬性: edgesIgnoringSafeArea，並指定方向為vertival ContentView.swift123456789struct ContentView: View { var body: some View { ZStack { Image(&quot;loginBackground&quot;).resizable() Text(&quot;Hello, world!&quot;) .padding() }.edgesIgnoringSafeArea(.vertical) }} 這樣就可以看到status bar的背景已被圖片所替換掉了．","link":"/2021/03/25/2021/2021_03_25-statusbar_background/"},{"title":"Error Type &#39;()&#39; cannot conform to &#39;View&#39;","text":"在佈局畫面時，遇到 Type ‘()’ cannot conform to ‘View’; only struct/enum/class types can conform to protocols 的錯誤訊息． 原因是在佈局未完全時，在Main Thread上不能執行非畫面佈局的執行動作． 將這些非畫面佈局的動作，放在onAppear() (畫面佈局完成後)即可解決此問題．","link":"/2021/04/07/2021/2021_04_07-view_error/"},{"title":"Can&#39;t find type xxx in scope","text":"在程式中，常常會愈遇到 Can’t find type ‘XXX’ in scope 的錯誤，發生原因通常是 拼字錯誤或大小寫不一致 型態宣告不對 未加入complie source中 這次遇到的問題為第三點，再新增加一個class後，檢查命名與型態都正確時，還是無法解決此錯誤． 後來發現我在Project增加了兩個Target，第一個Target可以正常執行，而第二個Target卻會顯示錯誤． 於是檢查一下.xcodeproj, 此Taget的Build Phases，發現此class未加入compile source中，將此class加入進去即可解決此錯誤．","link":"/2021/04/08/2021/2021_04_08-add_compile_source/"},{"title":"Alamofire SessionDeinitialized &amp; TLS Trust","text":"在使用Alamofire library進行Https連接時，遇到了default TLS Trust evaluation failed 這個錯誤． 基本上看起來是無法取得憑證所導致的錯誤，但網站端所請求的並不是合法的憑證． 因此我們必須先透過ServerTrustManager來繞過憑證的驗證． 1234567891011class HttpManager: ObservableObject { func downloadCustomerIcon() { let url=&quot;https:xxx.xxx.xxx.xxx/test&quot; let manager = ServerTrustManager(evaluators: [&quot;xxx.xxx.xxx.xxx&quot;: DisabledTrustEvaluator()]) let session = Session(serverTrustManager: manager); session.request(requestStr, method: .get).responseJSON(completionHandler: { (completion) in print(completion.debugDescription) }) }} 使用此方式會得到Alamofire.AFError.sessionDeinitialized的錯誤，原因是Session還未完成請求時，已被程式關閉． 因為Https的請求是在非Main Thread執行，當開始請求時，已經離開func scope，所以session會被註銷所導致． 因此我們必須將seesion移到func外宣告，即可解決此錯誤． 12345678910111213class HttpManager: ObservableObject { var session: Session? = nil; func downloadCustomerIcon() { let url=&quot;https:xxx.xxx.xxx.xxx/test&quot; let manager = ServerTrustManager(evaluators: [&quot;xxx.xxx.xxx.xxx&quot;: DisabledTrustEvaluator()]) session = Session(serverTrustManager: manager); session!.request(requestStr, method: .get).responseJSON(completionHandler: { (completion) in print(completion.debugDescription) }) }}","link":"/2021/04/09/2021/2021_04_09-alamofire_error/"},{"title":"Escaping 跳脫符號","text":"範例中，使用兩層的closure，將closure作為callback function，當完成事件時，需要透過callback function將執行結果傳遞至畫面上呈現． 使用時遇到了以下的錯誤訊息．“Escaping closure captures non-escaping parmeter” 原因是因為callback這個closure的生命週期只在getCustomerConfig中，當結束後，SwiftUI就會將此callback closure釋放． 因此在session!.request的closure中，是不存在callback這個物件． 解決方式，在callback closure宣告時，加入跳脫符號 “@escaping”． @escaping可讓物件跳脫生命週期，function執行完後可繼續使用．","link":"/2021/04/13/2021/2021_04_13-escape/"},{"title":"網頁架設新頁面","text":"76ef187465d52bd7e82b09161c37e3ed6b00b28415e4029091d90600b87bf250c979e881ece2469543e18f0d0434ac50c1ca0359787cc70ff6c6844ecd505f8182032454d782806117c5544d78048a687b2b4aef72eddfa06a434b6fe1fb867eb20d5c0bb6c3ad79f3bbaf11cee75ccd7eee64be6783576f3ed33cf4d9ff3f615f4ee861ce8d8bf68455df8933370a99fb3de6e39a177f5ca4b7b2290174fd6810721e7431ea473effb8212b5b24b20c7be277475f97a1ef5b9e34669f6954a36b7c0457ba08662e530dbba337dffc94cc88e1dd635287ac789fe740c1089a475b124df0ce4bb6795bf06b9fca2cff1aa24fea3196bc851efee57e799aef72eb400472d053785ba8f1687c2a2dc2f7398289f8aec4d8af74e3ac688aae4e071b9fb4f28f835806d5c45967fc4b4af304da26abe451be329b669da85e94be231e06648e95f7ca74028ef90cee7017f8cfa53637c32db38c5a873c76c81791c8f24538b8eac46ecd52ea7162b3161353ce60bfa45416bd0f556d2e98303f092d28d3c0d72047f067827887d5aba2bbccd69128b2ef2d967dcade8b94c670848982f865cc1ca3a0c862780b9fbdc754f8b4a31fe0550a7b98cf0f3b670610589c19df775345aa40338875b238cc51a6780fff9059b90460bfdc578eac3efc2becdc9724a4cc7e604dd8fc3ecc59e0b9ab72cef04e2d109be3780a70d078020a8eb4d4a26004e8529ed0f4a4bd5314ef2d38ef60cbbd085fef06203b60e69be0c706f22fbc249002d65ebcf93528ae41b937a8387785e81957bb7ec8ceac92051c042e733b07fb6c7a942f6c59d058a6ccc1465efe9208477be6eb66363329cf1ad31d76f6bd32d3cebd7f7bf9372179b97930fdb00b7df535270bff88aecd477f5d059c204527b0460dc0271eea46b2be8a199aeda2b7fbca38470d50b237e899f87c324b59818f73a23bc629175d57b90a1d0c30a0d71b0503e134218b1d5d0b5259150472348f34f05b6959821883c00284b874df7c7b09305a02f792f5f1d0509122b1803e2fe7ffc150874c5258690cf9eee87693828182652cb41273882882b7c005ff581d8f34018838e848c69de9401162cbacfd1ea2d830d6b63844b1eb05e8c7d5d2c940b1599eecfb82b2bf6863046efc6bd132febb4690dbda0abbd38fb63b6b159d1d5dc9dbe2cd2a788355c0f2aaa88302dac2f902e42628b550e9a2659de497276a03bce5c440d757b07dfeba15f38cd9e78ab3978054ba3ad5b7e54b6db8fc8df3d84b4435cfd0f22e8914b935d6d142fd24ae91bf792fe56665640641cde716da1497c68c94dc780c5b7deee5020aaa90f585bf3135e1b8ea8b55a2552091c9148ce574c7ba8f2f5938216cd5d547d2a25f6a2353ea9258620d1a4f2dde03f40bc5623bb4ef26d27314b707c5f91a88ccecf891b54e012558c1b018e58fcde722f4a8e892275baa8609f39d9516804c04424f7c3aaf5114fabd7258d84e9f0b7bbefa15cbeb5558458e0e8497986bb7dece57c720bad2d1e5db6279001f762761caac9fe3bc03f221dbdb62d0dcd4e90733f136218a2cece934a3b0f4cc39332f837db344905fe228b2d172fa55c586873d14bca4c00362e0e6e88da8daeffe6f70a3d58776ff45e686fbfb120469bbd6a6b95440fbf7c793e0c038ad138ec79ed8c8974a310ca39b82096257ce84703d21dff8ecb7b0df8b02ebff3e6830f0b27e700cf472b5967d755812844a1aa77471a758bb0c1f9165dfd20003e8dbcb40fb1092e25d2bf442a98045d4bbb6dcdf29fea651394b5644334fbe49c394ecc7ff346d684ce6499f56f56025b8e30d31a0a305462a539c1ff1e3ae99daf9cfae6f1046d77085ab9834647c61eb7cc004b7b4d20e187fa9db5cbeb25b791ae51f4c369a57e68ee47fa3802e16f7a3293cbbcdc4a8a5d9b4f33c6693304f4e6d8236a531b89527323751b15c253b1619771c8969f6fd60ed4eb7c18aa86181275de2a2d9124a83a99557e83eb4580e5d9f19a3c3997c9811b651d952742d0f828e302afc435be073e6a9c1aa0c18e355fbd6c2ce68ab001b25757ce3d936b5a425b4f53220d34c91ff150dd82e8cc919aec1999d878db86d755bb1af75c98a555aa21a545e7423f0bb115a3f19ceb2dfa6dfa3e00c4739f948c1c8720465976df4cabdf350c1fc9ce8d1d8a51ece7d2d6ef55bbe290169fe4407c2ec265be2353734fc65ae3c85bf621a322938f5b839ad8c184cd1a2d7472cf3a87f29036d1cd5ac0d7ff9b72b47608a5deb51fb1f2d06f6ab18eb7a91bd6106e4b06c0d4caaf67d80700bcf9950473e59ca9b898619d85f6262fc1a592777d8dc6e2d8d961eed4e46341a85aed62fb7deddb1219ddccb7682420b3a592314743a4a85e777772a47dd201297d6e2e83e8ef05b3fce703f9566a50ca6e76b05c24787c0056674933b962f0c0b2319d2221e6825c9278165092c5e65c943c97d1885ece07dcc8b0fa7d803aa0747a4195fc6b6e56bef4b50fe5b5f307fab6b3dd96f1bf121eed8b5076540b51812b3212e70e9f4c703f79247ccfde15c913426b1b354560399a9efe2e82fc7304b319067e3a0d3b0a252671291fb464347a773c96643d0682f9c3544563cd133d4a488a4bcad4ee31f79c7c25e29a6c3dbccd880341b8b2a3a383ae056807591ab28863813f39c8778c7562dc7b483110117ae5ec24dab6b75a7bfe3632b89b05c8272c0fc2f020b44f4a31b88dea84964a2435f3f0dece4ed6e12815bbd67b0452d13f415a688f6bcfd217c4ed18623d134299795dce80303fe36a972872db34716778a68244604e9b6ef44d613b025865007cc71c601d2d56c1e3174d4e40b776d5009264c61ec77f7e6f1e367202b03c2a5807699d24f4efb7e02aefca20cba7e6e7c01a7bb2f09002c5e3f601f329132064aa7ba25624109f7bc05e4f34e38e707233b520f6423c03fcfebe5e430128293c53a3347697f3dfdaeaa37cdfc05345350265ff4a7bd652300f7979b664a008de8cfc8793b6c567268f9707422c90d35c71289cf2c1c2888c638ffab55741cbb17b07978590b0a01fd9ae914ba8476ba8ba414b3fc46c9406eb78828f6466126b6de67dd00bbded1fe276bd9b11e038da1443e52fab84a77ff8f245f877eb2e74175bf3d0a9f958c8e9d92dc1527f5f45eddf13901a363495d71b7874cb4038431ffcd530aa324756b29477e039ddf56d58874576cbfe593d9768c3fcb55187b86aa8eb2f5e61e6c50ee513c7a5647dbae595f3f52c6ee421699e43e8c4dab156ab06e24a1c2d0e54e788c4d68fe3c5ad78cad9e80abb91bd5af2e8a3872336426c7730d62773e0dcf33e01d509bd7a7e9f28f0057641fab650f6cd65c2704e995c85d7fc2911401cdc4ad850f7f5f3bc32ad92d17b6a37268e06af0b83f2d6e4ee9f536bd7db157b06647e4efb904073101ad2509d4ccd64e97c5e1b6a141938d70f0c16dafc0011db70ffe7dbf0d64b78cb29328fb9dd219e1f65dc69ad7c71318803a7627382a3a47921d2642e16a99d6b96f06d4c829decd0033532648dd25b2f318796780cf8e6ab86c0516ec1a3a1402f808434ce51ef938dbfd808912a68cefe00d612cd2bd6775fb560eb572194c7917bb0f06335195fcdb030b64073da5c0dea096ebd3a457be1bd85baceb7d4c93b2882005d6542356b4e6dbebb2c0aaa98a3b7f6cd731d301099714913a18bf009e8ad2a016de8befd4a8b4a604307f532b6730b5a50aeee111dc0b5994bd8d06d01d28a4006734586ae70c6fe6c564fca82e2e60d4366b7c81e5ae5cb70fafd7aba6756ba29bfe00341f16a979a0a485b9de692807371a50771ce28f2c91df7f99e6cd018e86572223af87d0bf767acdb34eedefb1a806790d0cd721c566278b6c4bc6617b2a12a7a4c309c2667ab835290180abc4fe122d3d6db89cea3f75748b384a0f3d3e78cc072fc74023520065bfc9e7e14b5aa3e60d0eb9c04a0e26fa97b2e85695d5759c1e21ec0b6bcb9b476473c6740fd2cbc3c20b79cd3b27b5ded805c8244100fbf129b48a7496721d78cbc9b55a4fc2910ca19789089f8631a1e3845f29089471a818979c64527ec1488ad20a54d4f15c732c251334e8b1a94c9fb25586cd8cb23d1afebfc32d613c1cbc13f734849270c2c4e354b95c91bdf5dad06bc042e1bef755c8d1c6cf81d759af5827f1ff13f4ec81795a696fa974870bc5fbfc5d403cc2f1a60a1f0e8f84099f19d16c0bb5601c28d5a95e0ed71b0e57ec8eca88d83cb92312d5f022fd80b5807aed863fdca5db8c07ae2a9d5a67c2fbe8ac113f8ad9c57c4d54e1a4d8dac782aefcebb0f05dde7139c061fcb7d6f68675acf97be7defde265ebdd9753ea0257fe0c88b3835150fc3ae81dbbbd357663e838334e2609a6c51a24594721f92ace61a41635ae7b9e17c830be5b77e58bdb0396224904859beb4e65d4831a61ab4cd1893cbba13c6e8b375a2cb7380112ab7075e4057d7b0e6fd64915ad99d11a54aa6bd27d6f2f953c762bad03b3941f75732ec24a2c39fa665896679c6f3839b3163683b666a53e728c0f67702787d1ca7aee473d1d11da2f45d76bd463ee745425df60b8b6a317f38c37397f81f112ecaaa586399c774e90ed13812b51164121c347175e873a12362cf066fbbef6d16cbc3502a03b313bd4cbe7a1c165f2d3be9bc66188b779ac95bd5ecd0d7769f34322d53501cfc2458aa3aa8ca4a6b7455666a392a0016f5639ff820e1c178457d9b4cb0476e0dda2b1bda971651947211561617ce5148bf7b04d527e617b8a4673db6349e64c4a6b7305271a9f35bdd03e46d2216d36b8db826a5eab959f0e63b3659b86f35fc3f735d669119db64c9b66c14141bd318046da3c1af668281b42ae468f1d4f685abc90a9e7fe544027b482930c2f38e70ad8e16edf43bdf0e5890d0130d5224dd63fbe5f33b9f4ef846a7df5846778a08eb38071e5502d97f54cdcaa960e5830efc0ef753878ec1c7a61352bb339ad3c262dfc888c23e71468a23ab975aa061b7360d1b47b264ff08a5000dd48766e068510aab06b7d00278a2f6ec823fac9f0577faede44b956d7ab1ac580c9e97f41aec19e129145a5b76d72174661b2832dc21a44eb60615b57efce48d415e4e7bf8858ef7c1a4872152082ef3da6e31e5dc0f73cb3852e80bbf7c64cf02a280810eb27e8ec558ec6bb29f95852984d301c2b4b9efef94e3b6e2e654d5043ea14fd360b06c2be4d2690c1b31f83c6006eeacdfd245a7d11e4ab7944c41c1ecec7b477fcd67e29f16f26c949b555b1fa7e1564c3aa8dd02b3a3ebd70a32d3a6e9eec46e40511aaec3f3368a93354ae65bc9dac09a68c769e85fe627b0a0afe8425bfc6b877b06f26c2ea922ce7fb15404907ab80d5121b822a298fef5985c60b576fb4c33240decd82123b4ffb0600d3dfa15c821f57611a98c22beed2ad56c500e36b209ed340fafa5a0379d3c96eb1f317454a0ab081f763cf9c22d2863cf90fc0deec861e5137a93aacc3377cdb736113e73ee8541f489807cce7e804b0bd566f24ced5a0d4313b5c9fae416f52608bc8011d12be5f22b58d8a9678aa3dcd28be999de1587865edf5c25eb036ca1d6c8b56f0de94dd86de63bb7c5a87432e9c50d8857c61fc3e9d90ded06b98a875ba887aa37f749e65980ca03025943bf322168e72f55b30636f93ef5cebfeabcc7ee3e3187d05ca24b55dc67736eafeaee79eb039576c749b3c31ed6abbfae3d5964ff30bb0a06e1c785da6d66ce5e6da3c10dbf548b96296191cbb5da76870bd13ea89b0ffbb7491c4d46f9b5a485beca9bb6e761eca38ca2a491c851b69f5a1b26d96e6551ece1a65300090b1bf4a8a18e4d166e9ebb9090cf0667282d94f2c25b66d15d48d24f4f6aeb8945138aa32a7f127062ba3badc776f67dc19d7fed8eb599d208313aa765ed349892555f21ea4b756c4cae4b5185754a98859db4b74a146c9fe9cce4f78ccc584a8b147d89fdfe6c4b8d04d992f21e25b81338ab422a155faf03283713b758bb5aecf7dbbb55ffaaa2eff93c53f2de84e8b9299e727aa06eaf72ace362108ad5262f8639c234db4083975f5300ab36e47f6a5e1317ece0a28aeffd7791df423684b2c72f5cebff3e5ade7bed66f86c4d7cb7833c001170f12b245749895907aecbcaa117f04b00d9c5f7e76e0ddf296080bc9eb5296f71283d1950d443f7ce96fdeef2ba478303e30d7849afc0436b03c18e001f629f755ffda41023067a832865c23fbb00d0586a177eff85553f0a54255df03b3c12d42d6b7b337159b8959aa53d26800f785ecb6651628895ed8872c2f3f5e5ad27a831ac584bfe7da80d2f16bc6eb30ae162441af4f2ff60008cd09c390890a79826336030f7f13bb6d35ee52bc65c6f2e06dff85a2a458ed40db3314529d5575f648d262909d69be36bfc87f7eba9db60c3f5b2139dbfb328ffa1c6c4f4ee93bb7cd43e88188e1b8a216dc0fb8b35b2af31f8df83d4329d931839d37df296efc1ee1cf28f705222f5763a2c8f9406c2530820ce9b0ac26bcd57047e10ff495b0c20e80ddcdeaceafa1f93ac2a9f953c574edad744ff7dd606c4cce50298c1744b35d2070dffc64d4c22d465bdd32ee6463d43f48d8a3f2d0c2adb90f37d9de838d95f366072bb39e81fada3e9229645e7f31c16a7037aa863d40d0d8206905288326fe059791497f9ec115fbf5732a9b86168aca31465f19a97857b75b045a6b65f388e6c94bb2beb55d8c0d723f7fe7a38b568ad155fcdccefaf64e440cf605b2fcfb7f6b70e6ab18f13170dca40cff6dee96f95edad26e9362b1403d3ac5ba8216e7378bab345c9acd4785caae38a8387fcf01727fe51d814b1ffe5104b40f4ee4bac5ef0a03c78eec4a4e154f36a6c3c90a1937ff65aafc20c9228d2a0a21e5124a1db0b318da656e5973c521e0ac1f40ee13dc29932b8c0304f66af8d5707d31ee60d49abfd8a89b6058809a97fd4f703d053d83a3338d25c21843f3677506f75b28a2c76b8ef05697fc96c6d61606d4dd59b59711d2ad878d5e6ffaa66eeb0c1ef19ee799c4086a9e69cb37f56ef4370c0689eaf4cc58ed3a52557ca07bf836abc719a8e101f138311b330028983e813c5e811854f1b012d36093ff1fd2ebe0ddf22abee405b49652923ef4c296699835554460e478a3d77a331767962aec4299917aa711eaa541b185bc983346cd3ae8aae373d3ad6f25af684f80bf9f7a7f24c82208e272a1be0f5333eab1e043907e735d6d68fe0586d0ba325f600d99cb34f0b929fb1e25a712f1c54ee0094b5c3b8d0b10d2f270cf2223ed23c3e2146eeac3e237e002ddd6b98e40f0ee50af3997e2dcd731a4ed9ce6dbfb2a2b9812632d0e813e382da21e5c6443a42b11b46705fce693d5ccf192fdbfa1ebe8f18fd61afd42c1a673b72152ae46c1df7b892c8188bd00ed45d92993f46fb86eea655f23cf78fc37c0be6885d508799a42c67fbf2d6bbee6630e0679f06cadc13449454642132f79ff07420566d3a928ce3929f99de2ef3c7afd5caff08108c72a65bcf31fc6124107d43197efb8c7235b8a10de6ccb1b1c7254463b4d8a888ff350e2c597b921419e8f972a547179e05fa990416a725742e738b4aecad2b3846ead615cb773651166952c8025e3a9a3f74ff04eb923ce49df4beb9ce5c600e2a9615b763e1f8795cbc0aa38acba804dba143c4df0eb74864a6677a5d887bc6bdbb9ab414002e3aff3012cdfd4f0926fb3394feca8f934d2e1514d0473509be1fdea925a25196f00f38ede147e391caed5f21d4702cf0a23d660c26d0f0dcde1d2ef2e8e431e4b86c8e87b61b204e8eee398f28b1f7fb078d51f190a84be37fc7c423f89d70a232340087ee84bdcbc3c4a83f8bc18148ea26fdc9ae65f75ef8e921fc8fba977711f4c4421ce9e095a4bdafb19a8a3a6ee4c3d4833faceaba7252fbd2489fe916089cb35c65ab9654b0cd80f29e0d9f546ae55a199a956887301e187e2b4acb652a4c180452bdaf355ac3ad116ab147dc88399ec00b442ce23c7a1ddc2b148cd6ebc15a2e67071eaa6c611e90e91db32193e0ce7aa24e4c837e8b86932b5353b88b21b4bc393713ab57459c28a096b98cca8a5f67113e1f507778aced8ed8ea7466f34a3039097eb3c85cb990fce782ca899cf30af45b6f8167362a373fe687f12f2c406a14c690bec65f76bf68bbb00c9e2cf9a72b5eb5f54c0a68142888c9c630a375480cf44480b6fea30e43714147b15a657ca74317d0f61db98ec91f7e7823e9248752fe67259d8f7b08a584e06fc0ea3a2f5babcbe7eccceebe4f9f69013c1abb3f865badb6cd3a24cacb284e7fdcb75f5e1134c39050055ddbde6ce85f50bbcd9be89de98b8ad4d8ed87b614e1e50b994952e51531d009356ae6040c800e12ef4fa493c815e6377b517d1fd66251e79d9cdcab10296350b8fb0b6a505c790f77939881ec4648adec64c03b03b4033852694b68663b5266d81d629f77f13d0784f4dd8c61eab205f234b72ba448784c506ee2c6983d085de55265a597716d948c0a66b4f82f9918665af5c992146e412a59f8428d0b15c28b5609cfd82b5d5ac163d56a1c16560052726ef19adefbdb11b93fe0aad03d415ee845f77af0f660785affc54b5c335fe07d2d08e95203bdf41711745728d80334e7027200258a087e7332d1f299f45ef325c0fab7d3b9c96f9d167fc75635bf676fa04cb61515986ab94a3e181f2ab7188ab0852ac4527ce24881081b5a0ad317875f4a675f70f8555b97990d80ff1ad6b2663cffa059edd3fd5cae44c58a3585e44cf126ea2a14198dd06e154848aceda670de46faf1402afeba135e4063c99fc9737bf2c56b90099a13997f097011b86cd5c7e9f754f64cceacf7463ed816c526aff3c2d1b7dbe46e0f66049d269cd7308af9ba574ad8d9ef1f78a2ed6a52a4dcdc6f8b245a51d8a8472f4e847af68dfe0c4e51162008e6fed12f187c9fd04cb2a27598727ae05ec0c25590eb77dc310610fa57030a0161b631b8240359a7f6b8caa55099c76b90e144ac29baa7a3e1211f1dc8cf68af3892023b749982310a857afa7752c2172d473897a656144b95cfd6157b3ae120a0525cb8b6398c66b242d0523299d833f244fc57c1564e27d66d74762f6acebb8879e765704b58b83dd5532412f907e2ed1b68081fa24c8f01bb7a690e36b781762bc5c82562305993ee2c788e7d4a29cc357f6f2e895a0e2952d83c56ddf4963834089db41ebdcc3c400fcc1a216f68edafe81dfe3be5bbf3a403f2f4943f94f6fa2db4fe6ba59c38cae29c647f2d24a2a90da02e0b74141191dc7c9029edb11deeac00ad639ce3f3516f65e23e9bff1b66bda193b4a49cd999a7bd5978b1de7df3efc2273e300fe3dfbfbffed64a5da850e863feb79fad0269cb2d4584c3133cfde3f558b4e0c56157f61bac296a7ff20fdf4c86ac8e2bdd275780ee59934ad7417c893d2193508828664b1005e6751f1cc3fe72aae8dec1d4303e0db36180d8d88ecee624ea921eae9c3f4c15d4524dd53a71684962020519cef220f9dcba1d1264606876eab246d9584910b42ce01914692b883e5540955a71e7e4a76ed0559b6d26a6292203eeaddc06c693d6d0c3c848957fefe61a453df29c65c3542ed979425647fa6c52f1bc5501ea98720acfe510e25162dfb9bb7c09f45c6a63be92e894a3310b29ea1cade3e5f83aa5192f80b2d3b063302b2753823bfa81df6b2fbd245c7a638b573f449e9c41f91cd4df68174904ed83c6a921b45d2b6b91b0907513bf127b51faa1918e075b389ea7766d4358342649ba4cc82a83ab23623719da58a259789eb484469d810b240b9550f1a2ea1cf56d8adf54fee405e24a4aa7756626e0c99a01d5b22676c248aea7482126ff36d54f1bb3355658e92e9d1f617d0b055021a6e24adfbfd0f0bdca227c8c77ade11cd9fa2d4da80d0827bcc763d037d134c1066ff83816c470136e0f98a5c3ba4f4f04ee0eccf00b85c2e13b97a1b73981c2e2de641799f4655978062839c445175828413b2dac5b3c08c38534af74d46e41f3a612ad2bb6c493df9058554c2dd6aa851a30d37676a2c2a7cc7692da5c0b8db438e32621a4b4a65e5fbd28b53d0dda77413b491e11706c346b5599fbdb4c42bc5edeabad78b1aef0fa849530d88b70ca511f8fdabcfdd823b32969621566486b88a10845ea32b6a0225a7f0bfaf77c36db09bc63a466517b8cde8eca3b3fc6b746c8cc09428d8f35c5d073d4d617ac4300bf12bf008113d095ec638c5542b81e282567928b06711d4ed6691814fe9cf936c0778df1dc5eca0c5c3599db40d857007ab7565e78e68c58da1617cc15cd65bea0b4757f718d3431254ae6b1b817bacf2a1f614aa3906833e6b64876bbe7791dbbb475f64ba44ce791aa531ca43b51f9ab6129830ed5b4c761dc26e6474a8af73836b70ad49207a95752fb0e81dd3248ec492d138c2adbb1d44baaee6c38c343298a0e383f8be9faf64763c05a1134ab27003331dc5dcda0b1bec9fc3879f1c6cf7d333c09536e296d1bbb5cd152958b29bf3f24e618e4f5a9cfacdc76a0ddfad16833ef5656944ed0942490cdd0f34261cb047fc582d28a867360b5747532d6a647ecb7adc5fd4fb0656d473d612da02853df566eba8d646c3fa4bbe4cb5fb3bb40ddace30b0fe6709c877d4254a77b01ab8287abe6da1f76c696bbf8ee6965d21dd78c5ff4f4f3d319dd47e2c7f7d765dbe9142246b511ad4a6a75690c76c757a7f11b981b1913d82057235df6d3a921a80bb79e434597bdaa82135d08c8df026bcde20a67912e2213119d42c994c21a1e32bf818ff6fb649f0fe120dfefdffafc6c03561ce2847be76f2fa433ac2811b3ebfbd470672fb1e747b1205a0a9d352b75f24f85e4f02b411d203ceb538cff55d934cf887a70176e0770e25abb0626e0d69c349fcff0c153324b205d06be13b8733808a94d6288d8f9e9239ee36eec3f23255b50bb861a1f456ccd0b925401cdab47964110542888e7e72fdbb63b530c10c1187498bf18f6f78a608d0d610fb597c3a8b67e20686d89c983f6df6d7fa0d610ea7007d9c99262a8e1ef6c58fad962b6108f2f8f3e04f1afdfb2847e743c22c550d95264c03c5446334c0e1e27dab95fdf0b8e7cdc0a40ea5a7d76d97bf5c33c4ad3273d187f7dbf169f586d1327e696ffc269a1963e4e53135f4fd5748fcc772a7f5817abe60e2ca1fe12641b86dd10627f66ba8c8b83058c0c827a7a573c364aed68f964d3c436982f92c2a7849b6f39c050b734acbaff5b7c64384f306289e43c76f540413 請輸入密碼以閱讀此篇私密文章。","link":"/2021/04/21/2021/2021_04_21-guru_gaia_add_new_page/"},{"title":"SQL 匯出 Insert Scripts","text":"一般我們可以使用SQL Server Manager Studio(SSMS)來匯出Insert Scripts。 Step 1: 選擇DB-&gt;Tasks-&gt;Generate Scripts Step 2: 選擇Table Step 3: 編輯匯出設定 Step 4: 選擇Data Only 這樣我們就能將資料匯出Insert Scripts，再將此sql語法執行並匯入資料到其他DB中。 但是這個方式無法做篩選的動作，只能將整個Table資料匯出。 如果需要做篩選資料，我們可以利用Visual Studio(VS) - SQL Server 物件總管來製作Insert Scripts。 首先我們要先安裝SQL Server Data Tools(SSDT)，一般安裝VS時會預設安裝好SSDT，如果沒有的話要先安裝SSDT。 Windows 搜尋Visual Studio Installer 選擇SSDT 在其他工具組中點擊資料儲存和處理，右邊勾選SSDT，下載安裝即可。 安裝好SSDT之後，接下來我們要利用SSDT產生篩選後的Insert Scripts Step 1: 連接SQL Server 開啟VS後，選擇檢視-&gt;SQL 物件總管 設定好SQL Server連接資訊 連接好之後，我們就可以看到DB中的所有資訊。 Step 2: 查詢資料 在我們想要匯出的Table上點右鍵，選擇檢視資料。 Step 3: 過濾資料 在資料頁面的左上方，點擊漏斗Icon 輸入篩選條件並套用 也可以使用like 語法 Step 4: 匯出Scripts 篩選出資料後，點擊上方匯出指令至檔案 這樣就能將篩選後的資料，製作成Insert Scripts了。","link":"/2021/11/10/2021/2021_11_10-generate_insert_scripts/"},{"title":"Ajax 在IE上查詢失敗","text":"Ajax 在Chrome, Edge都可以正常執行，但在IE上卻失敗。 原因是ajax在Chrome, Edge對於中文字會自動轉換編碼，但是在IE並不會自動轉換而形成亂碼。 解決方式: 方法一 : 在js中使用encodeURIComponent先將中文做編碼後，再執行ajax 12345678910111213function setupPayItemList(classValue, itemValue) { var url = &quot;{0}/BPM/Forms/Fetcform1003/getPayItemList?formkind={1}&amp;formNo={2}&amp;classType={3}&quot;.format(window.baseUrl, _opts.model.formKind, _opts.model.formNo, encodeURIComponent(classValue)); $.ajax({ url: url, contentType: &quot;application/json;&quot;, type: 'post', dataType: 'json', async: false, success: function (response) { } });} 方法二 : 將參數值，使用json格式傳送 1234567891011121314function updateMaterialName(materialNum) { $.ajax({ url: &quot;{0}/BPM/Forms/Fetcform1004/getMaterialInfo?formkind={1}&amp;formNo={2}&quot;.format(window.baseUrl, _opts.model.formKind, _opts.model.formNo), contentType: 'application/json', type: 'post', dataType: 'json', data: JSON.stringify({ 'materialNum': materialNum }), success: function (response) { } });}","link":"/2021/12/01/2021/2021_12_01_Ajax_Failed_in_IE/"},{"title":"Gaia Web - Google SSO設定","text":"76ef187465d52bd7e82b09161c37e3edd308b6230490ccf6e8f3c5e5b3d1f4e1c88e0e93df02278bcf6769536fbadb027fee623015663ba143f4a8a0c32b5aad3a4f9d1ae45fc54061e25ed3e85b8ca6d41438d4b1ab33afe9b46b4c3b6e5207dfd0d84f76c04995db52ab9f9ffc9786ba43a4ad7175a0d7a077f9012dfffd297684c27f171b9c0cc6c2eab05dbf8449a0cbb59b86aeec132f46b0279edaf62dd4c6acbd4eb5f28785aea0afcc4f42c777181e73e01bb29d2a05b71d987a85c78e1ae7982c8e97550a71364e5b97235ac9e636f644454e222774b3b4ca224c897112df4b280c39e2e28edba5cd0a622e815db7fdde30e82476b188df92833a2c28d8d2d5bb4c312d74d14fb816351321996eb8ec2b7ef2bf69c151879d45dd0b2bbcea6935faf28e9d32911e29c921b919802b9b3d58bc66b438aa48a9f0e8deb8726c7dedb5d4bab1b1d86bac9a35851d128294e4ca455ed5dd85a504825e8e4eb366b2f2290c0096717e53d4edd88d237c4b4aca37fbeacc8f1ba7e41459892e241e2d2eed2b87d69f846001025026395d8d86ef219a0bd085fffae1285a24d284e3ba5c8727cb03e86a819c20d5b70434f44e460fabbe3237ea11f445b2dfdcb2d4f84a992425eb8a2404d4609b3c165fd959193c3b9077b79e54eee5d73a8c237b516ca67860e3a07fe8dae92636741ed917d1f4f6cbb8a0f182bc25a53ffec08824a98b44aac35be05c641472ecc7805e97329cdf2d40f4f8439b9a5439f6c487a0a9c34a2b1a2aa4cacc57782150f9404a1bb914e0443d7669098667ab950900fc9856b0d4a168b4f1fd478f692faabef67a81d2bb90ddbff0317f2554d51deaf6aed1099c917638fcbb6f7ab2f5dc2ddc6af3607825349f3bc64d2b42d086a14e3f0cf7bbe078a5760c7a4fdf07939ec44c6dfd54bd4f362aced08b42e1303976479b516712b21609a29445bbe2a4eaf8401404c6508b21012122c0f09e4cb25f02e2ca84cdd78e8347a5130aca3a312e6d106ad1cac4bbb863527f4fdc1f765dc229c0d0e72e4ab4d68c10e04944ab59e445a3fa9e39f56651741adfd84e54b5ab52b59cfad3eb33b354568d4104dd108b160bc89f36d67ce8f1a49dc5dee88e29528ea193f1ec872cda6ea139697bc8d3f01ce2d462403f1e6cab58e9adb7592fdad4873f94e85a4596b0f9bff3a1288df3d53dd3347df8cdbbf87ceb0df7b0130dee38be3e71849c93e24b0f347ec218f04759d81cbc6c55b94c3009a39dc95ba52ce1daa7d255ed1e6c1dd65dc243691740dceff416922113dee8d0911f296e1b17ada405a30c99baa1d61b8466517490e557e9428712840c912af5a78ff70c70632e21a575e4662cfe976d6f413b075623bed11d611b68dfc8a44a2021a1e9811a8dfc8d6aa61cf186f2dd59c51939ab6492dfa3faf4d8c73e4abec307b578e256ae1bd07cd9559069de2603689c2b5ba3c66dbe294a8adf7eb8cce68be01c0408c2114e1f8590005bb97342f4e1e8464c60be153d70291468a34163fe078bb8887732d4c6d43c090a42e9ff16676c246c62da312490eb99bb1ee30b076a865e99a9b60124bc847cee6f8ddbb86d73d93ba16a4105067cc3c96e7771b29d65d5fd59d25bff8d05af7de976c17536e2c09e34a71c302771b3214b42b8deb6b8971de515ec449eab2ba7b7cbedea03a6e36686acd3f55c1b2b9f439018147cd1848bb3f518563c03bc383dcbc0dd883fc868333ab3cd819f45e91c77e00048d7cf71ee532b8f6b840f0459f2836103f05cad7d363065f900d7d3297cd135484f45e7444f40fcd9f0acfac1962ef4e578a00cd741095187a98e5ee0c1c120985b5e4a1513a45d3a72c9014180dce511ae04a79693807d7fef682fd87fc0c2012ebfe04207d07d4bc47a42b771e9f757f9a8ead8200921ade5a71fe41ff743468d1344173f48a7ba5dba57c3f22cca1cbdad6e5d0d0d9f43004de5dc3314130b38c338af5b030656224e3bbdbd7161d84c84c4453bdd164650b70d14d3a8386c4c006d15c304476009c4b656fea92333a23d40fdc0425d476b95d9ee9eefecfb903eef2df4705825f0ab919cffcf3633da6584b3d688fdbc7746fe370e7fa149033fca3f13c8ae4b7bdf81a87ed9aaa05f0903526c0c13702eb20eb50903791b603f1e0b825003db5d263498b106f4438f6b13afc99af1e4f5887c41e2dcacc5d41ace1fd6f0a3286b3fad9a7938b9146f3a2194bfbd6052f2f101b3f4be0074264c248309694085906fcfbf24d038233e5ccfa38dbf168388020340e4038ace50db894e09bb0e004410d29379a8d3bb70a2f9e4004721fe085476405390d4a930e171df32ab736e3d3b383c105e7cb024460d64148d281ca9bff86addca2ebe3d7a20dfa4e90b381d24488564a981835715616ef7beed1ec0f973246069b0affb04c65674d94e4353fd3f266c8e8367b882e972f3a23a00c80c9227d4f296ed9cc3d1a96e1cf1f8a6c784e051fb393ee335496483f5109c423f03e62db666bbed97c651017ca7789b4490031bb9520029f0b745e6f37b0a3260f89b830826d26bc5224ea8e568a423ecf911b2414c6b332434a11df563a127a30ea8f9a47fb9be1ac19ae99984fa3b0e1f54356a1edf46bebffab52e41cab66564289bbc224f0754129b0ae0ae23a16ab6df5d327bdc34f1083c027608dbc47c7ae17e1e10e5d1bdb168f2135165a2edb59cb37532b26d58271201c8c5d6f55d1d036f06291de90f4a99938dd9d7377ef0ff824b9437e6d56e81720d7e253062c87f4f2f5421a44819c45142c202206e39b7f64bead30ffa718b49bbc7706e6a57c4e5f637e82344c8d82f4699cc6b7d2c7bd5a9986544fa8199276371b4771a2a2dea5aa3b0e2267a9472c7bbef4962199efd170c5951466ee20219fa42999cf1549f3b26f1314a84d7fe8e0628666389bbc5299abf5f5acd4b31f6fee6b963618350b017a7641187291adff98f6c4e474d8bffa3419c8debfbdc36bc9cf1c093ae6d0489f9991a2bd0ff3e3ca5ee98c025a4b395d25abe6588c40d1bee5e38fe8ad01269b2d7c0f2f643c39400ee526f6883a6b73287e81e0179b702b520574f2a8fa5fa1cc8fbe4883a0fc87de1e5ac7510506defa99e55482ab80e1433b3e7fe577b11d6f7d633ba0aabc76c2be55005c69c317cf79fb7b8cd3baea30d3067c5148bcd0ed75116b14a0e421dd6de06370b7b28ff31d92a9b067906404cd85130594cdbc22c5736ed85c5fb85e03e50a485f38d290ca39a472aad8a61af19470de9fc4965ebc23f3ebfa2a334c1b8e9e13f076b60ce1b91e12c161c60180943d25b1ff2fedcfec1778e2f9f7de496f4fa854e9b1f83cfce1b8e5ede81c96309477c837a246201d626bb15837756f1a6786ae6b062b24d604bd6a0cbb79d0c37cc85cd5f045a007a0a35bebadeab2b02655c29af97acced8ff4d38397732d57c597be222272c22bad5eb640c8f243f69073f356d38aeefebd0e3b5420b9825eed7e94c1796058a3baaf12db4dd590d862d2d1c1541a281c85b53e7996119aa9e694db5e14745d9534d5fa2160df8f9ffd33d381edaad5834579af1cd321d3b23e160accf1890139068f7c0b92ea025e61c193771c752448604ef701866b006f6805c4b2df743b3ac2a48da459600c4b93637120951d9b4307af6a1d6b2a3769950977f1e323d92fa74fc27517ef0b7201945c1f9fc8b3ee76f6b20684dc38dceeb463e7955a3734bccb21f11c794462cf0d4f6116c4616bf8d3b2f7e427a5e74cacc7c9cfb3872202fb96c179d1d2bcf8507d6bace1bd53fca6d105b34e307ae212903fcecd87675043813e0977d35784ceb2940c5250256b11658542f4cb7bb68a26dd7a5c2f73ebee0d9bd8714ee50b82e03772cb547e57648208691a574fd0cf3812fb9360f966b16a6b538e82a5fa2896ffdd6bc4eb780f912186d807cbc3123c5552a644d983780534b18d60659247eb938cbbdf04ac77d1348adeb45fb248268ae0ad94d147bc1f035ce08c67923 請輸入密碼以閱讀此篇私密文章。","link":"/2021/12/01/2021/2021_12_01_GAIA_Google_SSO_Settings/"},{"title":"Google SSO 設定","text":"Google API Consolehttps://console.developers.google.com 本文主要是紀錄架設Web端，Android端，iOS端Google SSO的相關設定，實際連接方式可參考官方文件。iOS: Google Sign-In for iOSAndroid: Google Sign-In for Android 建立憑證 選擇專案-&gt;API和服務-&gt;憑證 新增憑證 Web 端憑證設定選擇網頁應用程式 設定已授權的重新導向 URI 如果沒有設定已授權的URI，網頁端使用Google登入時，會發生授權錯誤。 Gaia Web端設定請參考Gaia Web - Google SSO設定） iOS 端憑證設定在新增憑證時，選擇iOS 設定好iOS Bundle Identifier 在XCode的Target Info設定中，在Url Types增加一個url type，並且在URL Schemes中填入上圖中的iOS 網址通訊協定。 在程式中創建GIDConfiguration，填入用戶端編號 Android 端憑證設定在新增憑證時，選擇Android 設定Android Package Name 設定SHA-1 指紋憑證之前，必須先建立Android APK Signed Key，如果憑證指紋和apk中的憑證指紋不一致時，會發生google 登入失敗的錯誤。 建立Android APK Signed Key 建立好Signd Key後，使用java KeyTool來查看SHA-1 KeyTool 位置: C:\\Program Files\\Java\\jdk-17.0.1\\bin中使用命令提示字元輸入 1keytool -list -v -keystore guruone.jks 將查詢到的SHA-1 填入頁面中。 當上架後，從Google Play安裝後發生Google 登入失敗。 由於現在上架到Google Play都需要使用.aab檔，而.aab檔所使用的私鑰為guruone.jks，Google Play會再使用一把公鑰將.aab檔打包成.apk檔後提供使用者下載。 但是這把公鑰的SHA-1和.aab檔的SHA-1是不同的，所以會造成Google 登入失敗。 我們需要到Google Play Console，找到Google公鑰的SHA-1並填入到Google API Console中。 上方SHA-1為Google公鑰，下方為我們上傳.aab檔所使用的私鑰。 相關問題Google Login 授權錯誤Android Google 登入失敗上架後，Android Google 登入失敗","link":"/2021/12/01/2021/2021_12_01_Google_SSO_Settings/"},{"title":"Java Script 學習","text":"此文章主要是在撰寫Web網頁時，使用Java Script及Kendo UI的學習心得。 文字框Enable/Disable1234// - Disabled$(&quot;#fm_id&quot;).attr(&quot;disabled&quot;, &quot;disabled &quot;);// - Enabled$(&quot;#fm_id&quot;).removeAttr(&quot;disabled&quot;); 取值1$('#fm_id').text() 設定值1$('#fm_id').text(&quot;xxx&quot;) 提示1document.getElementById(&quot;fm_id&quot;).placeholder = &quot;xxx&quot;; 1$(&quot;#fm_id&quot;).attr(&quot;placeholder&quot;, &quot;XXX&quot;); 監聽變化1234//監聽變化: 失去focus時生效$(&quot;#fm_id&quot;).on(&quot;change&quot;, function (e) { } ); 監聽變化 - 即時1234//監聽變化: 即時$(&quot;#fm_id&quot;).bind('input propertychange', function () {}); 設定文字顏色設定欄位style 1$('#fm_id').css('color', 'red'); 數字Enable/Disable1234// - Disabled$(&quot;#fm_id&quot;).attr(&quot;disabled&quot;, &quot;disabled &quot;);// - Enabled$(&quot;#fm_id&quot;).removeAttr(&quot;disabled&quot;); 取值撰寫一個共用函數轉換，傳入id為欄位編碼 123function getValue(id){return (!!$(&quot;#&quot; + id).val() &amp;&amp; !isNaN($(&quot;#&quot; + id).val())) ? $(&quot;#&quot; + id).val() : '0';} 要取值時只要使用此函式即可。 1getValue('fm_id'); 設定值1$(&quot;#fm_id&quot;).data(&quot;kendoNumericTextBox&quot;).value(25); 設定空值1$(&quot;#fm_id&quot;).data(&quot;kendoNumericTextBox&quot;).value(null); 客製化控件1234567891011121314151617/* 客製化控件 - Spinners : (右方)數值上下鍵調整 顯示/隱藏 - Round: 是否要四捨五入 - Step: 按鍵盤上下鍵是否可調整 - Format: 0.000: 小數點後三位四捨五入，多餘的0不省略 ##,#.###: 具有千分位, 且小數點後三位四捨五入, 多餘的0省略*/$(&quot;#fm_id&quot;).kendoNumericTextBox({ min: -99999.999, max: 99999.999, format: '0.000', step: 0, decimals: 3, round: false, spinners: false }); 千分位當數值欄位想顯示千分位時，可以將數值帶入以下函數做轉換。(如: 10000 -&gt; 10,000) 123456function FormatNumber(n) { n += &quot;&quot;; var arr = n.split(&quot;.&quot;); var re = /(\\d{1,3})(?=(\\d{3})+$)/g; return arr[0].replace(re, &quot;$1,&quot;) + (arr.length == 2 ? &quot;.&quot; + arr[1] : &quot;&quot;);} 四捨五入當數值欄位需要四捨五入時，可使用以下函式做轉換，帶入原本數值和要四捨五入到第幾位的小數位數。 123 function MathRound(val, precision) {return Math.round(Math.round(val * Math.pow(10, (precision || 0) + 1)) / 10) / Math.pow(10, (precision || 0)); } 日期控件Enable/Disable1$(&quot;#fm_id&quot;).data(&quot;kendoDatePicker&quot;).enable(true/false) 設定值1$(&quot;#fm_id&quot;).data(&quot;kendoDatePicker&quot;).value(new Date(2021, 12, 15)) 計算日期相差天數123456var start = $(&quot;#fm_id&quot;).val();var end = $(&quot;#fm_id&quot;).val();var startDate = new Date(start)var endDate = new Date(end)var diff = (endDate.getTime() - startDate.getTime()) / (1000 * 60 * 60 * 24); 日期轉換12345678910111213/* javascript 日期轉換 - 新版的js已經移除format方法，使用 new Date().format('yyyy-MM-dd') 會得到(intermediate value).Format is not a function的錯誤。 只能自行轉換或使用lib。*/var formatDate = function (date) { var y = date.getFullYear(); var m = date.getMonth() + 1; m = m &lt; 10 ? '0' + m : m; var d = date.getDate(); d = d &lt; 10 ? ('0' + d) : d; return y + '-' + m + '-' + d;}; 監聽變化123$('#fm_id').on('change', function () { var time = this.value}); 更改格式123$(&quot;#fm_id&quot;).data(&quot;kendoDateTimePicker&quot;).setOptions({ timeFormat: 'hh:mm'}); 卡控日期選單12345678910111213// - ex: 卡控從上月25日後才能選$(&quot;#fm_id&quot;).kendoDateTimePicker({ value: new Date(), disableDates: function (date) { var currentDate = new Date(); var beforeDate = new Date(currentDate.getFullYear(), currentDate. getMonth() - 1, 25); if (date &gt; beforeDate) { return false; } else { return true; } }}); 增加日期prototype12345678//增加日期prototype, 可計算日期時間 new Date().addHours(1);Date.prototype.addHours = function (noOfHours) { var tmpDate = new Date(this.valueOf()); tmpDate.setHours(tmpDate.getHours() + noOfHours); return tmpDate;} 單選控件Disable/Enable使用F12查詢radio button name &amp; value name = order_Completedvalue = 1 12345// - Disable$(&quot;input[name='order_Completed'][value='1']&quot;).attr(&quot;disabled&quot;, &quot;disabled&quot;);// - Enable$(&quot;input[name='order_Completed'][value='1']&quot;).removeAttr(&quot;disabled&quot;); 取得單選框被選取的值Step 1: 使用F12查詢radio button name Step 2: 在js中監聽radio button的變化和取得選取的值。 123$('input:radio[name=&quot;order_Completed&quot;]').click(function () { var checkValue = $('input:radio[name=&quot;order_Completed&quot;]:checked').val();}); 複選控件Disable/Enable使用F12查詢checkbox button name &amp; value name = feedbackvalue = 內訓開課或簡報分享 12345// - Enable:$(&quot;input[name='feedback'][value='內訓開課或簡報分享']&quot;).removeAttr(&quot;disabled&quot;);// - Disable:$(&quot;input[name='feedback'][value='內訓開課或簡報分享']&quot;).attr(&quot;disabled&quot;, &quot;disabled&quot;); Checked/Unchecked1$(&quot;input[name='feedback'][value='內訓開課或簡報分享']&quot;).attr(&quot;checked&quot;, true/false); 列出所有被checked的元件123$('#fm_id').find(':checkbox:checked').each(function () { }); checked數量1$('input:checkbox[name='feedback']:checked').length; 取得複選框被選取的值1$('input:checkbox[name='feedback']:checked').val(); 取消全部的勾選123$('#fm_id').find(':checkbox:checked').each(function () { $(this).prop(&quot;checked&quot;, false);}); 下拉式選單Disable/Enable1$(&quot;#fm_id&quot;).data(&quot;kendoDropDownList&quot;).enable(true/false); 設定值1$(&quot;#fm_id&quot;).data(&quot;kendoDropDownList&quot;).value(&quot;0&quot;) 設定唯讀1$(&quot;#fm_id&quot;).data(&quot;kendoDropDownList&quot;).readonly(true/false); 取得選取值1$('#fm_id').val() 取得選取文字1$('#fm_id').find(':selected').text() 取得選取Index1var index = $('#fm_id').data(&quot;kendoDropDownList&quot;).selectedIndex; 取得選取物件1var model = $(&quot;#fm_id&quot;).data(&quot;kendoDropDownList&quot;).dataSource._data[index]; 動態設定內容12var dropdownlist = $(&quot;#fm_id&quot;).data(&quot;kendoDropDownList&quot;);dropdownlist.setDataSource(response); 設定模糊查詢123$(&quot;#fm_id&quot;).data(&quot;kendoDropDownList&quot;).setOptions({ filter: &quot;contains&quot;}); 監聽變化123$('#fm_id').on('change', function () {}); 通用控件Disable/Enable1234// - Enable$('#fm_id').select2(&quot;enable&quot;);// - Disable:$('#fm_id').select2(&quot;enable&quot;, false); 設定值1$(&quot;#fm_id&quot;).select2('data', { value: xxx, display: xxx});","link":"/2021/12/08/2021/2021_12_08_GAIA_FORM_Design/"},{"title":"Gaia Web Lesson Learn","text":"76ef187465d52bd7e82b09161c37e3ed054b7a02ab5918bafad4ddd4937c456792230a8a26d81c1ae53898cc82848676090478c7a9bc54dd62b6b4fe68bb2aa2526a4c15d5ff7e889f4ca97610dbe186d666286c6c2a7543a7957cedec4caf7b64b2d342ad8ed875a547fc7e95092c5b5b5d6e25c94b269e371f3cbec7092c9ebfe2cf05a15de580f6173e940e33cc5c8f04435a483e308edbd4c60a82c44bbac11999e23c6953da9ae137668d1b1ad4d0fac6fe8a6a15396ee8edcee35513c3db0dcda2a4a032a9250f062aaab445ad71bfc39c143a0277d940553b3738750dfa8266fa7c5d05d8473f0d6aaf7cbac4170176ac7aae171318edc096e11887443a7a631752f346005f5bb86c1da1a21400b81aecdc7ea3afacc094df7a71d2baba9c0297719fed202431fd0338099318b14424a52f9b8195536e0cb60f256ac0f32e4315cd95e448dd051bca9204fd384793145d6718fbfe6e4fe38e15d0bdc95a7028fcdceb417ff118369a74a6b9188ff6f149147eec7c1b9df59406ea6867016567314b2c316a338bb22760a29c2b7fb7429e4162626dcbc67695d21ab18d3d02445f46eb6debea26e22f28ebe72ff7207436a7462cf1a716598aa2f41546c51bfca3b30332bdceaa0bf41f34a16c3a3140b82a21e107773edd9cd3f080849bc48852096f9e2cedebdd8982f670159dfdfb436ad67de11233f3280bc700f9376d678c95cc678165c904286069ac6b7f90d3b3c5ced0d9f45eb62a19b66d0a70997b801479b26eb115d8e861374e1c53c6708856f7c6f9cd18a794cd811f8b02a647078374e834999a5479036f8bcd4d491bc2ecd2f2249a6971b0528d2383d12ef0856cb5d28fc3e5674b5935e033b39c4d18b429e69ddf8ccb3d60349ee07d8f18e4ccbe8e6af1bf25f828d8f15708a84e142963b42fb666de80b1006024bea187363797271e1eea0e7321deee41dc42a7c819976e4b0263bf01c888bfec84ae05321020799e600b568d690f01c6dc1926bd6dd201a81217b063ddd4bfcf511168f2d49e4c271dd60175cca455585afc624184530bbdade4f1920b9daf2bd228c48c9d585adc6b8d24dd636618d3a331f5ae0de30fae18aa89a35137aa5acc16be9b5c0cb415f66f333683ea8c316ce33d72fdbd71a83aa930bdb6393997ad44069660c45ab34b2ae95b82938793815b1cf26810e78a3912c582f11d658b4d6a1995577d532dc589a2d41ae95d7e8edb1902f91b8d1650b87cec55c971e77f61fdd325a3840ffd1ed7ace483fb0e054a8e2ed080642ea8facf0e3af0685de1f12dd22004b41f19c08e4dddbacf4c4501b328c63fbb0e9266df4d5c090f32f6edbadb70c555b266d803d190fd594f1147d196ee51c433f6307ef25bd79132b0d9eeb4f6b5582a333569caa79d95ed84a85e94ae542f44a55e451bf132c6dd2e0f48c3a4f0567c10275740d26a50c083f3b45715de18ba75d98b6aee57a4561f8e7c91b44f6efd5ed587bc3d5eadf8d747daa506434c5227f37e96d058f69f2e28e982e2ac91c9fa8344c12d22bc97371b1a3409c7ac40aeaf8ea2724aa739e3b63106c5bd32ea962166932f635669b88ca430f12a6d1c0b12c86697d45ec1d6c68e963dff589c0195734b4869f81b6b5c314a0e787397cb02eb8d1e944bb688ffcfcb58bf9040d96d302427156dd551a837231f2a9b7e6c17af7f34e3c8bec68f93fac9c1aa87340196865eb1ee36a47761a408fbb67bfabd64379d08be7f550c353eeb15282d8ea0e4ff995a5baa9e5c7a04e8d67e92d2d16cac1f29e9647d1effa6e9b52ed0d9b48493ca2f219784b4ec156e7cd485c7cbea728666f0e5fa7dbfcd8e9912e692aca437242a7d107fa537d9ab6eabf0fee3060fe304d82e1eb3d98d1f80a12d7b2c9862637dcce34b1e04de0b5ca21dda262d21b19bff61a0e93fe06759bed8d3161af369490cabf0d6e2ce3c8af12c854ea04ad9b4cf152a97b8f6630053cbbf63afd9c358acfb98c8bb34bca1f08b3baf069ae961772659b97a19b4506a6e8aaece8786f024d74cf70eed81362a37548590ec59aa8f7f1ff5998b35aab1fc798680d6cbea527c8926d4f781ae58e44ce300914f910ff246e0974bb20573c6b5a2be39daba7031861898c637609a407bd04878a408b92657d4dde5bcf94f94276588da7d029a1714d9147c9e48493de96ebfad7e2978e20e4b35a490d01d0b108cb80edec69f2797529258bbecc3a6d2ec4819969c6a459555cf527067b10196eddb9fe45726c35efb3bc3452d46e0c573ec1124b5232693c9d3466abf88514640f9779dec38c1e0190403e938dff1dc7541e78cd2300b4d7020f9a42dc4f963afc531f506be7f33c246b9177f954dd0f1dc9e00013d552a1f4014effb44cdce904693b5fd980069729222b8ef6a6510a2a19b1eac43d6f2e0b59841e8b18f5c0fbdaef76fe01f67800f63bf06ccef6a4ae54d82ba2851595393ecbeedbb00819e8fc406a35449e060fa3e2370b0c6bb1b41d189b7ef60c1d0ea75d4338df0b598f7b3e97285e274589539e23c1ffdacc9f1545d5015cdaebf66fc81ed868186b993ce3c1462d8ac6bb3b258255672a11d965e80b0f443435714fff62d6ec3c253dbf2549cfcd1abded3e703b3f110b693758449fed2a0bb397f87334ab472a2f391230a046566fa59cabf9710f85d4d60c98168273b2d2d53a8bdc91e1eea3c7717944ca68fd81b53e6bad6399363ecb7ea9162472dd914584f8e95e369d53932f8c2347e4b924ef2e3bb57191c3581f455821d9057ebd1623f8fd731746d31f9232dfdb2d8ffc4f16a7b2a8d70a60b78d8691d3705e331bf0b6da0504ceeb5b8802d8e40204f4c7174987c16418b352c19db3833a315dcb856eadee3097b794bbe78b265a57dbaab58851e78658972be2162eac148dc5e60e4f6ac046a81664ec68a136626b9febb484269c34010ac9d3fb4cb93482522f940f45165cba9623cca469910589f2607d19be80b00d5c98e95bb32fcb96fecd44c3ba92b083e28d5689800bd5a3328b9dfa07357fd071337cca5d1cf0ee52dd0c9103a0bd4a1e4f6f0a9da0b18b5330c4e4278af6cb892881cf926828b3a308f8ddaf2b7d119d2e2c88aae5dca161a7b56c2558388c4a395ab20194bbcc9359428addb8563f31088eecb3da724725a6fcff4183b2d208242deac636eb2391648443347a1d2c4ef70673870b236015991a75f7df4c774ae615710a71d75a37f6cfb96d0ea0bff03dd0d6c6b213292a49cd017802904d473fa4ba43fa136fd8da342faa8e215b5524322b1d2b0e00355b1b273faca06b6a89be0b1fcb11bf598c57a6aa2e735e03534c47c388e2000fa26a390ac95f3b4884e1b0760fa7fd8cb8cc7f82b112b148e6615f8af46bc92145d5e9af29965c2a425bbb1209de83445eeec234842733326a8253f9d1e25949c3b967e59e306b582c429a57fc738f9db89bcd59b58026c063e7e6b6142d19d1b6756cf20d57e9d8f010640da95269651a8d673ec2bc6a7794a50d114bea67400ab652cc530df7a3e982e597e25c58778c7d1a08be52da64635df976bc6d0b238629dd9aa2ae1335e192632f62c8e430a277119ae5cda28a6c51b70efce49b31a7b1db5eed73938ce9481ba11eb376d57bd1116fccb2485609e88569996fc9949faad5e3acd0cab00f41ea096c9bd9a8fca714ea7eb13b72df9c6722dee505a927f29286fef27e50918bc19d8052f1fe6209b703c003fefb5f404ae0a8a4adbd059dded1c5f269b37f796432f903866b0e1100312ba7d1f7f5aa1756043ef076f4abd8b852f5a7d824b7c10f2dcc57581b0d5d13d2fda3a3efc8261a55cb1787a652ca4bcff87f8798b5dd3e8144f3037b8a33a0023eefb65655c849740de4f8aeea218c176d1af533a2373e9be4a13208b191139af324e2ade637acc2ff21cd0d95a32c5dac0b5839a6dcb2b11d50f046e274400cfc3f3ff446d590319ef5c2712d089795ac9e11a8dff0c011ba30b6e365e2c18ca524a12d0ba3baa3ac376bddb36a700ca524535dc0a3f2cd2ae642b62749517c631a280a6002500bd50bfdf0668783fb36f5f56ea50648f01a5954bff29626feb2e72ed339c954b317b69b53e631403ce390771be38f9fb3dc26f0fed04e10b5a9331a194010c8a00c2a7a87d10acedf31a8ec2864e327f81d21a4978b73a33a22ad1832bb136fffed294b471dc05d883929b0222fe0cc4ffb378b4584255ec3ed74fce8c545d9564fb5c8075f02915b60941c4db9496b96261f879c81b3872f444fd772d41b95bc979660558086a97da8dd50a1106b7fba4ea0454546fc687cb5a15d3f8b9f098948b58cb0459ff76a613b5cf03e55c5b636511d2a3a6e61c4888117bcf98cf43f961ca8a396c59f349417896919e64144841764a1b741e06ef2e102762cbb2869a330e343a9586c358b971582cb4753dae35bffa2cac2b2b741fca13f6cdf37b3c6201e4b443ba5c6d83582235b70817eb56a18dda7957164788848b082ca245b7b2a0577f366c3495eefa578bb50281db922ea0547d83da9f5da38ec56717b219a90ac97aa3833e57034dc34fa683289973019e540a7649910fcbb6b23d30e14ee34f3ace82f23b5e8dd41a17b531d3ef8ff1652be5e00ccf3ac3756b8a5d2f8983e06452cadb8df63cf3acaed77a7c7d9426c0c559e97039b345c234aea2cd9cf5abb667dc885d6529d27b75a9a7e0002e617e43eb39b33379cc876825d421789e831b94e8646e642efe38fde5b19cbdc69fd1255c95d31423a536973177f6ec32a3287ad276bf1e6d81bf8e5bac79ab645b3334cbe8b65d203e165a13c6beee0ca653370e9299e1c6861440c337b424b95b6dd0a5ef7bc3343a51f45633ca2ab7ded706951da0fb12e0f7857a1e8c28f7bdf682967a12f526370e2e0c21a16f8740239d0973556886d8bd8abd13469d50ae738782859ce1ce092ef66f35cae005d3b4af4c9daa2070b8f9153fe9f292b88c94413788c7ab753638b3d171c6285b4be107fa5cdecb4daac6f1d2a23c4c2d567671800c59c886286085a9490709837e04e0a20676b228b18b183076ecdc83277b8ab1a5df37a65cfd6de246f3b36876189faa681415b21fb5346c21ee859d08df458a5134c38f8d9bb7268293ed0b534cbcddff3a9350f1c426061f2b3cff20e2b45be138a88045c0d7c4ecf62011f2336a85c2997f45c82110d0a0c5d3b1c52c8a4e30c725c78a15c5ed647c21ed8dfef75e2081e603094eef4faed9b93585770d6831a3bf9e26334c89c30286827861326d448c5b06ad9d5ccf91737caef5ef51a5111e2e7c38c29f42612d7b0f5b94ff298dc455722f71055f514925dadbd3a7cb9c57cea72a3dd3f42accf341d08e1d9aa32ee222e0bda3e410a7c5b7a7cc39073a38e25696318d057bd8665a5281e2b7b11ab30a229805afb108ccc88dadeacfb9cfc2bd8cede06c80a565b8f5ee05cf1ee9e051c055fde0a6a33c42da1e4d14c05620c5c4acc720b3ed9bd416a1ba5263aab7f9d7a3588f15f7a4246ea3592c4aecdad487fc3ffbb34563fec3f310230f88236f5ee6d20de5c3caeafe973fe57ce7b8f9f0b566201a443545543ceb083b1de02292a2023371aa3205b1d15b4fcaa63ef2e09a363bbb343ab2cd6473195bfd4e68a37d2e34ab96c6f3ca478e03509c9b9a154bb1b49ef1bdad26444f7c7f2e45976072d5f3c733aa91a05c95c0fdffa51ec27ca84df06fb86ddde475d5826f2f470e6b6c702a64df1461b047aec61698d54922c8b2d7af7f461a214f7751ee83e1a20632ff693c05766a75239666d9eba05f8a9bece9ea0e8d8bc94cc2d57ff7ea00d0c23fab75aae514581140a26140848bb5c2476103ff844cc82ba4cd58a1d09cf6ef3a76f4384c8d70c1012cc657c40d96acb049dff874c35299fdbd6f655131bb386bc49c63b2f3908779a59a6eb5123ac8651dd08a4bc74d4eb72f92978d271356d6dc9b88b29690d40944dc6c0147aec6e4360cc5bf9a79004d0c9079a638f9434e06c8f15e69eaffd0521bd752e443b71b1ab3edbf5d836ff221f02ef3c552ee2ee1ef9b8302b7c4a5d99eca008a403d0db09aa94f3fe2cad9a9f6d53c059691261ecd57e1c99c34e6be511aa7f2e5a01347c14262c68740dacd24c610ddbe228b1083bb0c00935d597c5d199d62ababc5c2dc918851ad4675574671bcd8fe6dc56cee49dd63bb16462c40c41389f4e71f8d668947a8711b40214496347e5ae54e7b8b34019fb9e63f35b7d995da8e853286b2d0f3a2fe3bced45be38ef8126c7dba642d928e879f4ea1f34fe1ae966adce117276fc99827a0f78e786e718efdf39b6a676244eb593e467bafee479050f93a4d3f307fdc7dad88404d66a3a9d016a856d9a1c923fbe5ef692869e11ecb318d692db5d323c437878657847f42f03d54ca24147ec2959df1a53ddb1e72b334f203cdbdbad854fc2bcb623babf7b87464b227aae921dc8a2b98c5b4bce8b380dc083839d8057f47fc401123f0c12c3c725abfe754fd62fbdf8f536cfb0e7fbe0cac04274f853b7dc94d77f44e6119e6119ee566227a3961c6b6a1693fcc0bf8da363fb8f3d7663c98d6253adc3710a5304716a3fc971acaf47a092cf9ce539844349127295539047091f6120b7e854569a22bb59522a60d4c14bc4911d24d6bc0d9f7c32d67102538e0554cc68f004871ff1c4b09259a4b987ed44fafd0472db0b419080ea2def08aea453fdd11922caef35c470f1abf4add4237050cfc51db2b1f16d04d51fc907cbed242a1e9da239d44ed065f09b012d63f1fdbcfdf9159051553bf94a3f3964c36115568e346474800ec70ca2cd7f6c533f2b8b9186f80abb0eb696165575df42bacd1fce7540706876b24f1716aab11c3e5e6beb56ee6a7b6298f51a4fa64e5a6fe3aa89877e9317cce7ec62f38eebf9732c0ef9fd6df1b79885f8793fe2029d497341015de0403ff38d21b978c3ee3d742f60d7b32714280b981ec383dd2ad0088de76c5ef81922b5e2a03eb3cd4706ad141a911b1acaf157d6ea0722bb56c89b53a7b740bd70c387384b08f451730086e71d3b5093a14d1d072bfad5750dc9fc528922c88c0c0ea5a02bd4e1e9ecf050ff8fbf549c5469e0f4cfc75dc87b18ddcba27a31583d3bc681e9e1c9b8c2b2035f6ca6aa0b470d22eb368c1e2b33a99811a109fb6b2af1431ef740e10349d0054f0ee762ce84ee4afe86c594c093a46d9b649aa198f2cac23f9be92d24a2a34a9aed299d7763eddeb1b998e71b3497308a9332a7d6df02ba2461b5c9b11afe77745d29ac4abb7577d25f25d537eaa3be0752b3e09e2129e76cc28add2b58fa0dce3e52a3fdaaebb25b618fd7b3945bd59114000b936652c53bd8092a090727a4629e4ee1d32b98d1cce19f8a98c776cdf63a32e7a774cfea9054160646e66b12a0e5f2f6c51facf6471c0234426933385194b4e0e9f282432cbd1876438a2f00179c1a88d91f3a22d42cc9087ff71fe84826719fed2edd328b52b3b9a8a271b795899d122eabdb1a590417451b54d7875ebce6d7ba977ccbbe709c949fd7e40c898829acbf4dc7f428563ce0587b9db6f1129a5bc7ae180a7cd0e474fedb17d5bd574d7e4d50dac7c1c8e27858c22e4206fbb1ee4a742664ac399573f1ce2ac1b0c6f69be95483c670030d8645e4d7197635cba329f5f4eedc99618bb3eaffb4b043fa39da09ec37a87ef0eaa69d8bcf6bd23fd944170a8c0d5b9cb90695841b89a344957d9d0e2d3fb45ab5214926592a829b3c2a96d3e727465275b3f62642132d39bf598c62a327e7dc77012b091eddeae8632e61f1ac33c00463ef2a4bfbf7cf19f9b9b1f8fe436c9fc0928d238fad9c2fd0a22a25912a1c51a5f5de122d7ca138a2c4e670475246af93b40ef0c6f77d767bf4de6c4587e75602e99a7b0fd670be71bb35cf8f332d65f0bcd81c901eced7a2b1972b54ebf6d8b8c32b20001b4dc0b20a1c642f3900ccb26d3515609ebd76d77c551b35283165c48f3e9444887743b44d145b14bf0eb41a241ccf03531d4bd636194d3ac34129b31accb2b55eaef268306eaabe156d413f3482d5bf8599c40a00ea0ea8c8084de763b1cd04762f9be29685ff756cdf3ff92b3c16411654857cd5d491eba3f5a6933c3922d6bfdf779f3e3ba1cd50ee6cffb127a6e7669fcbdc4be7df40f4292fcb9c9f48aac73b7a54df9f7d9519a8f0f6794194465837884cd7b6df41b2e7c38909469d79abed85c88a284c69f7235cdd50da6290deecc928787b9444a669831a9ad46a4228603343f82bb5f3b53fd88948a6aa57a53c691c862a7c2d586ebbabb90c54a063bf16019a2414d4611615669869e3f955b0cff686cbb3fbd7435136f74f1e9bc278914370461f616279c87ab6aeb63b203ef676812a5728a1fdbd3ee7af0131b88dab296d41a30a7e94351b2c0988608808121b143b492a2d817ef1e73a1836ecfabfbbd491784c622452ea8cf08c7dc41d4b3f16eea422d75d5d1f9eb4fcadedb1e92653af969b0943cb6a920f93ea8e5852bbf3d04c6a977f599fb5787b63f4ea1d7b65fa082f513d1900c284f46e4ee5555d4988ec0aa9820fbeef2cdd60d55733cebda75abb0775b9f46d2b9e02ef47c2c43f1b3b8aea0ed521eb0291c851b2eea332ef61be8d8c0ca26dfc93dcdd4bc3f809466d29a0c2ec50648595124cbb11f896f4f54632cafb94218d8b38f2d7c7ce37dceb576342f922455caf963b24c41bb3cd385c658b966c0e4d3eb16b225b94e3f24e76cfbd03986ef47b26d03ddc18bc36c83c2fc7696cba042d5dbf2dec15f86be9c561048fae45eac9086c10e46d2bb9aa163cdd1c4ce33a2c3d1232592c2639d1a039e3e9bad4b523d98db9933b47484e2fa639bc155ae836aac959a945b44586d257772960586d7d4a809c43a8ebe2c909f114b6104e79e3876b45b5140699fb051419e5f9b17bd28cb8d0258aa63dbf9464391ee98bcaf429b0c78a87816e6ea29267d67ad76f4fd3dfa1f1c89163421d87fb4ff23f8392e15e4d26414ed95c176a4c4d20ee20fa13b6d1f8439ecc149fd733f5784524230eac0c8375f20ba268d34c6fec0a6ef505457ceecefdc27c3b5f654f66aa31585bf19aaebcb86a171a71f347c728ba9a4fa253081a73482b33aebb1befafa21cf7f0c0482b771aa87d15de23ff1f49616f9c8013a2427184ff153e802f942a813af9387dd864d8ccf3b28ce16327c5d1d55aa47b27fcb3b2e2ac56b3eff9bbde60c82a328cc4e7b8eea65543811ea2a78fafa763643155bd560b501063464c0dc3ec1bc0f1ae78d9c8aed9402236d40dd5c44f9e11bc90d2650b5b558ab2d9e9ca40c9ccfd93e181b3d3854c2d39a44046ce58a8483af0b6d106cecfd0cd80389c3fb12682e414d92b7321c06a9756d433c1eb632dd0901c5e24a6c26677e98aadbda4313109e8077d54a9a8d14f707ef0c3eb1e334933c100336fab9677a29f049ed586e6258c93e0216519838056fed88fad9a05c83d933b2f65f1b5218c987f8baa886c040c74c6ec75b1223700c23864d2770ffaedb78714166d401f735e66421fdf9435e8ecdc273c28c0964a341e97806ae26c7482ab65e55bb70e8f2dfd03c9a9d57c70c6f2b9ca850c249cedacd091044b894dafc221999f8632b295d0bf21429e98b8ac9b46e67df0de5fdaf415864dc3cec3bc5b7b6679af824e119311059a679ba81e74cdc9653bfff307f41399d797e9a44c5be8c61caed2c9d251209eea54e74f650a53ec0ca5f723cf17793642d124e9fe90226286f7f792efc95605478ec241833d91aa153b5f77d8a9b79a51b8ec409e20d83b3fb9800c6f5f231f045cb1969bc44e848bd72036463fa7a7eadd272a329e7015e6a825fa78aa17a3fe24268cd736da0d1d5728424de7ccbb2422d5766b201e1b68f452ec5f841b9b97aac87fed4a5afbb1a7a632ae9034b9a2a35bf547c6ad20a8b32c669e8ba0bfdbaf200235cc8030c57ab6686d6c58c387db7af9c3bcdb6abefb7d61e763f37225ac4dc0230ea04dff01871e82d2ec7a032fa96d4fdd3badfcdec72647288164267bc7e8bb8d0fbf3d1e5b126e27a2f4827af090ff0d3a8a6bf432e89de20d958591f192e464053352f1366226e69a771bb10b522b47e960ef12c890f6e49f60f7f01dc7956c521b06b4325883ca8292792ae35e4ab279c1333333b24d1e7f45b7871b1620c9f085c6935fb99cc0cac74dcc10ff9ca3fd36fe8c3d02856c511c70f9e4bb33df470c9dc6cf617abd77b6591e9c956373cf2299b73f581f7d4aafea06600f3ea2f8ef55bccb0199a05c4ed3f0ca710ecd2cafd39f941eb4007e6c6da55f0072ca5eb94703a0bf03fee1e5327997c989ad29b7fdd622d0abc779df8ac0022d142327050364c428d17a135ab691e0e9721b289cbc5ddf9c4f7b34fe9f93b77b41fa4efa234bed84dc950ff6614819565b8334ffe366fc96505d1aa7803235600ae660feeb90148c32617f5b1bb30325c50bff9c64d8e4dc098be727ae314ac5d650beab29a7b3f0358ba7729ec5a79af286c4fbb2a07687c919f3d2ddadae41ff21f2b8143c984d786ed2880b94e476db081dfd5dc09fd74fb718ee1a80ae5eae92e8ab3f626190c6453b3c9bfc36259c62797d41825802c749dd9aead829018d8d3471d228dac1b1ea9ef2878023155040a7040ed7d9e3fff51194d860e4c8d8ef6888cc6385e65699f4851fa00d533b91854ef031c13fd0acb3c754bde8578b6fb1dcfef1969a34384dd3d8646715268f91917d578a292272f6a5cbe09b7bdd41ef9ae96a884c53a5958986e64bead0fadb0cc596ddfde576e212e3b4d41ae64417b5baf188a3870ff6d97c2475fece6849aac138dc7abd613e9470ac8b58aa12ec060887bf09031e104e3046b91b0c70ac7824c79058692dd84ac4ac413cdc003b67434545a1f57930925e4cf60e1177b28bb6d4408eed86a18e86e1553a0b0be0d471cb1a751a61e05f40c6493885ac76076994c7acee522b59039e283cacee367574bd4065f7d19b0c82fea52c7d7366d5dd028a2c6e07e64bbd3819562cc0a54d83909411e408f1df91302fcdcb98727a3f8c2420fb7bd22b28d01a6bb147683fae3f80eb9b87b97b47cd81768f8960b98d3cb9645d3021898d1a6de0b182dd2b4215c1d0e2ab8ded766f3bc8d6ecf51e24ec55135ed33b89816abf936cf5f629610f5007b9792f098c76189c518eb43c1c9e9a1620806c26e82b7d8c481860e1b9742679caa9aba34279a5933fc198e4f0715df3e51833bcf4c0c6dffeb790c84d651f1afee04f6cff1fe349d74eb2b34d54a1d5c2b03ce85de5e106dd93896bbd0c5369e3137ab673048e70ff6ea2f9591a8f2fa292604c4c10ff1000e5e4999ad08de879b5b4c155ed01c5bdf244df62697801364071315a9bb26c538de5772722e33e940660722739abef8b46bca7aee869133a12d18c4a284996a736e74561ad2535ebc081f04e37c392cc1e3433ec5fef7e194291513d845626e4896f7e34880920aa0190fc9a763116fa598166016f5073fe2fc45adf742b90834f97ba5c1579030a87232f7960004850fec42deb583fe1f1edc6e22155557abc89b326df87b256cf3a5c31f251038e4c0f950190b2f48827ac9fa4c239e7f4de1a5b69c35f5990f588037b33d37dac0c375663ddd6b923594a3d946836850762024cf25711521f1763d9bb3bc0d220c2a565c5ed12a4a9834e0ad40b5df6becca24c3c8e6dba0d07b434765b3429fd5e2a72897249667e601f780b8cabeabf86456a06e5ea8ea7929e577f522b3e9d7d3f9d810957889ba2f896ab1e50114ec2056996793137a6166ebc6a525d1aa938d7fac498ab3739d7429cdd3e1c650a37395783e7bdad7b7158c51394ef77b79ca78df8049e91fd464a91bd2ef04beba644c67f739d4dadbfb4cacee12da467e1f911ba2968b89ed76f21eb712029c42c2d214ef623132c7b537f9d0db47af7f8c743c3ee1a30e011e0f9b0db561086f3f0520ff24538bab82af799bcaa5a8df3819083858abba74faca3572981b12c4d274f8ea4d48e8e8077583691602d81aef33e4108d7aa1772b57d106c8487151dd75d4eda180ca64cab40ea5c3e58a906862d31e190e9ab1174e19169b756a78081c3a195c68fa84bb4952d3b614ec451be49e4684a536543a149b701c8b2a88de92a92f2e866a5439c1f0ebafe83d91c009842b2205f0e59367cf67339fed59bd612fc1034ef4884929aa09169ec71657861f7408e66aa95437becc8ec6fa72e48a241b63350bfaae8191eb4e12d79270dd00ffe9b548b21d51abf03a7c9adbe5d7fe59ad4f32a23be736fe79f8c7c168f40a633b5f934a049e1a9c9b5f16affa551750bacbbfbdffa5ebcb4b31b57dce8093fa044826fb6d911e9cfa177f74b2f22b1938f21481e15f090fbab3e349b58e2b8cab1f6c3a54d46daf555dafbcb517a43fa6129cb7b032da0331a00c7c48802b932f9c96ef4ede4781d8aced87ae4d7f3c7bc281a570db97c4283797d7da4b8dfc2c2569777271626d7b6875a4cdbcb965d7cfb203c55c4c9a26d4fd04a6189a9a3bb09db371bd9a10b96db45f067ec91f6036a878540927d723cdb4c9fe54d7fd679d227b7c81bc7d74fcb5c42b3822cb2399b186091e8104472fc77de38ad96accdc10df2c0d98e0ac289b7a0cf46d9c307c6acb5ff2fb0b477528eced45cee0745f878170b3d6ab19e1c01a4d203b899059caeff481d632e46dfd16454b93df73af17a6fe1c9e82e02ca53bb7221ae7913fb6fba3b64f7a2b126a09c29874f8ef583bde4ed6469e3530d3ae1f2341daeae26a32814784e2a50d3da59177395549822e92fd07964b2416f3d728b01e22c3e69e4b449e550d858a9e857dedf51484a547caabf4a947dcffb728512163c1d15abbd709dbcdb0176395ec6b39a5fb3d4c4f429a854a4341ed522cd22fb87f9587610a03b1ff3b0d2056f9bdfd62252915f00cb6f912124fbc156e6e0a285e4537af3a8fdadf1e8657327f8c5801e81a22616c30c6e0386f82cf63ec6f7abc6bc29a85db4830b8c69004cd9c68529cfee698a4830e10bf4d01db838435403dd01adf847b44b4771359bb1a0632cf56547af2669687c9f3ef8e21388d83394ae96781a0ae8d2f4564e862ec9d9cb2baf07aebaa62c656357044ec4604e5c320ff770c0b6f04a51b725cb1363e630ed9ce6e99917c03726cd82ae444dc387f8d00ae14095a44a1d3b957f33733f25b81dd6f9a3233e3818a2e6b25efd14fc3cbb4eec95e5844be84b6dbb040a98ce1229bfaba3db2888d9f92c29f2bee65f8d7804660eed946fb2b69c260283f20dfdc549f1cffb5936a2e80705cedba2095fca46fe2a75fd30383584662f77179e5fe31f6133b9cf87b323602956534143c4f85ade254148fcd69c55c93d47aab53ab07d921758815b12d71b2215626dc85a2ec0b6cea604e4b756021a5d0678d019084f94dd31d107a9a2138dc4265bdac3d4ec44ef10174463d6253775f56d6e4aa992a96dd10daaea639f53be34ba9421fb7f608bee12060402cd40ce19eefa675099521aa38773d438e552d25996ad80446b729bf75c7b34038f4d4b70283e025e91c87f39a88a02f38730cf036523f8e9a28d3264f4ffe0674a3145170667ae2d181fb67769aff238aab1dfe47d9d50a8eb2d92c563f61527aad1bf1d192d10b5e08878e4b472a6ac9c3620c23e365e14f9831a4d49ee3a006dd85f1fcc3f70136a46584f054d7748581e784d991a4e2b2082a622dc3454d846ebdd2d127624ca7b1db90226980d2d3e0a9a3aedd56521af7d2d5fa6507221516d635dbb6ac53710ebdaf2e78d27826a159259c5533379bc895adb84f6b92d353edd986ee0c7c28013632600b45c53546152d63d720209bf7531dbf270cc6e1b4e9aa41d0bd8fe48b5891543ccfa989f7e1f506c3fab4738f54d9e0bdac688e407e4c8e8472b8841cb431d0f7f9cd974ee6aad214baeb158a5ac4c2714db854c0c7ef4f7f418d2ced102cd5d20dd46bc00b109bc640542397e812a9ebac72b9602336dd4e49b46d00c2f185a759b75345e74032d2f250312866b970b321961f91af00a397e762c64c5e72bfacbbe245774c01f57308698eccac3199a37c296038adca6495bbca35aa80a57a50c077961930e667abbf83a4391b3d14ec9c3d0efb978310e4f9669c3b6fa30f2ca81bad3391b655177ad1d8d4a9f0d5aee68cf2796af8db2206005e5e51ce2748f44befadbc9043ae4bfc64860830478e5130b515f28d7ea23f231c92f42e2d1bf58a13ebb20009a127109b85c3034e12686ab299ba21755bd3947089920eacff294124cf9359192d3e713a5c7d7160f74836150b92bb32a2d549edac09f97c8da8ee27ba89e71a2ba574803f6eee774c92e400116738f62d5acc92ef11cf43b2c239b1bb8f5940a22b42f17d7bfc94f3a2d802db132547bc86c4033b1de0ba5bd9d7ddd5fbb02926a22497baaceab3566ed6c2792e92ad386668f3a24266b256fe5a220f457120471cf0d0b60a449a694c1b758652693550193494a1977561df04111aab513d516d7029e61406df69b59f0f59248ba671072dad2a18e748873fe38107d9d5a26c301851d917929133fb539660a5a36a502ae06501155e21e90d4b1797af7e18c501fbfac83cd8e5a213fc681c4dcb47d1bbe9d4587caed0e944f15b3c7013ceea17fd57caca5689a4dbc671a8d05fa3b89a857f0b6577e4169ed5b6b603806c9933245333e91af1802f768539b4f4f8a49cd44fe1c93dcad3bf0cd7594f6381a6d0ab39d0bbf0df45e78867969756b16004ca89a1935a43a9c6e9553284a8ce6d1c24e0c08cc2abedbb71616ed56b5248d836b18ef1b9f77e03c480665783f77d70bf8069d7460e103cfd4b5b0d58e54599bf0bd889ae7143443e12626b09a4b15e15697913c5115bf4c00a604c16ae19c205b6ae82e02d19371dee637f47065e5ec34d4a672612c75b3b1bb820fecc0575e1ed5424f5435d1481beeab7a4f76f9e7b2811629f619d9045a7959b3b634b32b679477b783baa097313518376d9a00cdec248741e0314f9a0bd507798d1ef6a0d82eb09896b67b3d9bfe3f20770f3408b638d99f5c612629eddb87eeca8aaa5002a5f9f8fa4e109e738ab2ca2858f3557d8abbfd823ac2a3f7b3062be4a3ec934cc924e925cf56c2355af20ca0fe564e0a0dbf426213712e7e1e3b5426cce8ab9b6ae902e4b3438470a933d8aa6da8d22e1802f92585d1018c84fff9445a618a1f104f260287a847ba2a55e1d0fce879ec6928d0c9c245a4f569fc50f4a8dff8175416157187f5bfb06fcfdc5646e6c4eee56e1f4f69a3691f501e2fb18795780491fe17a4e99059c3d7e4c02f311945bedd0af1d7c6ea69ac461ac063f4594fc5dd2ed8f9ac23fcb45946260ce06ad4d7762f9f750398820c28d8c2108dc007c9c9bb447aa3f714d1013a879205868b5b3af44db15b56d2d3f9cf5b0df70d51d991c4a12e031aa6edd0991f3027379c3fd212ec7a6876d8bcc4c85e4caf930f0146e34ce835554f0a2c9926f9703486bb245a774cfb3d65b9573eb5cafbc8fb50d8b457668c3bc4c11676da7c6b3cea1471f47b10434ffbe48c4307d62ed6ba11845877e0fe2630194ff0e63d748458b2f1beb48c15b0e4dcaaef9937d7e5eae4fe84c58ca8d41b19e2527870cb47b4f1bc86502b57f8f9de507766495e1e785cd881c028d10674e50b4eb4d7bc4b9878aeebe19fd4da3adccb25fbb6b86bfbc972e03817cf31779195c3ae857f7efbdf086f6d63e8f56eb2a4070ad71a2d896ddd2dc65a4a039245cd3b54d298a74caccd72f2535f464f242e263aa98b4d5dee595f5719315844e520e1fcde9f5efde2bd2f7bc525f3260b45f89cc2743bc7dfc35867a2d435f36f6cd73a4c7a7323351396d2340a72dd6990685d14d41ea13419c1c4772812d0e40a0d1fbaa3624b55f28a953cb7760f5da565376feee1fa56cf47e892f85364e889dcc1ad1b2ef348aeee208b46db682f88c902943c37150c149f6b669b4bd6c8a2e32d4c73f1a82db88c83143b07a2947b1be6a99e7c7862546a44ae010bc126147c4dfc26cc6d64296bce7f202f0a59ffbcf2486a0cd30beaa4d0f02cc6c7aa59a0f72bfd9f8358ca5da72d8f646a69d52d0abf8082a55e0fccaf4d5bb2cce6bbce69cf8ff0224c1a402b4960e70b910d0c19296e0bb5f6d7403ba7ee690e3dafb0773e9dc346161e2194afb35b33dbf0cead83986820621a922b578436011565f930b212036e67fc83285567f99bd73fe74436c7b2566072f4964478d4f10b029f9c353f70609e0426618688bcbfe9d45b80b889e769181e893ec3eded69c35b3b6cb63c41b60cb666a2962da2623909df3a9facfa00a81724ed4a8aa4c58ed7f0843ea76711bd41ccaa3760c3b100b7c5461cd1afb3aff4bd9c050bd48cf07520951f09396ffd7e067b96213e18261606412711b4dde213d710329e088e544a44e68f72ca44c9ec23338501906865f02901627fc10443fcbea74b23f9f48c0106fbef4904aaa57a87e148fe77203e9677bdb6eae4352236840c24ac08b2b928390a808ba6891b5e04dd35ed85428a06e99f1fbccb6d0c89105ff2201a12608e0e4bafc43d7a041f48904a081ef322e3c1db1107e7c731bde98c48d7a7fb556461b766c68a84bff7122f1f323be0755f1f76fa662f0b5a3bdb6671e17a97f0e6fab44be5799a19420ba4e64a95c3b6fba23008e397dea851fcb4adbae1353b495e94a47a4b903dbfae9a18d0821ef5e7235a088ba84dabfe0aae1bed2af04f8052c4feaf7379393127262db5fdaf8165e697a93146d450255786a61989be099379f08e4cac92711b2515930af332d90eb42ae21a1685094b04f6bc105c8b141b0faf2793750cc9f8804bdebdd82f90b4acca54686dcb79975ff0d7ec862de56a47a44ec460997d468605b69a664055fbe9a79e2477224357eb8a7623012170f2a71bb7df1bad55a0f7491e251b23a1a394a506df199b68fe1c1028aad8634af8263d9586d1d3263e6ec60f41ab70c0132284cc8bd16ba27170373c43731ce64a2a0bfed88cc791cde266ace852617e9f6123d4e76e5d95d3ec04893227e4b84c361b6bccbca98a89b87ff1f755191e9962f06ca3e82cc8262b0c77c5dfbc8eade07646aa33b517bb89f155b463c1e130bcf1ce6a4f33fc1fcf14fccab2153b2685a89785e5d3bc626a4e62fa939d0e1f7fbc400f9214a0e5e7414728f2ab000178bf45268e8e171edb0426737b41f051f657c1c851efb523fd58d4d3cbb515f32670879e6d75bd6cfdb22ea87e7eeea284ab6e3c68fb52176e40731934d15042b678c57ebe485b6956ceaec3fccdd1b4bc05aa2172db1da6330df366e3506be34c077af5b6a36a64f35747c546b43c2ea6f35738bf51d7833184cae39c49dfb5e15ee3e9f45ad3b0d88868d6ef004c7b81d377ea19719695c2405a86d88b0113fe22a473cf4bbbb66999c869236f16562a6625a94f1e2da3e172abed2f95f87a8e9940367fc8a8c3cee2cb54478ea9d4363799c3284e45dcb3687fc81924bee7adaffe8f14e9037d3547d33553896cfb229c462cea4fb52119d97d6e5679943c58138b68e9a1b0ab34b3544c2c8f308e1d66a9826a1bba4f163532dd9b0c9666521482557674e1e7fa9647b98fc849c59ea95a4dc92baf459723c9d0899341e8841cf95bd3b64229377b83bcfdd08f8689d21e70bfde0d71ea5e6d98c2739901caa15d56d5aa2f140eb7d789bb262935a17287dbcfa709b9c09bd88304277ed967874c6e32eceede72f73b223cde66dcc7a4c87482472e65518947073da859c21ce5fc2f869f8c7e0ad0712d2c5861d9585c28ad12d59e31258df35dae77d3b46a02b5a9ff729f55ef2e5fe11d54e3610119e703dbc6772c5c497caedf437c7edebf7ff37284cc17c1ec4c8cefbc2566eb72a3801a1acdc7d6bfaa498a7277a46617ac30aca5e1f02df28d108dda6ea470afd1f076e80a21df0da70cfa3f41f6befc25ed704d494aa1167b4d6e834e4cb25a22b7301bba9ec93a2c39568fee0242084e9a4c95d6ebae44d48ba0fbc16051616d609ed117d9de20b44df3bdf989bb349f45c470f689b4c9158186d8645aaec896f7dc25a2ae4b6cb7224439b6f574081c2135832b6d60aae15827650e80f1ce6583b625221fe154be5df01c444f37643035ea0a6231313b6d2ac5eb8850c27fdd222590ef165d38f86354c3d0e5195df09341e74edb1431ed1907d74c35a064d9cf9515b71f68607ca39907655d56c8386dc40ec7bfc1d6dae9c15cd61720eafe45ff165817150a8a4da7fbe74cd07fbac10b62eea7a223753834747b66c5e88e17c6e6effe4cbeab1939dcaaf0488c748a9621c4b47a67446227bc50857ee07db77c0adcbde056a63437ce2507bce4edfcab718c37c7b32c2a6be7e7dc93fb882fe84055637656a8b649bc667f3340e05ec2a8240ee619544d0851774ca8fafe6bd7b05a13ddf483749c8c52312a73eb80f494152e2e1f2edf08fb72b7e1b2980f68f660cced5ba903ae309825cf51bafa21abb83dc663eb60e0a68044759c9037f1636df29a248dcb5a442b5789d281be0707196e98b284dd8997a048a5980f73600eea0374f46ef5b85a093d846e78bad3e021966e54d685a28e6474ddf1b76d27749ff8756a9b46eddfaf31c9eb5fa4f2110e0f3b075c2c1799ccfa64bb26c71aa4d75885bf261ff39f3f0103c5d4ffc626d91fdf18de651b9d9d42332d8b6638446f8be7a18662c75f429dfe5ed8cf55e160d51c4cf23edc70e6a44d53e8cea5505340a23fa3dcd136589ca65191bb10c96dcbe6394e68da2db5c07b7c2f0f3fb19647af4ab39bc48dd6f9fa74f9ad0da31bb8764ab2af736a82db3fc51d03d892ea5bfcd5488407f49e51081d63e5e898700bdd08d7fec17a427d8cf54aa47cecdb83ac538167d6e45da6d7f505d54c71017aa0482753381ce60b266c38ffa568edde8e0dba39df61700a03aa66809b380c9d18c7a4511b3ad4a187c6abc8342fced7cc0680e76823b67892e67574bc3a0321fe9d8e20b845e8a816fc74b031ca676038dd7ff9345f5752166d30b945ffd499e377506537d29a769ccca9a9ce1f8aadc33f328ff10ee5cb58a798f092b632ff858df2155638d589bd593f166e3a2770d7817bffee60262024571534608075fb7b04d4bc1e4eb4e6c5ceda360aa23e515290d410346f3cd8d82adfff3ad77a452823d28c102c2842947a6215b39b2c9093a509a99d422291075d7e15979b92aee97dfb33fd8eb6ed9aa503fc05af4e1ac7d5a01c8da7afe5945e52745f8c6dfdaab8aa892ccf8cf269e2edfb4aac0f76d872f6a01d49fae32864a49b7c548a625216252d0bbd3d6c06116f9eb70bf276970805111def564ad3e4ba8167e0f67eb3223005aa57c2e851124e33d30006cf8105eb6aa264ce6b3518f484f2a40eac356b85accf59dec01a049849294c7a980f65b0c9ad91598dff15e31ea3803619130ddbb899058c395c124ee08f622cb04107f3fab2c702c711106688b031db50fc424aa5e1b0b50f2298ce5c92ae64f78b801974090070cd46b143c83bca0a0c90a63604fceb402d799bc7362df73aaeef2f12c5a521a84ff3c2845f0b10748126cb38cd495078422fed75aa79f92d9d7b8060c0ddb3ff7764d1f307f0af0454babc34dfaa5c63e66c55137f27b11078aa7d4bf4977b287032cdfd866690d50accfe424f65061327b7df8b4b0b805fb4b83ef49c4b0df71046a8a4cc8070270cd84699cc551092e6efa575819744e7298b401ac2b262de6b8db2ef7e9136afb08938431e91a5220111259e8e2235ef4e9b311082851c717a7b9a1aec5f202ed939614d984a6d64f02b7c84418553a88c519ddb796bc46f03633f2c19df22537614eb00731d4a90ad768215c6889c1f1526614866d6d56795483588f1fa4dfb99ea790642f073474d5ee1e72e8485f8242e9b69dacd45f0fc145e3aa6d223ee37bd8857c73d4b6216e61dfe60daa8a58362be5cc9e200322785bc1e461ebe0974e4494b8569d55d3b1ccad13533ca33a4f1f109fbb495942814e81b05728a722a186100a7bd87416be03a014d677efd969771f5dbfacfb1b01b8059cbb01d1eb1c2b790d4f6ca97cf8ad28ff72e148c578a20660be07a785f6d07fb0af550e33ac6004ba73da7bbfbca59ed607ec1fb39213e6f906e206060a87e71b806f272840b90867c69a2a5708a42ba802811a35cc6ce25f2865efc54b5baf718f6fdc825612ee1cea60ddad437c20733610dbe01923ad807af100e2f52852e066be8ace0866cfaf104094956ac480f580b31d134d01c6813d8207fa6bdfcb8fc115fdd7558508400129e1b930d60428ed2b09986ef19c6e25111321f19e78daa59b1f5f9a7e2b9863498243c5a55ca3557ca0cd1a6435bdb30dd41b6cb472f56e0e1e310258cda68797f4a0d9eae25d644cba693afac3e905731cc26d410aebaf2161fdc96165765ff805471c5a470df304466ea4b6f96783ad210bc86fd1be037dddf9364cba40b31e9b431d3c1f5895f59421e6ebf7719246f84fe31ddc61f45df6cd5bef9bc16a2b3d5233d6d7e0384fb46e67680c690a22035de28637e2bb5fb2e07dedd202fa4c171c8691fabdb06a7c6725b86493fa2bb89b4d5061912b7129f243a71379c732593047941651c7e60582c13ca9dc2b74b7056456323c2d06a6f41f7e80ae0aa568de4a074bac0e9ae62c5ffb143e2f610d855958ecc2d3b984e32095411d50d3e7cc3ae53e4020e8e8ca4ba3952a1bec822d2e92ac4324e83950eeb9c95c4e9dea832239f0b3ccdc1c345a0fe26287b8ca28c515b296c1a8949d3b410f07b0499e46ddf21d8ee5d9f4f4543a653ba0af7cd252021c128f47a9125d5feb33bf17e1c00978ee379cc672ce36d2c979f361e5d2b60c0cc8d2dee4c02fb2a3cea6b8d38e367015b482e1e96f3049251ad99f2ea1db7bd21b40fdcef462e29e8c672bdb721fad1865c7d06baf524f86925beda651b090116270546667047554277df66142640c0402c470beb64b4d0b9e7749a1bdc4b8af3fde077204cc4e822aef4d96c151d5e1a98a78450b9ee63096ab491fa07c2add0c5702ecd635a624d6a1ddd5a17b0767ede9945a3e9c5f295722f3dfa9127c5ff4c36c84f81b2aed89906c732b2ed7d4f30891f73a90095de711722de0c1c3d4eddb5fd017c8618884c484042b4cd5dfb5b70e4f4d403acd2fc2db3208ee0b16985f00fd969053b8daf8f1c75471719e831615afc97705a14d893a8bce2d7f55dfe060465bbdeb603530d2a6bfbd5e976053be9954e73bc5a10cca6f8e12e511299ee8a875db251f3a68d1538633f1c3ac8831100a7d395969cee04c77a5a88323b0196f795c26a12fb211ffdad11b00ffcf7ebef8b0723fdf88896c5d7755e69f3fc23766dabb591895e80bbac9fce0bdbfd9a89f33cee249ca7462ec8196b78294ff8f0164ac79c6f7e8ea93e29d3cca1546d75d3ca02ceb2db3df10b6a907c0ce25a5013f36a8e8ffb5a9c47f6ddf5bfd65e85717d5d197703b25033b1337747030c16bbff15eb96aa35ccaccce48a2ce883911dc90a456a04bf33459ea35b14c3ff4006e9a3da7cd5581ee6ffb006260cb5188424d00b8fd71b7721658b8a4dd4b838498d6c29776b85c4412b721ed234222df4ffa57fe36ff15d36ef4ff64e368e9ad561f6a92e0e87534ea65b62ec42d791746786850f91f83948bae3f869e84e809832cdbdc4ba1de2bbda2b91acf1531b39bc06b6a362b7cd764bbb3285ed709e38dbc70adf5444e207ff8a25472b87af00e972d0836f8861839c42d189b4235d1e034e95118b4c0b4c1ed4d9d7adc07429d3e7b780a0079a2c8dd9dd382d8b1f38de05838fa4bc54a44538a26918a4a320a7c360d932b5b06abd0f47d08d4dd05ef0d1ae8419c474049eb755799e1b0a43afd3edf76b31aee0942b9ada1ee5294e642e340225bb99c3a91ea8a1f5430a4a30f02a5dac2593614a1dc127c517ebe9fd545c2fe94c8fa37c10ea2871b18d3e8ef71851770b15606a17f33ef4251e3706222839323358a78bc6932a1178de39ec7e443bf5185ae5c9cfd1bd2383e9405aafa1146a8ddf8be2d03d380660e42836c09efa1ba1a52a48dbdd9571feed4bfc80f6a955258034bb35d54e95117283b6d9cc5c7c1ec401ba00ca5acb1cbb4bbe3d0da3103025ebeca81f80fb0e3c23e5f3b41be63d18c18ac2761e4294702a84d58dd941a040b41d3a2ea90f39af77eaf83e21eb7e15329e909aa2f245dd6eee745cf5611e97324cf38839180d2d3198956c7e48c131a174ae886db1d619d347975717ff52a4463289a133bad4b021a78117d1d4c192ab91b8762bfe7e50ff958ec5c526825ac4658d370de2510249cd9d39860a2d8953e61c8ebdc7dc7aef000ea75cc1f569ddcb3a968ebd0a393f7b323a3171cc4b7a9b3cd9d97319e716104231030ca8d5e2a0356c8ce31a547c8a107342da5c27458d6febe3f25afde31c51dae87f5896cf02eff7b0dadc55ff2b455ffb00cfe48338380834a33dd5043c1739d2f1cc8ad158c7065b51b76d875a5ef7f535783c0469f3ba1ec2430ef11e8ca3e4efdd917591a74b521df1ed205e74e4b95f09081c9da12985aff99cbe408dfcd6da9c845c426d7081f9ef7c522588b905adc0473b0907d7aef956c4184104441a2afe55aa383b13854236fdde323bcdbd9fd0cc6b28079e7755fdd35ded4522042adefa60f350ac00601c8ae1b973b830f4ee7d0beee7cee3b1df38ce4bd51725745a6f3ad3affc2aa5df40ecb7c5de79ed5e2a70bfbf1ab92d6c061761ca537fa294b7584e5e713f1ca5c9c75d1a3008bef1a47a44b5c17dd543f793c763d7c67e5430b09c61f4b03bb762187d98ce73beab6597f93cdfd3e8a9e11d5ead0ed43d89bf0f9671355185fbe951be21c930c4df6ea330b38cda39382e74e61a0a5f50dcb0105c1093b8bcef56630262ac0e541d90484fa8a8b674665f0aaa7be43e26c5e3d720db21fe190603f584ca0776b544ed6998c4205810e01712d135f981a285ccae54d150c8e2cf522006a2b15a1ebebb05363ee3533dedce3998872d34b4bced00586d199460e90cb570934288e0c94d8b5ce267384dc99ab4de0700f8e99cfbabe51d477882e6539eb46a81e53b461b38fdf98729361470f3ad0d14ea197afcf69cd68083ae6d11c97bcb6777094f7c9768e42d58f84bc665921df922db1b236a61d99e85c298fe42b3cb1dbc68ed77f302265ced49e66e03534518ed1a62b3fc47acac8df1ec4200280642c2166503f589f58a79699b9029e78db13285fd593bd7e1dd3effaca8864e74bab922a5e90a8fdd70d1948816322785e32da8ee9296e10ee8dc0cded6ebe0c58612d9dc6a41aa0ff7367840f4c50fda8347e0ddf721da5e16aa8ea601feb2d69fbeb347bb75ca0583c64fd16db603522047a11e27a730e66e747550bba915d3f05c89a5bfa40085160417d25e255087dadb6d94e9d27c08ef395cc1b2c59e73e08ffe15b2b6f2de7ecc84494db810cb79230caec6fa5f65a9ba1628fa6ffb5af61690fc16ea88be66a6b266fef67027f790e231568358714eced5ada29 請輸入密碼以閱讀此篇私密文章。","link":"/2021/12/09/2021/2021_12_09-GAIA_FORM_Design_3%20-%20%E8%A4%87%E8%A3%BD/"},{"title":"Gaia Web Lesson Learn","text":"76ef187465d52bd7e82b09161c37e3ed054b7a02ab5918bafad4ddd4937c456792230a8a26d81c1ae53898cc82848676090478c7a9bc54dd62b6b4fe68bb2aa2526a4c15d5ff7e889f4ca97610dbe186d666286c6c2a7543a7957cedec4caf7b64b2d342ad8ed875a547fc7e95092c5b5b5d6e25c94b269e371f3cbec7092c9ebfe2cf05a15de580f6173e940e33cc5c8f04435a483e308edbd4c60a82c44bbac11999e23c6953da9ae137668d1b1ad4d0fac6fe8a6a15396ee8edcee35513c3db0dcda2a4a032a9250f062aaab445ad71bfc39c143a0277d940553b3738750dfa8266fa7c5d05d8473f0d6aaf7cbac4170176ac7aae171318edc096e11887443a7a631752f346005f5bb86c1da1a21400b81aecdc7ea3afacc094df7a71d2baba9c0297719fed202431fd0338099318b14424a52f9b8195536e0cb60f256ac0f32e4315cd95e448dd051bca9204fd384793145d6718fbfe6e4fe38e15d0bdc95a7028fcdceb417ff118369a74a6b9188ff6f149147eec7c1b9df59406ea6867016567314b2c316a338bb22760a29c2b7fb7429e4162626dcbc67695d21ab18d3d02445f46eb6debea26e22f28ebe72ff7207436a7462cf1a716598aa2f41546c51bfca3b30332bdceaa0bf41f34a16c3a3140b82a21e107773edd9cd3f080849bc48852096f9e2cedebdd8982f670159dfdfb436ad67de11233f3280bc700f9376d678c95cc678165c904286069ac6b7f90d3b3c5ced0d9f45eb62a19b66d0a70997b801479b26eb115d8e861374e1c53c6708856f7c6f9cd18a794cd811f8b02a647078374e834999a5479036f8bcd4d491bc2ecd2f2249a6971b0528d2383d12ef0856cb5d28fc3e5674b5935e033b39c4d18b429e69ddf8ccb3d60349ee07d8f18e4ccbe8e6af1bf25f828d8f15708a84e142963b42fb666de80b1006024bea187363797271e1eea0e7321deee41dc42a7c819976e4b0263bf01c888bfec84ae05321020799e600b568d690f01c6dc1926bd6dd201a81217b063ddd4bfcf511168f2d49e4c271dd60175cca455585afc624184530bbdade4f1920b9daf2bd228c48c9d585adc6b8d24dd636618d3a331f5ae0de30fae18aa89a35137aa5acc16be9b5c0cb415f66f333683ea8c316ce33d72fdbd71a83aa930bdb6393997ad44069660c45ab34b2ae95b82938793815b1cf26810e78a3912c582f11d658b4d6a1995577d532dc589a2d41ae95d7e8edb1902f91b8d1650b87cec55c971e77f61fdd325a3840ffd1ed7ace483fb0e054a8e2ed080642ea8facf0e3af0685de1f12dd22004b41f19c08e4dddbacf4c4501b328c63fbb0e9266df4d5c090f32f6edbadb70c555b266d803d190fd594f1147d196ee51c433f6307ef25bd79132b0d9eeb4f6b5582a333569caa79d95ed84a85e94ae542f44a55e451bf132c6dd2e0f48c3a4f0567c10275740d26a50c083f3b45715de18ba75d98b6aee57a4561f8e7c91b44f6efd5ed587bc3d5eadf8d747daa506434c5227f37e96d058f69f2e28e982e2ac91c9fa8344c12d22bc97371b1a3409c7ac40aeaf8ea2724aa739e3b63106c5bd32ea962166932f635669b88ca430f12a6d1c0b12c86697d45ec1d6c68e963dff589c0195734b4869f81b6b5c314a0e787397cb02eb8d1e944bb688ffcfcb58bf9040d96d302427156dd551a837231f2a9b7e6c17af7f34e3c8bec68f93fac9c1aa87340196865eb1ee36a47761a408fbb67bfabd64379d08be7f550c353eeb15282d8ea0e4ff995a5baa9e5c7a04e8d67e92d2d16cac1f29e9647d1effa6e9b52ed0d9b48493ca2f219784b4ec156e7cd485c7cbea728666f0e5fa7dbfcd8e9912e692aca437242a7d107fa537d9ab6eabf0fee3060fe304d82e1eb3d98d1f80a12d7b2c9862637dcce34b1e04de0b5ca21dda262d21b19bff61a0e93fe06759bed8d3161af369490cabf0d6e2ce3c8af12c854ea04ad9b4cf152a97b8f6630053cbbf63afd9c358acfb98c8bb34bca1f08b3baf069ae961772659b97a19b4506a6e8aaece8786f024d74cf70eed81362a37548590ec59aa8f7f1ff5998b35aab1fc798680d6cbea527c8926d4f781ae58e44ce300914f910ff246e0974bb20573c6b5a2be39daba7031861898c637609a407bd04878a408b92657d4dde5bcf94f94276588da7d029a1714d9147c9e48493de96ebfad7e2978e20e4b35a490d01d0b108cb80edec69f2797529258bbecc3a6d2ec4819969c6a459555cf527067b10196eddb9fe45726c35efb3bc3452d46e0c573ec1124b5232693c9d3466abf88514640f9779dec38c1e0190403e938dff1dc7541e78cd2300b4d7020f9a42dc4f963afc531f506be7f33c246b9177f954dd0f1dc9e00013d552a1f4014effb44cdce904693b5fd980069729222b8ef6a6510a2a19b1eac43d6f2e0b59841e8b18f5c0fbdaef76fe01f67800f63bf06ccef6a4ae54d82ba2851595393ecbeedbb00819e8fc406a35449e060fa3e2370b0c6bb1b41d189b7ef60c1d0ea75d4338df0b598f7b3e97285e274589539e23c1ffdacc9f1545d5015cdaebf66fc81ed868186b993ce3c1462d8ac6bb3b258255672a11d965e80b0f443435714fff62d6ec3c253dbf2549cfcd1abded3e703b3f110b693758449fed2a0bb397f87334ab472a2f391230a046566fa59cabf9710f85d4d60c98168273b2d2d53a8bdc91e1eea3c7717944ca68fd81b53e6bad6399363ecb7ea9162472dd914584f8e95e369d53932f8c2347e4b924ef2e3bb57191c3581f455821d9057ebd1623f8fd731746d31f9232dfdb2d8ffc4f16a7b2a8d70a60b78d8691d3705e331bf0b6da0504ceeb5b8802d8e40204f4c7174987c16418b352c19db3833a315dcb856eadee3097b794bbe78b265a57dbaab58851e78658972be2162eac148dc5e60e4f6ac046a81664ec68a136626b9febb484269c34010ac9d3fb4cb93482522f940f45165cba9623cca469910589f2607d19be80b00d5c98e95bb32fcb96fecd44c3ba92b083e28d5689800bd5a3328b9dfa07357fd071337cca5d1cf0ee52dd0c9103a0bd4a1e4f6f0a9da0b18b5330c4e4278af6cb892881cf926828b3a308f8ddaf2b7d119d2e2c88aae5dca161a7b56c2558388c4a395ab20194bbcc9359428addb8563f31088eecb3da724725a6fcff4183b2d208242deac636eb2391648443347a1d2c4ef70673870b236015991a75f7df4c774ae615710a71d75a37f6cfb96d0ea0bff03dd0d6c6b213292a49cd017802904d473fa4ba43fa136fd8da342faa8e215b5524322b1d2b0e00355b1b273faca06b6a89be0b1fcb11bf598c57a6aa2e735e03534c47c388e2000fa26a390ac95f3b4884e1b0760fa7fd8cb8cc7f82b112b148e6615f8af46bc92145d5e9af29965c2a425bbb1209de83445eeec234842733326a8253f9d1e25949c3b967e59e306b582c429a57fc738f9db89bcd59b58026c063e7e6b6142d19d1b6756cf20d57e9d8f010640da95269651a8d673ec2bc6a7794a50d114bea67400ab652cc530df7a3e982e597e25c58778c7d1a08be52da64635df976bc6d0b238629dd9aa2ae1335e192632f62c8e430a277119ae5cda28a6c51b70efce49b31a7b1db5eed73938ce9481ba11eb376d57bd1116fccb2485609e88569996fc9949faad5e3acd0cab00f41ea096c9bd9a8fca714ea7eb13b72df9c6722dee505a927f29286fef27e50918bc19d8052f1fe6209b703c003fefb5f404ae0a8a4adbd059dded1c5f269b37f796432f903866b0e1100312ba7d1f7f5aa1756043ef076f4abd8b852f5a7d824b7c10f2dcc57581b0d5d13d2fda3a3efc8261a55cb1787a652ca4bcff87f8798b5dd3e8144f3037b8a33a0023eefb65655c849740de4f8aeea218c176d1af533a2373e9be4a13208b191139af324e2ade637acc2ff21cd0d95a32c5dac0b5839a6dcb2b11d50f046e274400cfc3f3ff446d590319ef5c2712d089795ac9e11a8dff0c011ba30b6e365e2c18ca524a12d0ba3baa3ac376bddb36a700ca524535dc0a3f2cd2ae642b62749517c631a280a6002500bd50bfdf0668783fb36f5f56ea50648f01a5954bff29626feb2e72ed339c954b317b69b53e631403ce390771be38f9fb3dc26f0fed04e10b5a9331a194010c8a00c2a7a87d10acedf31a8ec2864e327f81d21a4978b73a33a22ad1832bb136fffed294b471dc05d883929b0222fe0cc4ffb378b4584255ec3ed74fce8c545d9564fb5c8075f02915b60941c4db9496b96261f879c81b3872f444fd772d41b95bc979660558086a97da8dd50a1106b7fba4ea0454546fc687cb5a15d3f8b9f098948b58cb0459ff76a613b5cf03e55c5b636511d2a3a6e61c4888117bcf98cf43f961ca8a396c59f349417896919e64144841764a1b741e06ef2e102762cbb2869a330e343a9586c358b971582cb4753dae35bffa2cac2b2b741fca13f6cdf37b3c6201e4b443ba5c6d83582235b70817eb56a18dda7957164788848b082ca245b7b2a0577f366c3495eefa578bb50281db922ea0547d83da9f5da38ec56717b219a90ac97aa3833e57034dc34fa683289973019e540a7649910fcbb6b23d30e14ee34f3ace82f23b5e8dd41a17b531d3ef8ff1652be5e00ccf3ac3756b8a5d2f8983e06452cadb8df63cf3acaed77a7c7d9426c0c559e97039b345c234aea2cd9cf5abb667dc885d6529d27b75a9a7e0002e617e43eb39b33379cc876825d421789e831b94e8646e642efe38fde5b19cbdc69fd1255c95d31423a536973177f6ec32a3287ad276bf1e6d81bf8e5bac79ab645b3334cbe8b65d203e165a13c6beee0ca653370e9299e1c6861440c337b424b95b6dd0a5ef7bc3343a51f45633ca2ab7ded706951da0fb12e0f7857a1e8c28f7bdf682967a12f526370e2e0c21a16f8740239d0973556886d8bd8abd13469d50ae738782859ce1ce092ef66f35cae005d3b4af4c9daa2070b8f9153fe9f292b88c94413788c7ab753638b3d171c6285b4be107fa5cdecb4daac6f1d2a23c4c2d567671800c59c886286085a9490709837e04e0a20676b228b18b183076ecdc83277b8ab1a5df37a65cfd6de246f3b36876189faa681415b21fb5346c21ee859d08df458a5134c38f8d9bb7268293ed0b534cbcddff3a9350f1c426061f2b3cff20e2b45be138a88045c0d7c4ecf62011f2336a85c2997f45c82110d0a0c5d3b1c52c8a4e30c725c78a15c5ed647c21ed8dfef75e2081e603094eef4faed9b93585770d6831a3bf9e26334c89c30286827861326d448c5b06ad9d5ccf91737caef5ef51a5111e2e7c38c29f42612d7b0f5b94ff298dc455722f71055f514925dadbd3a7cb9c57cea72a3dd3f42accf341d08e1d9aa32ee222e0bda3e410a7c5b7a7cc39073a38e25696318d057bd8665a5281e2b7b11ab30a229805afb108ccc88dadeacfb9cfc2bd8cede06c80a565b8f5ee05cf1ee9e051c055fde0a6a33c42da1e4d14c05620c5c4acc720b3ed9bd416a1ba5263aab7f9d7a3588f15f7a4246ea3592c4aecdad487fc3ffbb34563fec3f310230f88236f5ee6d20de5c3caeafe973fe57ce7b8f9f0b566201a443545543ceb083b1de02292a2023371aa3205b1d15b4fcaa63ef2e09a363bbb343ab2cd6473195bfd4e68a37d2e34ab96c6f3ca478e03509c9b9a154bb1b49ef1bdad26444f7c7f2e45976072d5f3c733aa91a05c95c0fdffa51ec27ca84df06fb86ddde475d5826f2f470e6b6c702a64df1461b047aec61698d54922c8b2d7af7f461a214f7751ee83e1a20632ff693c05766a75239666d9eba05f8a9bece9ea0e8d8bc94cc2d57ff7ea00d0c23fab75aae514581140a26140848bb5c2476103ff844cc82ba4cd58a1d09cf6ef3a76f4384c8d70c1012cc657c40d96acb049dff874c35299fdbd6f655131bb386bc49c63b2f3908779a59a6eb5123ac8651dd08a4bc74d4eb72f92978d271356d6dc9b88b29690d40944dc6c0147aec6e4360cc5bf9a79004d0c9079a638f9434e06c8f15e69eaffd0521bd752e443b71b1ab3edbf5d836ff221f02ef3c552ee2ee1ef9b8302b7c4a5d99eca008a403d0db09aa94f3fe2cad9a9f6d53c059691261ecd57e1c99c34e6be511aa7f2e5a01347c14262c68740dacd24c610ddbe228b1083bb0c00935d597c5d199d62ababc5c2dc918851ad4675574671bcd8fe6dc56cee49dd63bb16462c40c41389f4e71f8d668947a8711b40214496347e5ae54e7b8b34019fb9e63f35b7d995da8e853286b2d0f3a2fe3bced45be38ef8126c7dba642d928e879f4ea1f34fe1ae966adce117276fc99827a0f78e786e718efdf39b6a676244eb593e467bafee479050f93a4d3f307fdc7dad88404d66a3a9d016a856d9a1c923fbe5ef692869e11ecb318d692db5d323c437878657847f42f03d54ca24147ec2959df1a53ddb1e72b334f203cdbdbad854fc2bcb623babf7b87464b227aae921dc8a2b98c5b4bce8b380dc083839d8057f47fc401123f0c12c3c725abfe754fd62fbdf8f536cfb0e7fbe0cac04274f853b7dc94d77f44e6119e6119ee566227a3961c6b6a1693fcc0bf8da363fb8f3d7663c98d6253adc3710a5304716a3fc971acaf47a092cf9ce539844349127295539047091f6120b7e854569a22bb59522a60d4c14bc4911d24d6bc0d9f7c32d67102538e0554cc68f004871ff1c4b09259a4b987ed44fafd0472db0b419080ea2def08aea453fdd11922caef35c470f1abf4add4237050cfc51db2b1f16d04d51fc907cbed242a1e9da239d44ed065f09b012d63f1fdbcfdf9159051553bf94a3f3964c36115568e346474800ec70ca2cd7f6c533f2b8b9186f80abb0eb696165575df42bacd1fce7540706876b24f1716aab11c3e5e6beb56ee6a7b6298f51a4fa64e5a6fe3aa89877e9317cce7ec62f38eebf9732c0ef9fd6df1b79885f8793fe2029d497341015de0403ff38d21b978c3ee3d742f60d7b32714280b981ec383dd2ad0088de76c5ef81922b5e2a03eb3cd4706ad141a911b1acaf157d6ea0722bb56c89b53a7b740bd70c387384b08f451730086e71d3b5093a14d1d072bfad5750dc9fc528922c88c0c0ea5a02bd4e1e9ecf050ff8fbf549c5469e0f4cfc75dc87b18ddcba27a31583d3bc681e9e1c9b8c2b2035f6ca6aa0b470d22eb368c1e2b33a99811a109fb6b2af1431ef740e10349d0054f0ee762ce84ee4afe86c594c093a46d9b649aa198f2cac23f9be92d24a2a34a9aed299d7763eddeb1b998e71b3497308a9332a7d6df02ba2461b5c9b11afe77745d29ac4abb7577d25f25d537eaa3be0752b3e09e2129e76cc28add2b58fa0dce3e52a3fdaaebb25b618fd7b3945bd59114000b936652c53bd8092a090727a4629e4ee1d32b98d1cce19f8a98c776cdf63a32e7a774cfea9054160646e66b12a0e5f2f6c51facf6471c0234426933385194b4e0e9f282432cbd1876438a2f00179c1a88d91f3a22d42cc9087ff71fe84826719fed2edd328b52b3b9a8a271b795899d122eabdb1a590417451b54d7875ebce6d7ba977ccbbe709c949fd7e40c898829acbf4dc7f428563ce0587b9db6f1129a5bc7ae180a7cd0e474fedb17d5bd574d7e4d50dac7c1c8e27858c22e4206fbb1ee4a742664ac399573f1ce2ac1b0c6f69be95483c670030d8645e4d7197635cba329f5f4eedc99618bb3eaffb4b043fa39da09ec37a87ef0eaa69d8bcf6bd23fd944170a8c0d5b9cb90695841b89a344957d9d0e2d3fb45ab5214926592a829b3c2a96d3e727465275b3f62642132d39bf598c62a327e7dc77012b091eddeae8632e61f1ac33c00463ef2a4bfbf7cf19f9b9b1f8fe436c9fc0928d238fad9c2fd0a22a25912a1c51a5f5de122d7ca138a2c4e670475246af93b40ef0c6f77d767bf4de6c4587e75602e99a7b0fd670be71bb35cf8f332d65f0bcd81c901eced7a2b1972b54ebf6d8b8c32b20001b4dc0b20a1c642f3900ccb26d3515609ebd76d77c551b35283165c48f3e9444887743b44d145b14bf0eb41a241ccf03531d4bd636194d3ac34129b31accb2b55eaef268306eaabe156d413f3482d5bf8599c40a00ea0ea8c8084de763b1cd04762f9be29685ff756cdf3ff92b3c16411654857cd5d491eba3f5a6933c3922d6bfdf779f3e3ba1cd50ee6cffb127a6e7669fcbdc4be7df40f4292fcb9c9f48aac73b7a54df9f7d9519a8f0f6794194465837884cd7b6df41b2e7c38909469d79abed85c88a284c69f7235cdd50da6290deecc928787b9444a669831a9ad46a4228603343f82bb5f3b53fd88948a6aa57a53c691c862a7c2d586ebbabb90c54a063bf16019a2414d4611615669869e3f955b0cff686cbb3fbd7435136f74f1e9bc278914370461f616279c87ab6aeb63b203ef676812a5728a1fdbd3ee7af0131b88dab296d41a30a7e94351b2c0988608808121b143b492a2d817ef1e73a1836ecfabfbbd491784c622452ea8cf08c7dc41d4b3f16eea422d75d5d1f9eb4fcadedb1e92653af969b0943cb6a920f93ea8e5852bbf3d04c6a977f599fb5787b63f4ea1d7b65fa082f513d1900c284f46e4ee5555d4988ec0aa9820fbeef2cdd60d55733cebda75abb0775b9f46d2b9e02ef47c2c43f1b3b8aea0ed521eb0291c851b2eea332ef61be8d8c0ca26dfc93dcdd4bc3f809466d29a0c2ec50648595124cbb11f896f4f54632cafb94218d8b38f2d7c7ce37dceb576342f922455caf963b24c41bb3cd385c658b966c0e4d3eb16b225b94e3f24e76cfbd03986ef47b26d03ddc18bc36c83c2fc7696cba042d5dbf2dec15f86be9c561048fae45eac9086c10e46d2bb9aa163cdd1c4ce33a2c3d1232592c2639d1a039e3e9bad4b523d98db9933b47484e2fa639bc155ae836aac959a945b44586d257772960586d7d4a809c43a8ebe2c909f114b6104e79e3876b45b5140699fb051419e5f9b17bd28cb8d0258aa63dbf9464391ee98bcaf429b0c78a87816e6ea29267d67ad76f4fd3dfa1f1c89163421d87fb4ff23f8392e15e4d26414ed95c176a4c4d20ee20fa13b6d1f8439ecc149fd733f5784524230eac0c8375f20ba268d34c6fec0a6ef505457ceecefdc27c3b5f654f66aa31585bf19aaebcb86a171a71f347c728ba9a4fa253081a73482b33aebb1befafa21cf7f0c0482b771aa87d15de23ff1f49616f9c8013a2427184ff153e802f942a813af9387dd864d8ccf3b28ce16327c5d1d55aa47b27fcb3b2e2ac56b3eff9bbde60c82a328cc4e7b8eea65543811ea2a78fafa763643155bd560b501063464c0dc3ec1bc0f1ae78d9c8aed9402236d40dd5c44f9e11bc90d2650b5b558ab2d9e9ca40c9ccfd93e181b3d3854c2d39a44046ce58a8483af0b6d106cecfd0cd80389c3fb12682e414d92b7321c06a9756d433c1eb632dd0901c5e24a6c26677e98aadbda4313109e8077d54a9a8d14f707ef0c3eb1e334933c100336fab9677a29f049ed586e6258c93e0216519838056fed88fad9a05c83d933b2f65f1b5218c987f8baa886c040c74c6ec75b1223700c23864d2770ffaedb78714166d401f735e66421fdf9435e8ecdc273c28c0964a341e97806ae26c7482ab65e55bb70e8f2dfd03c9a9d57c70c6f2b9ca850c249cedacd091044b894dafc221999f8632b295d0bf21429e98b8ac9b46e67df0de5fdaf415864dc3cec3bc5b7b6679af824e119311059a679ba81e74cdc9653bfff307f41399d797e9a44c5be8c61caed2c9d251209eea54e74f650a53ec0ca5f723cf17793642d124e9fe90226286f7f792efc95605478ec241833d91aa153b5f77d8a9b79a51b8ec409e20d83b3fb9800c6f5f231f045cb1969bc44e848bd72036463fa7a7eadd272a329e7015e6a825fa78aa17a3fe24268cd736da0d1d5728424de7ccbb2422d5766b201e1b68f452ec5f841b9b97aac87fed4a5afbb1a7a632ae9034b9a2a35bf547c6ad20a8b32c669e8ba0bfdbaf200235cc8030c57ab6686d6c58c387db7af9c3bcdb6abefb7d61e763f37225ac4dc0230ea04dff01871e82d2ec7a032fa96d4fdd3badfcdec72647288164267bc7e8bb8d0fbf3d1e5b126e27a2f4827af090ff0d3a8a6bf432e89de20d958591f192e464053352f1366226e69a771bb10b522b47e960ef12c890f6e49f60f7f01dc7956c521b06b4325883ca8292792ae35e4ab279c1333333b24d1e7f45b7871b1620c9f085c6935fb99cc0cac74dcc10ff9ca3fd36fe8c3d02856c511c70f9e4bb33df470c9dc6cf617abd77b6591e9c956373cf2299b73f581f7d4aafea06600f3ea2f8ef55bccb0199a05c4ed3f0ca710ecd2cafd39f941eb4007e6c6da55f0072ca5eb94703a0bf03fee1e5327997c989ad29b7fdd622d0abc779df8ac0022d142327050364c428d17a135ab691e0e9721b289cbc5ddf9c4f7b34fe9f93b77b41fa4efa234bed84dc950ff6614819565b8334ffe366fc96505d1aa7803235600ae660feeb90148c32617f5b1bb30325c50bff9c64d8e4dc098be727ae314ac5d650beab29a7b3f0358ba7729ec5a79af286c4fbb2a07687c919f3d2ddadae41ff21f2b8143c984d786ed2880b94e476db081dfd5dc09fd74fb718ee1a80ae5eae92e8ab3f626190c6453b3c9bfc36259c62797d41825802c749dd9aead829018d8d3471d228dac1b1ea9ef2878023155040a7040ed7d9e3fff51194d860e4c8d8ef6888cc6385e65699f4851fa00d533b91854ef031c13fd0acb3c754bde8578b6fb1dcfef1969a34384dd3d8646715268f91917d578a292272f6a5cbe09b7bdd41ef9ae96a884c53a5958986e64bead0fadb0cc596ddfde576e212e3b4d41ae64417b5baf188a3870ff6d97c2475fece6849aac138dc7abd613e9470ac8b58aa12ec060887bf09031e104e3046b91b0c70ac7824c79058692dd84ac4ac413cdc003b67434545a1f57930925e4cf60e1177b28bb6d4408eed86a18e86e1553a0b0be0d471cb1a751a61e05f40c6493885ac76076994c7acee522b59039e283cacee367574bd4065f7d19b0c82fea52c7d7366d5dd028a2c6e07e64bbd3819562cc0a54d83909411e408f1df91302fcdcb98727a3f8c2420fb7bd22b28d01a6bb147683fae3f80eb9b87b97b47cd81768f8960b98d3cb9645d3021898d1a6de0b182dd2b4215c1d0e2ab8ded766f3bc8d6ecf51e24ec55135ed33b89816abf936cf5f629610f5007b9792f098c76189c518eb43c1c9e9a1620806c26e82b7d8c481860e1b9742679caa9aba34279a5933fc198e4f0715df3e51833bcf4c0c6dffeb790c84d651f1afee04f6cff1fe349d74eb2b34d54a1d5c2b03ce85de5e106dd93896bbd0c5369e3137ab673048e70ff6ea2f9591a8f2fa292604c4c10ff1000e5e4999ad08de879b5b4c155ed01c5bdf244df62697801364071315a9bb26c538de5772722e33e940660722739abef8b46bca7aee869133a12d18c4a284996a736e74561ad2535ebc081f04e37c392cc1e3433ec5fef7e194291513d845626e4896f7e34880920aa0190fc9a763116fa598166016f5073fe2fc45adf742b90834f97ba5c1579030a87232f7960004850fec42deb583fe1f1edc6e22155557abc89b326df87b256cf3a5c31f251038e4c0f950190b2f48827ac9fa4c239e7f4de1a5b69c35f5990f588037b33d37dac0c375663ddd6b923594a3d946836850762024cf25711521f1763d9bb3bc0d220c2a565c5ed12a4a9834e0ad40b5df6becca24c3c8e6dba0d07b434765b3429fd5e2a72897249667e601f780b8cabeabf86456a06e5ea8ea7929e577f522b3e9d7d3f9d810957889ba2f896ab1e50114ec2056996793137a6166ebc6a525d1aa938d7fac498ab3739d7429cdd3e1c650a37395783e7bdad7b7158c51394ef77b79ca78df8049e91fd464a91bd2ef04beba644c67f739d4dadbfb4cacee12da467e1f911ba2968b89ed76f21eb712029c42c2d214ef623132c7b537f9d0db47af7f8c743c3ee1a30e011e0f9b0db561086f3f0520ff24538bab82af799bcaa5a8df3819083858abba74faca3572981b12c4d274f8ea4d48e8e8077583691602d81aef33e4108d7aa1772b57d106c8487151dd75d4eda180ca64cab40ea5c3e58a906862d31e190e9ab1174e19169b756a78081c3a195c68fa84bb4952d3b614ec451be49e4684a536543a149b701c8b2a88de92a92f2e866a5439c1f0ebafe83d91c009842b2205f0e59367cf67339fed59bd612fc1034ef4884929aa09169ec71657861f7408e66aa95437becc8ec6fa72e48a241b63350bfaae8191eb4e12d79270dd00ffe9b548b21d51abf03a7c9adbe5d7fe59ad4f32a23be736fe79f8c7c168f40a633b5f934a049e1a9c9b5f16affa551750bacbbfbdffa5ebcb4b31b57dce8093fa044826fb6d911e9cfa177f74b2f22b1938f21481e15f090fbab3e349b58e2b8cab1f6c3a54d46daf555dafbcb517a43fa6129cb7b032da0331a00c7c48802b932f9c96ef4ede4781d8aced87ae4d7f3c7bc281a570db97c4283797d7da4b8dfc2c2569777271626d7b6875a4cdbcb965d7cfb203c55c4c9a26d4fd04a6189a9a3bb09db371bd9a10b96db45f067ec91f6036a878540927d723cdb4c9fe54d7fd679d227b7c81bc7d74fcb5c42b3822cb2399b186091e8104472fc77de38ad96accdc10df2c0d98e0ac289b7a0cf46d9c307c6acb5ff2fb0b477528eced45cee0745f878170b3d6ab19e1c01a4d203b899059caeff481d632e46dfd16454b93df73af17a6fe1c9e82e02ca53bb7221ae7913fb6fba3b64f7a2b126a09c29874f8ef583bde4ed6469e3530d3ae1f2341daeae26a32814784e2a50d3da59177395549822e92fd07964b2416f3d728b01e22c3e69e4b449e550d858a9e857dedf51484a547caabf4a947dcffb728512163c1d15abbd709dbcdb0176395ec6b39a5fb3d4c4f429a854a4341ed522cd22fb87f9587610a03b1ff3b0d2056f9bdfd62252915f00cb6f912124fbc156e6e0a285e4537af3a8fdadf1e8657327f8c5801e81a22616c30c6e0386f82cf63ec6f7abc6bc29a85db4830b8c69004cd9c68529cfee698a4830e10bf4d01db838435403dd01adf847b44b4771359bb1a0632cf56547af2669687c9f3ef8e21388d83394ae96781a0ae8d2f4564e862ec9d9cb2baf07aebaa62c656357044ec4604e5c320ff770c0b6f04a51b725cb1363e630ed9ce6e99917c03726cd82ae444dc387f8d00ae14095a44a1d3b957f33733f25b81dd6f9a3233e3818a2e6b25efd14fc3cbb4eec95e5844be84b6dbb040a98ce1229bfaba3db2888d9f92c29f2bee65f8d7804660eed946fb2b69c260283f20dfdc549f1cffb5936a2e80705cedba2095fca46fe2a75fd30383584662f77179e5fe31f6133b9cf87b323602956534143c4f85ade254148fcd69c55c93d47aab53ab07d921758815b12d71b2215626dc85a2ec0b6cea604e4b756021a5d0678d019084f94dd31d107a9a2138dc4265bdac3d4ec44ef10174463d6253775f56d6e4aa992a96dd10daaea639f53be34ba9421fb7f608bee12060402cd40ce19eefa675099521aa38773d438e552d25996ad80446b729bf75c7b34038f4d4b70283e025e91c87f39a88a02f38730cf036523f8e9a28d3264f4ffe0674a3145170667ae2d181fb67769aff238aab1dfe47d9d50a8eb2d92c563f61527aad1bf1d192d10b5e08878e4b472a6ac9c3620c23e365e14f9831a4d49ee3a006dd85f1fcc3f70136a46584f054d7748581e784d991a4e2b2082a622dc3454d846ebdd2d127624ca7b1db90226980d2d3e0a9a3aedd56521af7d2d5fa6507221516d635dbb6ac53710ebdaf2e78d27826a159259c5533379bc895adb84f6b92d353edd986ee0c7c28013632600b45c53546152d63d720209bf7531dbf270cc6e1b4e9aa41d0bd8fe48b5891543ccfa989f7e1f506c3fab4738f54d9e0bdac688e407e4c8e8472b8841cb431d0f7f9cd974ee6aad214baeb158a5ac4c2714db854c0c7ef4f7f418d2ced102cd5d20dd46bc00b109bc640542397e812a9ebac72b9602336dd4e49b46d00c2f185a759b75345e74032d2f250312866b970b321961f91af00a397e762c64c5e72bfacbbe245774c01f57308698eccac3199a37c296038adca6495bbca35aa80a57a50c077961930e667abbf83a4391b3d14ec9c3d0efb978310e4f9669c3b6fa30f2ca81bad3391b655177ad1d8d4a9f0d5aee68cf2796af8db2206005e5e51ce2748f44befadbc9043ae4bfc64860830478e5130b515f28d7ea23f231c92f42e2d1bf58a13ebb20009a127109b85c3034e12686ab299ba21755bd3947089920eacff294124cf9359192d3e713a5c7d7160f74836150b92bb32a2d549edac09f97c8da8ee27ba89e71a2ba574803f6eee774c92e400116738f62d5acc92ef11cf43b2c239b1bb8f5940a22b42f17d7bfc94f3a2d802db132547bc86c4033b1de0ba5bd9d7ddd5fbb02926a22497baaceab3566ed6c2792e92ad386668f3a24266b256fe5a220f457120471cf0d0b60a449a694c1b758652693550193494a1977561df04111aab513d516d7029e61406df69b59f0f59248ba671072dad2a18e748873fe38107d9d5a26c301851d917929133fb539660a5a36a502ae06501155e21e90d4b1797af7e18c501fbfac83cd8e5a213fc681c4dcb47d1bbe9d4587caed0e944f15b3c7013ceea17fd57caca5689a4dbc671a8d05fa3b89a857f0b6577e4169ed5b6b603806c9933245333e91af1802f768539b4f4f8a49cd44fe1c93dcad3bf0cd7594f6381a6d0ab39d0bbf0df45e78867969756b16004ca89a1935a43a9c6e9553284a8ce6d1c24e0c08cc2abedbb71616ed56b5248d836b18ef1b9f77e03c480665783f77d70bf8069d7460e103cfd4b5b0d58e54599bf0bd889ae7143443e12626b09a4b15e15697913c5115bf4c00a604c16ae19c205b6ae82e02d19371dee637f47065e5ec34d4a672612c75b3b1bb820fecc0575e1ed5424f5435d1481beeab7a4f76f9e7b2811629f619d9045a7959b3b634b32b679477b783baa097313518376d9a00cdec248741e0314f9a0bd507798d1ef6a0d82eb09896b67b3d9bfe3f20770f3408b638d99f5c612629eddb87eeca8aaa5002a5f9f8fa4e109e738ab2ca2858f3557d8abbfd823ac2a3f7b3062be4a3ec934cc924e925cf56c2355af20ca0fe564e0a0dbf426213712e7e1e3b5426cce8ab9b6ae902e4b3438470a933d8aa6da8d22e1802f92585d1018c84fff9445a618a1f104f260287a847ba2a55e1d0fce879ec6928d0c9c245a4f569fc50f4a8dff8175416157187f5bfb06fcfdc5646e6c4eee56e1f4f69a3691f501e2fb18795780491fe17a4e99059c3d7e4c02f311945bedd0af1d7c6ea69ac461ac063f4594fc5dd2ed8f9ac23fcb45946260ce06ad4d7762f9f750398820c28d8c2108dc007c9c9bb447aa3f714d1013a879205868b5b3af44db15b56d2d3f9cf5b0df70d51d991c4a12e031aa6edd0991f3027379c3fd212ec7a6876d8bcc4c85e4caf930f0146e34ce835554f0a2c9926f9703486bb245a774cfb3d65b9573eb5cafbc8fb50d8b457668c3bc4c11676da7c6b3cea1471f47b10434ffbe48c4307d62ed6ba11845877e0fe2630194ff0e63d748458b2f1beb48c15b0e4dcaaef9937d7e5eae4fe84c58ca8d41b19e2527870cb47b4f1bc86502b57f8f9de507766495e1e785cd881c028d10674e50b4eb4d7bc4b9878aeebe19fd4da3adccb25fbb6b86bfbc972e03817cf31779195c3ae857f7efbdf086f6d63e8f56eb2a4070ad71a2d896ddd2dc65a4a039245cd3b54d298a74caccd72f2535f464f242e263aa98b4d5dee595f5719315844e520e1fcde9f5efde2bd2f7bc525f3260b45f89cc2743bc7dfc35867a2d435f36f6cd73a4c7a7323351396d2340a72dd6990685d14d41ea13419c1c4772812d0e40a0d1fbaa3624b55f28a953cb7760f5da565376feee1fa56cf47e892f85364e889dcc1ad1b2ef348aeee208b46db682f88c902943c37150c149f6b669b4bd6c8a2e32d4c73f1a82db88c83143b07a2947b1be6a99e7c7862546a44ae010bc126147c4dfc26cc6d64296bce7f202f0a59ffbcf2486a0cd30beaa4d0f02cc6c7aa59a0f72bfd9f8358ca5da72d8f646a69d52d0abf8082a55e0fccaf4d5bb2cce6bbce69cf8ff0224c1a402b4960e70b910d0c19296e0bb5f6d7403ba7ee690e3dafb0773e9dc346161e2194afb35b33dbf0cead83986820621a922b578436011565f930b212036e67fc83285567f99bd73fe74436c7b2566072f4964478d4f10b029f9c353f70609e0426618688bcbfe9d45b80b889e769181e893ec3eded69c35b3b6cb63c41b60cb666a2962da2623909df3a9facfa00a81724ed4a8aa4c58ed7f0843ea76711bd41ccaa3760c3b100b7c5461cd1afb3aff4bd9c050bd48cf07520951f09396ffd7e067b96213e18261606412711b4dde213d710329e088e544a44e68f72ca44c9ec23338501906865f02901627fc10443fcbea74b23f9f48c0106fbef4904aaa57a87e148fe77203e9677bdb6eae4352236840c24ac08b2b928390a808ba6891b5e04dd35ed85428a06e99f1fbccb6d0c89105ff2201a12608e0e4bafc43d7a041f48904a081ef322e3c1db1107e7c731bde98c48d7a7fb556461b766c68a84bff7122f1f323be0755f1f76fa662f0b5a3bdb6671e17a97f0e6fab44be5799a19420ba4e64a95c3b6fba23008e397dea851fcb4adbae1353b495e94a47a4b903dbfae9a18d0821ef5e7235a088ba84dabfe0aae1bed2af04f8052c4feaf7379393127262db5fdaf8165e697a93146d450255786a61989be099379f08e4cac92711b2515930af332d90eb42ae21a1685094b04f6bc105c8b141b0faf2793750cc9f8804bdebdd82f90b4acca54686dcb79975ff0d7ec862de56a47a44ec460997d468605b69a664055fbe9a79e2477224357eb8a7623012170f2a71bb7df1bad55a0f7491e251b23a1a394a506df199b68fe1c1028aad8634af8263d9586d1d3263e6ec60f41ab70c0132284cc8bd16ba27170373c43731ce64a2a0bfed88cc791cde266ace852617e9f6123d4e76e5d95d3ec04893227e4b84c361b6bccbca98a89b87ff1f755191e9962f06ca3e82cc8262b0c77c5dfbc8eade07646aa33b517bb89f155b463c1e130bcf1ce6a4f33fc1fcf14fccab2153b2685a89785e5d3bc626a4e62fa939d0e1f7fbc400f9214a0e5e7414728f2ab000178bf45268e8e171edb0426737b41f051f657c1c851efb523fd58d4d3cbb515f32670879e6d75bd6cfdb22ea87e7eeea284ab6e3c68fb52176e40731934d15042b678c57ebe485b6956ceaec3fccdd1b4bc05aa2172db1da6330df366e3506be34c077af5b6a36a64f35747c546b43c2ea6f35738bf51d7833184cae39c49dfb5e15ee3e9f45ad3b0d88868d6ef004c7b81d377ea19719695c2405a86d88b0113fe22a473cf4bbbb66999c869236f16562a6625a94f1e2da3e172abed2f95f87a8e9940367fc8a8c3cee2cb54478ea9d4363799c3284e45dcb3687fc81924bee7adaffe8f14e9037d3547d33553896cfb229c462cea4fb52119d97d6e5679943c58138b68e9a1b0ab34b3544c2c8f308e1d66a9826a1bba4f163532dd9b0c9666521482557674e1e7fa9647b98fc849c59ea95a4dc92baf459723c9d0899341e8841cf95bd3b64229377b83bcfdd08f8689d21e70bfde0d71ea5e6d98c2739901caa15d56d5aa2f140eb7d789bb262935a17287dbcfa709b9c09bd88304277ed967874c6e32eceede72f73b223cde66dcc7a4c87482472e65518947073da859c21ce5fc2f869f8c7e0ad0712d2c5861d9585c28ad12d59e31258df35dae77d3b46a02b5a9ff729f55ef2e5fe11d54e3610119e703dbc6772c5c497caedf437c7edebf7ff37284cc17c1ec4c8cefbc2566eb72a3801a1acdc7d6bfaa498a7277a46617ac30aca5e1f02df28d108dda6ea470afd1f076e80a21df0da70cfa3f41f6befc25ed704d494aa1167b4d6e834e4cb25a22b7301bba9ec93a2c39568fee0242084e9a4c95d6ebae44d48ba0fbc16051616d609ed117d9de20b44df3bdf989bb349f45c470f689b4c9158186d8645aaec896f7dc25a2ae4b6cb7224439b6f574081c2135832b6d60aae15827650e80f1ce6583b625221fe154be5df01c444f37643035ea0a6231313b6d2ac5eb8850c27fdd222590ef165d38f86354c3d0e5195df09341e74edb1431ed1907d74c35a064d9cf9515b71f68607ca39907655d56c8386dc40ec7bfc1d6dae9c15cd61720eafe45ff165817150a8a4da7fbe74cd07fbac10b62eea7a223753834747b66c5e88e17c6e6effe4cbeab1939dcaaf0488c748a9621c4b47a67446227bc50857ee07db77c0adcbde056a63437ce2507bce4edfcab718c37c7b32c2a6be7e7dc93fb882fe84055637656a8b649bc667f3340e05ec2a8240ee619544d0851774ca8fafe6bd7b05a13ddf483749c8c52312a73eb80f494152e2e1f2edf08fb72b7e1b2980f68f660cced5ba903ae309825cf51bafa21abb83dc663eb60e0a68044759c9037f1636df29a248dcb5a442b5789d281be0707196e98b284dd8997a048a5980f73600eea0374f46ef5b85a093d846e78bad3e021966e54d685a28e6474ddf1b76d27749ff8756a9b46eddfaf31c9eb5fa4f2110e0f3b075c2c1799ccfa64bb26c71aa4d75885bf261ff39f3f0103c5d4ffc626d91fdf18de651b9d9d42332d8b6638446f8be7a18662c75f429dfe5ed8cf55e160d51c4cf23edc70e6a44d53e8cea5505340a23fa3dcd136589ca65191bb10c96dcbe6394e68da2db5c07b7c2f0f3fb19647af4ab39bc48dd6f9fa74f9ad0da31bb8764ab2af736a82db3fc51d03d892ea5bfcd5488407f49e51081d63e5e898700bdd08d7fec17a427d8cf54aa47cecdb83ac538167d6e45da6d7f505d54c71017aa0482753381ce60b266c38ffa568edde8e0dba39df61700a03aa66809b380c9d18c7a4511b3ad4a187c6abc8342fced7cc0680e76823b67892e67574bc3a0321fe9d8e20b845e8a816fc74b031ca676038dd7ff9345f5752166d30b945ffd499e377506537d29a769ccca9a9ce1f8aadc33f328ff10ee5cb58a798f092b632ff858df2155638d589bd593f166e3a2770d7817bffee60262024571534608075fb7b04d4bc1e4eb4e6c5ceda360aa23e515290d410346f3cd8d82adfff3ad77a452823d28c102c2842947a6215b39b2c9093a509a99d422291075d7e15979b92aee97dfb33fd8eb6ed9aa503fc05af4e1ac7d5a01c8da7afe5945e52745f8c6dfdaab8aa892ccf8cf269e2edfb4aac0f76d872f6a01d49fae32864a49b7c548a625216252d0bbd3d6c06116f9eb70bf276970805111def564ad3e4ba8167e0f67eb3223005aa57c2e851124e33d30006cf8105eb6aa264ce6b3518f484f2a40eac356b85accf59dec01a049849294c7a980f65b0c9ad91598dff15e31ea3803619130ddbb899058c395c124ee08f622cb04107f3fab2c702c711106688b031db50fc424aa5e1b0b50f2298ce5c92ae64f78b801974090070cd46b143c83bca0a0c90a63604fceb402d799bc7362df73aaeef2f12c5a521a84ff3c2845f0b10748126cb38cd495078422fed75aa79f92d9d7b8060c0ddb3ff7764d1f307f0af0454babc34dfaa5c63e66c55137f27b11078aa7d4bf4977b287032cdfd866690d50accfe424f65061327b7df8b4b0b805fb4b83ef49c4b0df71046a8a4cc8070270cd84699cc551092e6efa575819744e7298b401ac2b262de6b8db2ef7e9136afb08938431e91a5220111259e8e2235ef4e9b311082851c717a7b9a1aec5f202ed939614d984a6d64f02b7c84418553a88c519ddb796bc46f03633f2c19df22537614eb00731d4a90ad768215c6889c1f1526614866d6d56795483588f1fa4dfb99ea790642f073474d5ee1e72e8485f8242e9b69dacd45f0fc145e3aa6d223ee37bd8857c73d4b6216e61dfe60daa8a58362be5cc9e200322785bc1e461ebe0974e4494b8569d55d3b1ccad13533ca33a4f1f109fbb495942814e81b05728a722a186100a7bd87416be03a014d677efd969771f5dbfacfb1b01b8059cbb01d1eb1c2b790d4f6ca97cf8ad28ff72e148c578a20660be07a785f6d07fb0af550e33ac6004ba73da7bbfbca59ed607ec1fb39213e6f906e206060a87e71b806f272840b90867c69a2a5708a42ba802811a35cc6ce25f2865efc54b5baf718f6fdc825612ee1cea60ddad437c20733610dbe01923ad807af100e2f52852e066be8ace0866cfaf104094956ac480f580b31d134d01c6813d8207fa6bdfcb8fc115fdd7558508400129e1b930d60428ed2b09986ef19c6e25111321f19e78daa59b1f5f9a7e2b9863498243c5a55ca3557ca0cd1a6435bdb30dd41b6cb472f56e0e1e310258cda68797f4a0d9eae25d644cba693afac3e905731cc26d410aebaf2161fdc96165765ff805471c5a470df304466ea4b6f96783ad210bc86fd1be037dddf9364cba40b31e9b431d3c1f5895f59421e6ebf7719246f84fe31ddc61f45df6cd5bef9bc16a2b3d5233d6d7e0384fb46e67680c690a22035de28637e2bb5fb2e07dedd202fa4c171c8691fabdb06a7c6725b86493fa2bb89b4d5061912b7129f243a71379c732593047941651c7e60582c13ca9dc2b74b7056456323c2d06a6f41f7e80ae0aa568de4a074bac0e9ae62c5ffb143e2f610d855958ecc2d3b984e32095411d50d3e7cc3ae53e4020e8e8ca4ba3952a1bec822d2e92ac4324e83950eeb9c95c4e9dea832239f0b3ccdc1c345a0fe26287b8ca28c515b296c1a8949d3b410f07b0499e46ddf21d8ee5d9f4f4543a653ba0af7cd252021c128f47a9125d5feb33bf17e1c00978ee379cc672ce36d2c979f361e5d2b60c0cc8d2dee4c02fb2a3cea6b8d38e367015b482e1e96f3049251ad99f2ea1db7bd21b40fdcef462e29e8c672bdb721fad1865c7d06baf524f86925beda651b090116270546667047554277df66142640c0402c470beb64b4d0b9e7749a1bdc4b8af3fde077204cc4e822aef4d96c151d5e1a98a78450b9ee63096ab491fa07c2add0c5702ecd635a624d6a1ddd5a17b0767ede9945a3e9c5f295722f3dfa9127c5ff4c36c84f81b2aed89906c732b2ed7d4f30891f73a90095de711722de0c1c3d4eddb5fd017c8618884c484042b4cd5dfb5b70e4f4d403acd2fc2db3208ee0b16985f00fd969053b8daf8f1c75471719e831615afc97705a14d893a8bce2d7f55dfe060465bbdeb603530d2a6bfbd5e976053be9954e73bc5a10cca6f8e12e511299ee8a875db251f3a68d1538633f1c3ac8831100a7d395969cee04c77a5a88323b0196f795c26a12fb211ffdad11b00ffcf7ebef8b0723fdf88896c5d7755e69f3fc23766dabb591895e80bbac9fce0bdbfd9a89f33cee249ca7462ec8196b78294ff8f0164ac79c6f7e8ea93e29d3cca1546d75d3ca02ceb2db3df10b6a907c0ce25a5013f36a8e8ffb5a9c47f6ddf5bfd65e85717d5d197703b25033b1337747030c16bbff15eb96aa35ccaccce48a2ce883911dc90a456a04bf33459ea35b14c3ff4006e9a3da7cd5581ee6ffb006260cb5188424d00b8fd71b7721658b8a4dd4b838498d6c29776b85c4412b721ed234222df4ffa57fe36ff15d36ef4ff64e368e9ad561f6a92e0e87534ea65b62ec42d791746786850f91f83948bae3f869e84e809832cdbdc4ba1de2bbda2b91acf1531b39bc06b6a362b7cd764bbb3285ed709e38dbc70adf5444e207ff8a25472b87af00e972d0836f8861839c42d189b4235d1e034e95118b4c0b4c1ed4d9d7adc07429d3e7b780a0079a2c8dd9dd382d8b1f38de05838fa4bc54a44538a26918a4a320a7c360d932b5b06abd0f47d08d4dd05ef0d1ae8419c474049eb755799e1b0a43afd3edf76b31aee0942b9ada1ee5294e642e340225bb99c3a91ea8a1f5430a4a30f02a5dac2593614a1dc127c517ebe9fd545c2fe94c8fa37c10ea2871b18d3e8ef71851770b15606a17f33ef4251e3706222839323358a78bc6932a1178de39ec7e443bf5185ae5c9cfd1bd2383e9405aafa1146a8ddf8be2d03d380660e42836c09efa1ba1a52a48dbdd9571feed4bfc80f6a955258034bb35d54e95117283b6d9cc5c7c1ec401ba00ca5acb1cbb4bbe3d0da3103025ebeca81f80fb0e3c23e5f3b41be63d18c18ac2761e4294702a84d58dd941a040b41d3a2ea90f39af77eaf83e21eb7e15329e909aa2f245dd6eee745cf5611e97324cf38839180d2d3198956c7e48c131a174ae886db1d619d347975717ff52a4463289a133bad4b021a78117d1d4c192ab91b8762bfe7e50ff958ec5c526825ac4658d370de2510249cd9d39860a2d8953e61c8ebdc7dc7aef000ea75cc1f569ddcb3a968ebd0a393f7b323a3171cc4b7a9b3cd9d97319e716104231030ca8d5e2a0356c8ce31a547c8a107342da5c27458d6febe3f25afde31c51dae87f5896cf02eff7b0dadc55ff2b455ffb00cfe48338380834a33dd5043c1739d2f1cc8ad158c7065b51b76d875a5ef7f535783c0469f3ba1ec2430ef11e8ca3e4efdd917591a74b521df1ed205e74e4b95f09081c9da12985aff99cbe408dfcd6da9c845c426d7081f9ef7c522588b905adc0473b0907d7aef956c4184104441a2afe55aa383b13854236fdde323bcdbd9fd0cc6b28079e7755fdd35ded4522042adefa60f350ac00601c8ae1b973b830f4ee7d0beee7cee3b1df38ce4bd51725745a6f3ad3affc2aa5df40ecb7c5de79ed5e2a70bfbf1ab92d6c061761ca537fa294b7584e5e713f1ca5c9c75d1a3008bef1a47a44b5c17dd543f793c763d7c67e5430b09c61f4b03bb762187d98ce73beab6597f93cdfd3e8a9e11d5ead0ed43d89bf0f9671355185fbe951be21c930c4df6ea330b38cda39382e74e61a0a5f50dcb0105c1093b8bcef56630262ac0e541d90484fa8a8b674665f0aaa7be43e26c5e3d720db21fe190603f584ca0776b544ed6998c4205810e01712d135f981a285ccae54d150c8e2cf522006a2b15a1ebebb05363ee3533dedce3998872d34b4bced00586d199460e90cb570934288e0c94d8b5ce267384dc99ab4de0700f8e99cfbabe51d477882e6539eb46a81e53b461b38fdf98729361470f3ad0d14ea197afcf69cd68083ae6d11c97bcb6777094f7c9768e42d58f84bc665921df922db1b236a61d99e85c298fe42b3cb1dbc68ed77f302265ced49e66e03534518ed1a62b3fc47acac8df1ec4200280642c2166503f589f58a79699b9029e78db13285fd593bd7e1dd3effaca8864e74bab922a5e90a8fdd70d1948816322785e32da8ee9296e10ee8dc0cded6ebe0c58612d9dc6a41aa0ff7367840f4c50fda8347e0ddf721da5e16aa8ea601feb2d69fbeb347bb75ca0583c64fd16db603522047a11e27a730e66e747550bba915d3f05c89a5bfa40085160417d25e255087dadb6d94e9d27c08ef395cc1b2c59e73e08ffe15b2b6f2de7ecc84494db810cb79230caec6fa5f65a9ba1628fa6ffb5af61690fc16ea88be66a6b266fef02f34487c51191c4c997ec464c09af412fc2ca1073c46e918b359c66ec1b1ec707c40b2f1acbe627738be451249a0340e7944602259c2cbdd928de29ac052fe9351d2a9a1b478725316264e2922018594a03e0dd25e761c8112e15488da57dbbed5815f7a0ce5afc95a3ffb49c1a27b17ec771c1b3d19533f18cc5a72deab4007889be0a9845550d8b0c28638ad13c227691560411435c35f84208b3570f51842ee0264b1307130c0e98da2db67b74986722d0dd985e4619282822a3836a46a2e6bea2d436039e27792ae0f6a5fabf865b34d9ba7c30b22c6994caa5210fd49edd43c8254f54527945b9281f8bd7511449c4ca0e2cb950f3c13b351112e695bfd60dac6d1cf55eec625c986819bf35a3ca6fd6dbd74d0d29d4b6dee30778a4f3b641c2aaad4243faa7de70c0dd2667bf9fdafe48ea7edcdc5709805792bc58e9cb015725f82a32aaf854db76d0625c758949e32cdf64f9ad8c9992578a1a724e337da210ee0214fd8f334f2849ebc902ef5ddd2918fd17db68dfebe1fa6dd5d70e2a2a29aac5bdd423f075a1957e2d5b7cd74c3a0cb5a39a3ff536d846966c4db7601e23e03593a43502d7808228b79de466325c4cdb9dd00e04d69c82e737d6a58d379122be45749658b30c81f0806b3836f5d9e213b75e19967289d52c14cd14680cc876d0276b22f531b875c6a7520a506305ea9582241f0bd95d4146b47eb71f66c4039a207a649277e735a5e95002766208497a32498f604f82c10cd95bb0b1c16309555bcdde227e8bd48ff8fccf6209413a93c88c583fb575a86e1bdb84d24711cbac14a039ecf1a89195abacd207b4bce37982a0befc7d4970bf8c89f93f8a2dfe7188186eec7b332c01ec1ad29a5225cee299b8633d8aca4f44f008aca50466c26a73dab869411f4c556abca308afbe69a846da8c0d1493bcdfde2fa7cf7496923a0076bc15650a8561437f33bfec37a334c978f3c79aa90bc1d1abedc6548c8319ecd0114a3e8b7de3d8e3891a824654dbb85fe44de93956c042d0233c09c4e6b8ae03a32c92b84939e224f6a0d3aa55721cdce16766f4b7ee94fa2ac4f832718c5aae217a64e41a3d4e10113a275f7bf6ac46673bdf54d7244e4da1c1db4a0f1496e4616b9e4780028686b29067e3998a86ad5bf3d65609011c807aa1f0b830f87c5d9ea12b4c756b94c5d93fca2d9d396599a94cc3cee6c5c2424c3b90980d3d27ff8d080aede048caf6972b3e8d7b9c9c620d798780c69c3c21e8bfa5977b0ebcff36882e49e65b13d242d84459708382ff29941ff927a19712d4b73bf2c7efc9a1a8f6d1c74bd0ac27f02f52e81412f8159067ac0024e8943b156246b98a084b51a4183dcfc0a0533b0f47b961fd567b60b2314eeb467821be69643c86abd641daa12e74d7b73b30ea0aeb0a983e2f555674915df8db81662be4a2eff88a18bdc9716a1e701ed2a9e943c03fb8b12f0196597209c27c966e53b418c98ad5997b991575b603806953167ae5f8313d7e3cf3719aaeb42fe5b5b8bbf62c9bb697d90ba832f45c2c827470e18a52cb649e079cf17325751c746966edff086c6883f19c789814d27c5c0a8c077624df836c20b8cee549e3f5e0236a5df09c155ba269bd7ccb3aa07fff6132f3380a2b1d13dbbb37142770c055dd8d219570129960a68edd47c52678100d8bec8c56c085a2601a2b2d1746d85066ddc9817a5945f338c7b483a479e851ec2efe34b3efef2e4b1bdfa17a6a7aae5388e6c9d2a72f2dc7947a6bbb8bec4893ff2fb515000a5b667305305c2abb2de2f6 請輸入密碼以閱讀此篇私密文章。","link":"/2021/12/09/2021/2021_12_09-Gaia_Web_Lesson_Learn/"},{"title":"Java Script 學習 Part II","text":"此文章主要是在撰寫Web網頁時，使用Java Script及Kendo UI的學習心得。由於Kendo Grid內容太多，所以單獨一篇來撰寫。 子表 - Kendo Grid設定子表123$(&quot;#fm_id&quot;).kendoGrid({ dataSource: dataSource, columns: columns}); 監聽 Edit Event1234var subGrid = $('#fm_id').data(&quot;kendoGrid&quot;);subGrid.bind('edit', function (e) { console.log(&quot;Edit : &quot; + e.model.id);}); 監聽 Remove Event1234var subGrid = $('#fm_id').data(&quot;kendoGrid&quot;);subGrid.bind('remove', function (e) { console.log(&quot;Remove : &quot; + e.model.id);}); 監聽 CheckBox EventStep 1: 子表設定好checkbox 12345 var columns=[{headerTemplate: '&lt;input type=&quot;checkbox&quot; class=&quot;selectAll&quot; /&gt;',width: '30px',template: '&lt;input type=&quot;checkbox&quot; class=&quot;select&quot; value=&quot;${id}&quot; /&gt;' }] Step 2: 設定子表 123$(&quot;#fm_id&quot;).kendoGrid({ dataSource: dataSource, columns: columns}); Step 3: 監聽變化 12345 subGrid.element.on(&quot;click&quot;, &quot;.select&quot;, selectRow); function selectRow() {var checked = this.checked } 監聽變化12//欄位新增後(可用於計算總金額)$(&quot;#fm_id&quot;).data(&quot;formGrid&quot;).totalColumn = function () { } 重新載入1234//在程式中，如果自行塞入子表內容。//可使用以下的方式，重新更新子表顯示內容。subGrid.dataSource.read();subGrid.refresh(); 內頁編輯文件參考 12//初始化kendoGrid時，增加參數editable: 'inline' 內頁編輯-資料移除問題12345678910//KendoGrid使用inline edit，點Cancel Button時，會將資料移除//解決方式: 監聽cancel事件，並解除更新$(&quot;#fm_id&quot;).kendoGrid({ dataSource: xxx,edit: function (e) { }, cancel: function (e) { $('#fm_id').data('kendoGrid').dataSource.cancelChanges();}}); 批次更改內容1234567891011$('#fm_id').data(&quot;kendoGrid&quot;).bind(&quot;dataBound&quot;, dataBound_sub);function dataBound_sub(e) { var grid = $(&quot;#fm_id&quot;).data(&quot;formGrid&quot;); if (grid.dataSource._total &gt; 0) { $(&quot;#fm_id tbody tr&quot;).each(function (index) { //將顯示的字體改成紅色 $(this).children(0).eq(欄位_INDEX).html('&lt;p style=&quot;color:red&quot;&gt;' +TEST+ '&lt;/p&gt;') }); }} 欄位順序調整12var grid = $(&quot;#fm_id&quot;).data(&quot;kendoGrid&quot;);grid.reorderColumn(1, grid.columns[3]); 欄位隱藏123/* ex: 使用F12 查看data-field值, grid.hideColumn(&quot;data-field值&quot;); */var grid = $(&quot;#fm_id&quot;).data(&quot;kendoGrid&quot;);grid.hideColumn(&quot;欄位名稱&quot;); 更改欄位標題12345$(&quot;#fm_id thead th&quot;).each(function (index) { if (this.dataset.title != &quot;序號&quot;) { this.innerHTML = this.innerHTML.replace(this.dataset.title, this.dataset.title + &quot;&lt;br&gt;&quot; + &quot;(系統帶入，無須填寫)&quot;) }}); 隱藏Toolbar新增按鈕12345 //全部子表都隱藏 $(&quot;.k-grid-add&quot;).hide(); //單一子表隱藏 var grid = $(&quot;#grid&quot;).data(&quot;kendoGrid&quot;)$(&quot;#grid&quot;).find(&quot;.k-grid-toolbar .k-grid-add&quot;).hide(); 編輯按鈕隱藏/顯示我們在子表中設計了兩個按鈕，根據某些情境要隱藏/顯示此兩個按鈕，該如何實作? 初始化Kendo Grid時，監聽編輯變化 123456$(&quot;#grid&quot;).kendoGrid({ dataSource: dataSource, columns: columns, edit: function (cell) { }}); 檢視瀏覽器(Chrome按下F12)，查看button的TAG 使用find cell uid和TAG來設置隱藏/顯示。 123456789$(&quot;#grid&quot;).kendoGrid({ dataSource: dataSource, columns: columns, edit: function (cell) { var uid = e.model.uid; $(&quot;#grid&quot;).data(&quot;kendoGrid&quot;).tbody.find(&quot;tr[data-uid='&quot; + uid + &quot;']&quot;).find(&quot;.k-grid-edit&quot;).hide(); $(&quot;#grid&quot;).data(&quot;kendoGrid&quot;).tbody.find(&quot;tr[data-uid='&quot; + uid + &quot;']&quot;).find(&quot;.k-grid-save&quot;).show(); }}); 設定日期控件 Step 1: 設定Columns 1234567891011121314var columns = [{ title: &quot;日期&quot;, field: &quot;date&quot;, width: '20%', sortable: false, format: &quot;{0:yyyy-MM-dd}&quot;, parseFormats: [&quot;yyyy-MM-dd&quot;], editor: function (container, options) { $('&lt;input name=&quot;' + options.field + '&quot;/&gt;').appendTo(container). kendoDatePicker({ placeholder: bg.user.dateFormat }); } }]; Step 2: 設定Datasource - Field 1234567891011121314151617var dataSource = new kendo.data.DataSource({ schema: { model: { id: &quot;id&quot;, fields: { id: { type: &quot;string&quot;, editable: true }, date: { type: &quot;date&quot;, editable: true } } } }}); Step 3: 設定Kendo Grid 1234$(&quot;#grid&quot;).kendoGrid({ dataSource: dataSource, columns: columns,}); 設定必填欄位Method 1: 在DataSource中設定設定DataSource - validation: { required: true } 123456789101112131415var dataSource = new kendo.data.DataSource({ schema: { model: { id: &quot;id&quot;, fields: { id: { type: &quot;string&quot;, editable: false }, keyID: { type: &quot;string&quot;, editable: true, validation: { required: true } }, } } }}); Method 2: 在Columns中設定設定Columns 12345678910111213141516var columns = [ { title: opts.locale.keyID, field: &quot;keyID&quot;, width: '30%', template: '#= bg.nullDisplay(keyID) #' editor: function(container, options) { var input = $('&lt;input type=&quot;text&quot; class=&quot;k-input k-textbox&quot; name=&quot;' + options.field + '&quot; data-bind=&quot;value:' + options.field + '&quot; required=&quot;required&quot; /&gt;'); //append the editor input.appendTo(container); var tooltipElement = $('&lt;span class=&quot;k-invalid-msg&quot; data-for=&quot;' + options.field + '&quot;&gt;&lt;/span&gt;'); //append the tooltip element tooltipElement.appendTo(container); } }] 設定好DataSource or Columns後，設定Kendo Grid時，不要設定 scrollable 12345$(&quot;#grid&quot;).kendoGrid({ dataSource: dataSource, columns: columns, //scrollable: true,}); 如果設定為scrollable: true會看不到提示文字 tooltip 設定數值顯示格式設計子表時，一般會在columns設定template顯示格式。 ex: 1234567var columns = [{ title: opts.locale.keyID, field: &quot;keyID&quot;, width: '160px', editor: keyIDDropDownEditor, template: '#= bg.nullDisplay(keyID) #'}] 但是如果要設定數字格式的話，無法使用#，因為template的#是特殊判斷文字。 所以必須改用function的方式設定。 12345678var columns = [{ title: opts.locale.minMoney, field: &quot;minMoney&quot;, width: '140px', template: function (dataItem) { return bg.nullDisplay(kendo.toString(kendo.parseFloat(dataItem.minMoney), &quot;##,#&quot;)); }}] 客製化Toolbar基本Toolbar的配置只有text, name, 和 iconClass可以設定。 1234567891011121314$(&quot;#grid&quot;).kendoGrid({ dataSource: dataSource, columns: columns, toolbar: [ { name: &quot;create&quot;, text: &quot;新增&quot;, iconClass: &quot;glyphicon glyphicon-plus&quot; }, { name: &quot;delete&quot;, text: &quot;刪除&quot;, iconClass: &quot;glyphicon glyphicon-remove&quot; }]}); 如果要調動位置，更改class的話，必須使用template來做客製化。 123456789101112$(&quot;#grid&quot;).kendoGrid({ dataSource: dataSource, columns: columns, toolbar: [ { name: &quot;create&quot;, template: '&lt;a class=&quot;btn btn-success k-grid-add&quot; href=&quot;\\\\#&quot; style=&quot;display: inline-block;&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-plus&quot;&gt;&lt;/span&gt;新增&lt;/a&gt;' }, { name: &quot;delete&quot;, template: '&lt;a class=&quot;btn btn-success&quot; onclick=&quot;bg.nec.RulesList.remove(this);return false;&quot; style=&quot;margin-left:10px&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-remove&quot;&gt;&lt;/span&gt;刪除&lt;/a&gt;' }]}); 如果要將Toolbar中的button移到右邊的話，可以使用 style=”float:right;” 的方式。 123456789101112$(&quot;#grid&quot;).kendoGrid({ dataSource: dataSource, columns: columns, toolbar: [ { name: &quot;create&quot;, template: '&lt;a class=&quot;btn btn-success k-grid-add&quot; href=&quot;\\\\#&quot; style=&quot;display: inline-block;&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-plus&quot;&gt;&lt;/span&gt;新增&lt;/a&gt;' }, { name: &quot;delete&quot;, template: '&lt;a class=&quot;btn btn-success&quot; onclick=&quot;bg.nec.RulesList.remove(this);return false;&quot; style=&quot;float:right;&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-remove&quot;&gt;&lt;/span&gt;刪除&lt;/a&gt;' }]}); 凍結欄位子表可以設定scrollable: true，使得子表可以拖拉欄位 若我們想凍結某些欄位時，可以在設定columns時，設定凍結欄位locked: true。 123456789101112var columns = [{ headerTemplate: '&lt;input type=&quot;checkbox&quot; class=&quot;selectAll&quot; /&gt;', width: '30px', locked: true, template: '&lt;input type=&quot;checkbox&quot; class=&quot;select&quot; value=&quot;${id}&quot; /&gt;' }, { title: opts.locale.keyID, field: &quot;keyID&quot;, width: '160px', editor: keyIDDropDownEditor, template: '#= bg.nullDisplay(keyID) #'}] 不過使用凍結欄位可能會遇到以下問題 問題: 高度被擋住使用凍結欄位，可能會在畫面計算時，欄位高度計算錯誤，導致某些內容被遮住。 解決方式: 當資料更動時，重新計算欄位高度。 設定resizable: true和dataBound計算欄位高度。 1234567$(&quot;#grid&quot;).kendoGrid({ dataSource: dataSource, columns: columns, resizable: true, editable: true, scrollable: true, dataBound: onDataBound}); 12345678910111213141516171819//調整凍結欄位的高度 function onDataBound(e) { resizeGrid(e.sender); } function resizeGrid(grid) { setTimeout(function () { var lockedContent = grid.wrapper.children(&quot;.k-grid-content-locked&quot;) var content = grid.wrapper.children(&quot;.k-grid-content&quot;); grid.wrapper.height(&quot;&quot;); lockedContent.height(&quot;&quot;); content.height(&quot;&quot;); grid.wrapper.height(grid.wrapper.height()); grid.resize(); }); } 問題: 原先設定的欄位無作用原先在Header設定一個checkbox，當勾選時將所有的checkbox都勾選。 123456var grid = $(&quot;#grid&quot;).data(&quot;kendoGrid&quot;);grid.thead.find(&quot;th&gt;.selectAll&quot;).on(&quot;click&quot;, function () { var checkbox = $(this); grid.table.find(&quot;tr&gt;td&gt;input[type='checkbox'].select&quot;).attr(&quot;checked&quot;, checkbox.is(&quot;:checked&quot;)).trigger(&quot;change&quot;);}); 將此Header凍結欄位後，發現都失效了。原因是grid將原本欄位和凍結欄位分類為table到lockedTable，所以此函式必須更改為thead -&gt; lockedHeadertable -&gt; lockedTable 123456var grid = $(&quot;#grid&quot;).data(&quot;kendoGrid&quot;);grid.lockedHeader.find(&quot;th&gt;.selectAll&quot;).on(&quot;click&quot;, function () { var checkbox = $(this); grid.lockedTable.find(&quot;tr&gt;td&gt;input[type='checkbox'].select&quot;).attr(&quot;checked&quot;, checkbox.is(&quot;:checked&quot;)).trigger(&quot;change&quot;);});","link":"/2021/12/09/2021/2021_12_09_GAIA_FORM_Design_2/"},{"title":"PushSharp &amp; Http2","text":"最近由於Apple Push Service憑證過期，重新申請憑證時，發現Apple Push Notification(簡稱APN)失效了。 於是在Apple Store下載一些APNs 測試App來測試推播，都無法接收到訊息。後來在網路上找到一個C#測試工具-PushSharp GitHub，卻發現之前的憑證都可以正常執行。 但是使用後來申請的憑證，程式都執行不下去，且都沒接收到APN Server所傳來的Response。 有推撥出去的訊息如下: 原來Apple在2021/3/31時，在申請Push憑證時，已不再支援舊有的模式(the legacy interface)，往後的Push憑證只支援 Http/2 的模式。 Apple Developer Forums 不過此作者也有支分支可支援Http/2 PushSharp http2 branch GitHub 不過在推送過程中，遇到以下問題。 1. Missing Topic 在Apple Guide中提到，使用Http/2推送時，需要傳遞參數topic，也就是App Bundle ID apns-topic: In general, the topic is your app’s bundle ID/app ID. 所以我們在ApnsHttp2Notification中填入Bundle ID 123ApnsHttp2Notification notify = new ApnsHttp2Notification(deviceToken, JObject.Parse(msg));notify.Topic = Configs.BundleID; 2. 無法指定Push Type在Apple Guide中提到可以使用apns-push-type來設定。 但是PushSharp中找不到可以設定的地方，後來參考PushSharpHttpTwo的方式來增加此設定。 在以下檔案中增加相關程式 PushSharp.Apple\\ApnsHttp2Notification.cs12345/// &lt;summary&gt;/// apns-push-type/// &lt;/summary&gt;/// &lt;value&gt;background or alert&lt;/value&gt;public string PushType { get; set; } PushSharp.Apple\\ApnsHttp2Connection.cs12345678public async Task Send (ApnsHttp2Notification notification){ if ((string.IsNullOrEmpty(notification.PushType))) { notification.PushType = &quot;background&quot;; } headers.Add(&quot;apns-push-type&quot;, notification.PushType);} 接下來可以在主程式中使用PushType來設定接收方式。 Main.cs1234ApnsHttp2Notification notify = new ApnsHttp2Notification(deviceid, JObject.Parse(msg));notify.Topic = Configs.BundleID;notify.Priority = ApnsPriority.Low;notify.PushType = &quot;alert&quot;;","link":"/2021/12/24/2021/2021_12_24-iOS_APNs_Provider/"},{"title":"JS透過ajax下載檔案","text":"之前點擊畫面中下載按鈕，透過window.location的方式，與後端串接來進行下載檔案。 1window.location = download_url 開發案例中，是從DB查詢資料後匯入Excel檔案並下載，但開發時，客戶要求需要能夠過濾出資料，不希望將所有資料都匯出。 因此必須透過傳遞參數的方式來達成此要求。 方法一: 透過ajax先查詢出資料，並暫存FileStreamResult於HashTable中，返回ajax後，再透過window.location去做直接下載的部分。 方法二: 直接透過window.location傳遞參數。 原先寫法為 Test.js1window.location = '/ExController/exportExcel'; ExController.cs12345678910public ActionResult exportExcel(){ //取得Excel stream Stream stream = getDBData(); FileStreamResult fileStreamResult = new FileStreamResult(stream, &quot;application/octet-stream&quot;); fileName = ExcelHelper.TemplateFileName; fileStreamResult.FileDownloadName = &quot;ExcelFile.xls&quot;; return fileStreamResult; } ajax 下載檔案改寫為透過ajax取得Excel File 資訊。 Test.js1234567891011121314var queryModel = {};queryModel.keyID = $(&quot;#keyId&quot;).val();queryModel.type = $(&quot;#type&quot;).val(); $.ajax({ type: 'POST', url: '/ExController/exportExcel', data: JSON.stringify(queryModel), contentType: 'application/json; charset=utf-8', dataType: 'json', success: function (res) { }}); 在C#中，命名一個model: RequestModel來傳遞參數。 RequestModel.cs12345678910namespace TEST.Models{ [Serializable] [DataContract] public class RequestModel { public string KeyID { get; set; } public string Type { get; set; } }} 在原本exportExcel函式中，建立HashTable，並將剛剛的FileStreamResult存放在此HashTable中，等下Download完畢後，再從此HashTable移除。 並將回傳值更改為json格式 ExController.cs1234567891011121314151617181920private static Hashtable mExcelStreams = new Hashtable();public ActionResult exportExcel(RequestModel request){ //取得Excel stream Stream stream = getDBData(request); FileStreamResult fileStreamResult = new FileStreamResult(stream, &quot;application/octet-stream&quot;); fileName = ExcelHelper.TemplateFileName; fileStreamResult.FileDownloadName = &quot;ExcelFile.xls&quot;; string fuid = Guid.NewGuid().ToString(); mExcelStreams.Add(fuid, fileStreamResult); return Json(new { FileGuid = fuid, FileName = fileName });; } 當ajax返回時，透過window.location再次呼叫Controller下載檔案。 Test.js1234567891011121314var queryModel = {};queryModel.keyID = $(&quot;#keyId&quot;).val();queryModel.type = $(&quot;#type&quot;).val(); $.ajax({ type: 'POST', url: '/ExController/exportExcel', data: JSON.stringify(queryModel), contentType: 'application/json; charset=utf-8', dataType: 'json', success: function (res) { window.location = '/ExController/downloadExcel' + &quot;?fuid=&quot; + res.fileGuid; }}); 根據uuid來取得剛剛的FileStreamResult並下載。 ExController.cs123456789101112131415private static Hashtable mExcelStreams = new Hashtable();public ActionResult downloadExcel(string fuid){ if (mExcelStreams.ContainsKey(fuid)) { FileStreamResult result = (FileStreamResult)mExcelStreams[fuid]; mExcelStreams.Remove(fuid); return result; } else { return null; }} window.location 攜帶參數下載檔案Test.js12345var queryModel = {};queryModel.keyID = $(&quot;#keyId&quot;).val();queryModel.type = $(&quot;#type&quot;).val();window.location = '/ExController/exportExcel?request=' + JSON.stringify(queryModel); 在Controller中，先將參術取出後，並解析出json格式資料並轉換為RequestModel。 ExController.cs1234567891011121314151617public ActionResult exportExcel(){ string getval = Request.QueryString[&quot;request&quot;]; JObject j_obj = JObject.Parse(getval); Dictionary&lt;string, string&gt; str_dict = j_obj.ToObject&lt;Dictionary&lt;string, string&gt;&gt;(); RequestModel request = new RequestModel(); request.KeyID = str_dict[&quot;keyID&quot;].ToString(); request.Type = str_dict[&quot;type&quot;].ToString(); //取得Excel stream Stream stream = getDBData(request); FileStreamResult fileStreamResult = new FileStreamResult(stream, &quot;application/octet-stream&quot;); fileName = ExcelHelper.TemplateFileName; fileStreamResult.FileDownloadName = &quot;ExcelFile.xls&quot;; return fileStreamResult; }","link":"/2022/03/04/2022/2022_03_04-JS_Ajax_Download_File/"},{"title":"Gaia SQL 語法","text":"76ef187465d52bd7e82b09161c37e3ed57108a68e66419210ec96700924da870bb67887686e38d63d93cb97cfc29ecdcd76ccc43d8e8c5ed8217c101e2954cc7158e4f6a69a3248dc8f9398c7c1c2a637d77771962bc2238f682b50d16d1984545c2d0f15e87a5bc95267d48ce723902d771b9334909b9d955c037aa97d32c230d8b9adab949bbf26d9c5661e3017a536cba1021ec21827b451c99712d83f330614e6d028e47d8016e935f7491d64b8008c587a125d9ea8db832fdb99ee84f2eddb98b5cb87c859253b5e687dee8648366a50d859d3e24cf14373e7373587ea969f26597e797a1de52d8ce84c63ab55b91fb30359ed46ecdc1cf12bf481fabd446fe19138ae4e06af125515d1d732a3331abdceea083d2b40b9b19da1a4f5ba4002159e9d6933dbcb1e1ef11dce8aab6fdf35c89713f6dce9bc38d9054a47bab931a412ac3228535e780581c17689b8c22407900f962594e3cbeee099fcb86c1ca697b20ba96f6bfd46ffe96ec78409ce8ec9fccfa23dcb8c2172e8c059a20beb1dc2c98fb7992e71fe71c8ab40f80cc3e26b5057056780164b7d56339423a761cb30662e7dbe88db4a6a6b361d62beb30a4d2945872176a497937ae5dbb3ce632d1011b2f130274101f05a2354b29a5444217d55a1c382112d4320c0463558df5aafb8fe7901c9f05fde087096fed58f75ffb55f3d2e89d1706407ed5f2ec6cb9725b1232c221567bdd79495b7ae969ed966f59025fa5afdae11f502e00e150521fb0c8242159b888afbbd373926ca0bb91b98ab58ada37e312016cb998b57a14ba5ee849a077ceb360c52e38d8fef401c4581f4775a5b9636580ebb805d88c56bee67e9ca5bfc20ffb961fd8a28624b3f561a7a96e6b697f9e565e8fcd81b28b294e84f5a3263ec6f12c5d4385db96cbae0b86e54636c071d62a68678aa0684dcfa4e3fd8a0b46a9843392a1b70cb1b492d52333e2bcbbbd706ad379cbc6047b9d084b31c3eb56b1a9960219488485713621a5806d616a338f34e9855fc6c07fefab7d82a66a12d3b0ecd9db416842651fd9f3f03d5ced3f54db9f9d620b6b8cfd2adafa278ac091a9192a32f0a7e53745c15bce8e21f9800a89c9dfd1a5d0cba4cfc1af49890fbfad575c09bee709c9a1652ec35aebf47672b0c17928ee557e4b664460e306a4b450e0ef58dc3a2b6ff38348d11206d59a14cdd7e88a758bf1ed7d8ae0c55b3fa92c78469b0e673d0c681e48fe72aeb1b4cd8b0680ea77ced2fef4fe4e28bcdad488a3024ae76eaa2bbe9925556a8e67b9c6e07ee79ff3f63e22c7569de4bdd3d24a1f7273bcf313c1301525c37a8b919fbc4a34621c99dc86f016b1d5ce5ea8e8f6aad822e38f6f3678f76e0daeca4624d4f4b6720cdd9b4fbaf827604edec574479298bbf571714f0d7fb92ca4ec1704d54d99c086e7ee737f9e282f8f9850b4e013d12380200b64b506dfcd4f2a3cfb54d1c7cd6e08fba99c53ac6dc5a60b4887d9a77ac9e91d92b41c7a1b64be883804bc48809509f03e86a0fe2b4e8dca8bec7202d84fdff2acf1099f432f250527c2241c01bb6afc664aefaad8ebf45af0fce3d7f4c156cfecd181e2bd08572830fe17d444472debbd09f2edc260c5b33f89cb07d1745967568d78fa7844a91f56835097d458979e50a7731d95fa7d4eaeb1e7dee55023fdf7a8db458585d0492080c3099923c6e7747fd2bcdded6a2efe0797e238b35006aa43b250fad86b38b95bda70ec06ffdc8adc15e382a95e3b34f795f6bdcf43478d53986392b8529d215e9c30d0e067988a1487a9619a93e2db8dae4468ccf9f773e8a8b72b094bfaa5ced0e634d8c311a79f11256b98277fdddd227b36f28ada053d5772b05e1232f8eceecdf5e4d9f1db019be3df8fca364c209c1fa9f55c2bbc1eace21fc721f5842f5ea288cfae150339dfefcf12e7fcf862c11eb957260fddb069ace905705cd4689b52a628fa46000d6e7f0534b4343945c2e409f3140ef6b0aa729f3b7cbf47e5a4a42d1cd39e110898d42e23fdcedd81536047cea2b07f0b94578e9028374063e2e092624c4f9b2ac335ba1e649ef1b7325cacf14aa6fe509949e67ca1781358ca55554250ae88714b67a084e1fd837837103677d2b6ed64902e5b30cb920bd85747ea4a82672305552309b07aa1c713e023b6df542cb247fe2b62b56531ff7e24b3cf6d4b323c1e24b168a25557616c999b9346205493bdcd92ddca3989e49c82c0682f606ec75edc106301c4ca081ae9e729f9be71c47fd8f41a67ccb4f085ca6d6c920c8cf4082432944b4015ef4aa344e86d908f709221e72bae6f5b9fa4da64ae4b4fbdb10b635724cd4dba4fc468613c321d5652137332a317abf401b52d45f2c4a3695f78b881292042a05317679ea912b6908caf2218474f8c2b030d19d3d5f4427d281bb67c8fd07c4956951c07383c5a986d79584f870f879eacdee5657e42c4c77d38ad849ff4ccbcef0c6cf8e2dc879349c4ade7786099b115ec1f07c88214cd19286b1bfac08f31bb14b26ae8b4aa3130adff1e1d50fa773284e35f79784bc30ab89f0c9916ab7ec7cbebf6cc05eef640f6df173f64f4507e147fbdfbcd0ff8b739864b63ccff27fbedbd747045bab2c7eaa043e87a5da58c8625dd949a9ad093a31aa87261031a7df36d4b9d2302ae872c5cc593f5015afdac007a6466a0ac45b46c208e87bdfeeb0615b58e3ada4a4feefa590f3576b2c87c8cf5eaea705e32a3c6f594bdd8f0d347ea1ec0c9b29c2ef26251975fa00986d4e0d8eb08cb112ddd732c84f74c1b3ffe2d0c604e047b5ba65ec207e597fa2283e54c277270a2f2878d32329fa1a53aa62564bc6fa51638476d69e53052c8ec57063eef1b2fb9560e64002875be50de749831b599fcb9133c9c3cc017d47b54e04f911d49ddc5a5bdd03e3c981df2934747f46da7706c64ae055e077345cc68d724a4916e59b8f2080e3c143567aea0f27a17df023094c8f3ac2fe58a45abe10553841eb872c95bdd2a7088658a707b4f5cff46c8a00c8977c931bbb1128c5021d6111ce4e93343413c706ef3bbfb86f38fc9e59a1ac9ab092c1be4f80734362c70194ae85400021b06840fb2c44375a1c76fb4222697092bc215a661d87e96839d38bf81dc2e1b76a188f229fd58125541091366e8c429ad1d1365c886fdbbf8d5855e0b086c19e335908af18fa790575db3d7637d85b4eeb731833798b58413c71b5c0da1989c47d125813da99764de2b0d756a21c46b78ca6ec9fe668717d42368c7fa6264a3e8fe572fcdb3d2ffd78e592c14ea008abedbc6aabd5f4872d340df09529eac58678cb63d51bda9357b72f2403fe43a38bbbf7336a7d9236d6e0d29a38225f0b9d5e2fdf18c17b8d0af26d5e7e9faa617f9c71e57fd084d020ba58e8ca3f7d6f3bb9666894477911abacd2968e51459f7fe29df4105d704471d7425d5233891c15ceb680c170389bdcf17868d47ad2b5a7b98b43b7bb5fe94637ce9bb155a15e34752e5cb2c88c97e5a7487348859f6e12512162bb8c9a2c6f8496a60471e8bbdacbdd5022204f331a46cac025200d58c19a0e24bc65c17ea68dc438bdd34f958c44003e216eadb7fa449e9b284ec351e6d256fbc18831b89d15cef2157d14cecc8f0370964478cbf8ef70fb22ebc424733d50ed92a39116bc84f182bfa5fbb7d119ca513d8a2c1be31a1621b1da009c5ace2a914bc24550d233a5ce436a73506e9f007984cb0b9dcae1b1b8dfb6a39cba890c2b1bb3fb0d20fdc2e95f46ef583680f89a3ef75e669b716b699b66e496ac7015d9be32c7f00f1c34edd37c3c0a8385d734b4091d9ebfe1d6f40c6596d3f79fa932514c75d09fc249204f680f56715c0d3ede408bd7b15b5b50484fb51162a9943c59b260b7fd17c9c6c1c77bd21226dffcc96b8c004da0f9d4d5481704e848fefda6befafc670f74867f0b34789ef001801fe3397361ea2ba72b2f68b2948233e04bec5f98e542cb46af8efa72b45e8a405f489c30289457ac87ad65baf4689280cf9a4ee89b6d384b34f48be8993dd385db3df4838e628a4b747614c81da5d4a04d9d9baaccbf79c31f4f7c2b307de7c00eabf3a899217d25239d39a289235c2ab5d7eaa995dab229d9bfbf664f3409c664c23c7d89053d0beab40aa5ced059af28ed33d55f54209f194c0278741b1fcd3ed09a7622a2b412dc3375a12d6640d2869da0b242ffa6a3c1ce95e16b7fee5bf994cb77f8148c25ae3c6600fc7c60f30f6a6b839747d71bc38e410b286f8965ca87bb05d808c80f5f987a8333e1cd224c36986d63a3cd71fd5163481ced543af1e8257e5981e2c2dbe95b32d3726c4063a9a7a983c1afd1ecfcf153869fa6f840aceb3f0da7449ac7d5947e3a00f7ea8e7d9f56c9d858c30a156102fe17cd7cf6a71041014f44fa421e74aa21ce6cec92cf778d3b1a0518d0bf566d1c1815cef48447c5cb41edb4a117488ee754cf80f5a76bfd7acef879280dbbae82bf8e3d5d4d01c4603314c2a9a9da08cec5a84c2b6fb580585f98d2df294a8872301a65acc16c5cb1ca8f7309ae5899959a874cc599c4011ff229054a0ab6a732c1ebfd7f9ba5bfada44129d8455631982ee24fdfff289809bd0a22d12cc6297e4ca04ab13f990437362820b585d87842e8d551bd865ee84f71232b5872684193a59eab46cda84060724d9bd7751756ef1ee718789ca1c2687785042b94d44d3ee60c5a7d4d1c9321ce9b360e6fb5f7ce65aab6066540b811d2dbe1ed94d0f48f1429b2f217245ae70e14d5fc40df322bb50a399d9633d7b6706786a77e230410453f57d29b675d977cbe2e5794b4759aac9096f2bcf6df74684af98840f1da772ede23d5a2a65235077f23f3a59bb2a9e92c6a8f00e7bcf7c6ba8f413f9518512e02851c08da0e45717fe78899c2332a6301e30bcb3d93f5fa0a624239b1d4dd907ecc5daa4ed14e0234bce16cd5d3b72df948e02b4bef74e43c2b4e53bcc28c2db375bb305e7815e08ee2898609084e69759c7348de726b98b0b0a366c16ab1cae6b0336cb160362eb8d512d221a4e47aacf4ff1798ed1bd388b4a526570fa9734a4e64a2a08398c7bc18332c51c19adb576b0eb7aa412611321df9fa8f41d12b0a47044af6392552f7c80957850ea33e21e24e4c8dfda81dabae7cb2e69c0ec1a5eca55733feb7847a4798364d282a0af9361fd833ceec12350bc840292bc931577b24cae4ad5d6839fff07bcb827c81169526cee3640507160e8920a76da5f2d7a2e7df8efbf5a00484e5f853f6c2f0f1142e0b365e7742aaef46a5d01953cd13bca258cedf23063806d11fc599a6fd44d3202a37e227466d1f6e79b16b91758b4a162aaaf658df574eccdd810c24b869d804bf1bbd62df53f16673216d4db8adff9cebb90f0c647bf9e8b9fde44b9012304b20be442e14d8373dc8013e597b19b97261316031d4dc6ce01527383a15eba4ae38da31ee8a27083e73b81733ee40f6dcade05f90511660073f73efdd578b85628f0c3be403ee983b1ce0031cb6bad8b985454c7c84e5ce31fcb467a6fdb93c87c9e3d8b36eedacfc5a67ea108327785863a88b7c0bfd67f04eb30ab6722615902644b7bddf53403ffd866015544d71750ea5c00cb6d34388be1de581dc3f4fa78280659aeaf8e996cd0625af81f11db10f9da6fbaf6d8426a688f837ad02405f35f9b78c52b0da71e8480c72d6532209d9e012e0ffa900dc057f50cf8b40ddfca916cd35c698fd1224d7f3087d835635d81b2958f837bf4774dfb8745278c4bd5e243ff3452c1dac58ba6b384f953c56bbeed59e3ba8a848d8a24dd6058044a6b4334fb25914bb7cfc89a5f058d561d8fbd02a5c3ff8aaef54e330cd119ea42d7f8f23742edcdcd4044afcbee0c7742cf84e71525f42a04ed4388266ce23780b05432b3ab294d3dcd60e5159dcad838d12862835f1d15d507c1acf994582dd551c4268ccc0ac2db5d52fa844f958a0377b0f0cbf300a552557085bfbbb53f8c829c86a062e170d05a148e4d7342137fafdfad4fdaa2cb8954db4a1659789f62163c4d1bd5351e25e9ad054225bafa88779d6c4cf3abcc1b5717babcdd91c5c01310518841df5a97c7be2f15c3e56ca3dede3dc31f370e6431d5e69bea7c7f1be1a0b2f08b85ea274ea39e72d5694f892c54b1e247c187e8a80603ae317f363a0b985f91524a9d24c103c8c83e323df01e7e196ec3bc24696b91e6ee6185a4e0312e422624df20f1ccca79d2949fab8d00e47d820bb02cb5a25389f0a6c429389899e5919664befa1e4fe9596b5be7160c9c15c01d8f83d2d43828820624de2ecf2b2ffc84b46313590c8e7138d0cd7ad87e7e1b4dffeab0ab64e6224ac583c60204a466eccb11904849cadf6cfbbc82a3441b74569fcd36b044985acd0c04999dec8cbe325c1d8c243e52b3d83025bfd1b144030f84f4926525642cd005553e7048349435d6a8e86a7bcac010dfbc70417165b089cddf55db86609eb78900924da322dc86e3eba26583b1b8b6bdf4615733e4d99f00b13a5e4f374ccaf22710cb90bd72b3f14bc51b5488c8b5bb40faa4bd5f58bd686fea3557ceb31dbb389de88012a99b01d64c72455d150d7171f84aedd21db04fe68110a6e8fb612d01cbd263bf22d31c4c38c76ab44ca80488e9f9cf1761ddbb410c609c130b2d1209e3cd69da9af3b3ff091a24ee6187314662f85bc524507b9d5557e0a435bb1a158a57031338b478eeba7ec6a492b051c8ef0aeafa1995cc70fc650ce3342bf003858f0d9ccdac13fca059d6e3a795f8544c2366cdabf2a160d04f6a3ae778da94e94b51e6e39a952c41763ccb1426486765d2939893bd1cdecaa41517f9585adf435a7fa753e5357a1d9efafee581c367daa66d7da368925672fdebd5a794f0f52edd89ec512fbcacde252dcd43269d3cfd74a122b750ba9557a39fe7e3dcfbf770e4072c1220e98919c0f0881d370722d8deca80950804e384cac29f96b66fe312de3f7930614fd171eb76f539e562e903e6b1d6e7b214acb6ddccd3638deb95fefb998e9487de90807f41767fba5e68d06afdef8a240f990647f7dbd9be76b7d73e092216ae2fc27b1fab6623223fc5833113184d97e2dd02aa5abcf9822229591a4dd22a45f13682943c91d4f1500347d2a48037b64690ff7902651c7faa287c9cf05a7f07e30759144451c1506de8adc7225c97c2e071f42f13da42b73838c5493e26f79227fc49009ad48916e95d185f0d49c723f7e98717a2ea74d5a4e2c7c0962fd750e64cda969d0e3d0741ddec69eefb0d2e1b3533e0a23ad324b522794835e1a889e7826dfda8d8792ee60c13e166fc38e06533dcb99080b708e72f877a389dea89901a21d30ac8efe2a5a7bb36c1b08a344dd171ba4210ad854aceadfebcfdefc8802351ea8a70e2d9a03b5329959446d562db7263b38fdd329894b5704008ce0585fa3f5759301e8d8b328714695d140647b67160249062b523bcd1b47961d36ff5ab89f6faa74e0021956a0fe81dadd2ff58287574520647412ec21ef9c8c936e99b9c0e605fc07c6131441797b237b971950b348b4f66ac1444bc7489ecfc4bd9bfa89272daad7ba4bb70b49c227296bea58c76918009d71037016f9d158a2052283a3f04748ee30ad459c71813974ad3839be7bba16f32e0fdc5f6e3994f9055029a5a0514cb07b2f00a88ca6fdff10084abe0bf2ff06d674d7b2af09f38acb550fd4591e3b1e55434f3b86a4b26bdf763e04d0d64a2f44ba34272a672dbd854bc72de25cf14d5b589f2c141b98e9daf7179d2f9ae5b271dec295e97581ea52abd477aea753d45c3f7f9fe04ae816711d60feedfabaf1de1c85852eea0e6aaaeef74ec4fa748d1ce68313ab507b3e7f50218f1d25edc52937bd11045c226a48525641dd7ec3bff3136d37db76d9662aadd8c2da05f40fa45d9376d94a353d03a641721f884242ef3b35c4a5e61c936afd903f231d4a5d1c9c60a2b582e5e0e82797a8991d7d23317c157fdc148ba44e7a54070cf365b57e3681fd2d3b8da08b476ef28b108f2d3f0b61a2f9b9c5e3c12c55d9c31e88f80d251f5458b895ee7d00d04b5d92d74a2cbc19c772078ebfbbbdd70f3964878d243d3b690e8168da631c94dc241252136e245583e5ec599f6f7392745192f57b410b37ad9af9268e526d2ffa2593de4af304c03c40b193665e26b4df3080a49d9a03be87e18524cf5214d003966ce5d1fb0a54284764ba68a997e3ea0d1dca1c9bc3e458ea7b102c2f447d6b039a84104a971f57df845a26587c523944ae9efcfe59a51ea7bf7a29e794ba1c291d45b1284b463c511f784cdc81ace357255361f3f3245d96c02c0717f271a8e03db9ec0601e3e4c60a181061ce6f36bf425f407a97e745a2b8cde473d08a18e819f3a540bacd0d0391d6c043bf3a722fca9707a4ff46dac03e0ca14411b98fe71cc8a0d1cce7f0d556add174b3e0d4a7c41e1b9a2a00af71278d2fd5daacfe49a6c413fec0d4f413fa53e64a67bc788b117a7a14d9c6e8c0d20e386aa0a780fce3e6fa52ba5e2da004558777508fee8b230eb274e65f5397d9b183b2bc99978e9a14d9329cfa6dc115d844f193b8ba588e4b3e77a79fb949de574272a86371aace8508a978a428a2f487625f9b0d4ed2b6adedf91d61ead441cfe09e5f2fb691f43cd139310752b25745e30aa19bf585cd8ba92315fd121114115b31d9ec83a02f57b0b58794634c67530fa622b8397abf1c5bcfacd79b7390785445ddfb1cf2cc95cc15f673ab95a8feaa27044fff59a772443d5ec1a16657fad245a34a3f93a50a7f82a9540c957ee7379a4bcd8ce4a2577bc394ebe6bd86146f680b0120e96c72e5c2f64630e9dad465d8da14e5cd8874cb2469a2b50febffa917c4a3acf5292d42b3ddcbafe649bb9a45b59535fadb8ab1184b2bb8df226c075c31d9f22d8d7aa18661af1fc0503f37262088baefc3b9b1503b269389b588f39226fc78d47aac7a1acb6954333c825aac0d58ddc7b0990e5023ece7c82d7afaeb0ef57fd239794bb6f812622d1c418f8667b034fd1165f188692a78708190dc15b19eaa875eff608cb939ab891921a54692a05cc5694e01c201a28d2a65f8446e63cba0576d4807b147da7637793d941aecc5d72e19fbea283e5dbcf4dceeb9d0f1f467e29f24221c8d6a57485c70f2c4358bb9fd03b6b924167a3c9abb42181f6082ec5f7c06472367df1965b82fa6a9de5408845c42d70840f1bf2a781fbc9c52f573a982795385edd38ce8d83e767d276788b8ec706349bbebf092c6e8c3472849b442a21433ff3126b32cbdc3886d8579801baa3cefc7b9e00e52f7958ed6834c630cccb641a4764d552178ec8ea87d2f4523047560ebbf424ed43d795c4d63c512c924d949241a0852497e93d88994ddd62775d43e87ce70e75386f3bc190ec4812b249b81e3c92225f5911a995ec8da0685b167dfad0085aef6c8bb107980313c73d93f68eed2d65dc74295a2180e549c6a219b22d90df4360c5c5abdd176a2eb36c573af1418bcfa5c60d546967fc4057688bf5615db55e1ff867689562e0c0fe189c54b4d9d109e714c6cb7c15897ca97526faefe3ac6ad0586d41fe49541d8e72533a2ecc46ae7c1eda6b8dbd7a0d26e2b822b1ed4a753e077dd4275218eec7295085a44bbd1d9d0356b7e9a3c6462e861a2bbd6685415d94050d7e6017a6dc7e76ab62dbf02315fb470cd37c607ae7f484e4a821eda6423719a5958bc069e06c2130e33946ed5fe9e9cd5cdf92a2a673e7bb15e0dfbd2fed66277fe9c1815ec0bf2cf03fb330b446e7344ffa222f365a38d6b57aa7c7123f461b95edfadd6b0ed08ff4c8112c1c66842945603c4df218dd98004adde3ba9cd7ecc2da69d7126684a0b2b90ce0acb024e3d04cf84ec8ed71b8fb95e0ee8b8e15231de64c6cf0245f0b9febf91f88e56e601a2c26108aaafc56e02b5b77ef39d3308ed96a402c022d6ec8dedb573ec03bbc2dcab9f24995b8984dad5da0228b4442ba0bc3ad0d9ffaf8ce9520c601c2203d29e86bd2505c29164ab09abbbc549c02d1128a568941e96f365a688b0ae18b574c7cb02cba991d11ded7ddde49857be621b526203fa72c174541bba5e6f184e20b4abfbda650cb54002ba5c1d350648626f38e73ceb4546d447752a132747fcf3a6673c464588429bafc0ce81e5c4f11d49abc1965c1f5add2e494c5ec861aba28167d6b72b0c9581a69fa78091392b34157cd3edd13312f3251301618330c55ca5d478bc84a8dfa5772b9f6ac9a0ce9deebfdf44f289216f714cf54aa870e907424a39f47222a7cbb5c631e385d0150cfb123f51f91a2d59c422219c9bc1e91ee7555b91e5d200de6c43e09da5d4cfc129bc39de69da9bf53833d3fc32b4e8525b4ea64b3ad0df76ee74d795a966b1ab66ac458297e4226de57a77f716c1ca2b0014d99b05f817fe884876f0789ce5c09c41b573287b2ac4afbbe046b9ba657a85d4928b8112dfabd0dc5a60f8f722fb1590501498035cc291792826870b1fbe9202faca4fa77457b719d5806776b9f630f148f7867105b529b8ba292bc9fed89c85051025450f30cd4aa5e9d923a454d79d9772cee2d5ab48cf857dba9fd455126e795c65f1ab636e062672dbb94164211033dc23496877e8cdcd5ddd4a26251663c5187df8f7927898f8724ec6337318e61b07532ba66894d2529c32a23be47dbbb95aec40e5d26c1c6de99d0107148d173848042b54bb475b5a7b159ca60bd6f6e8b0dd6c9e133834ef26c894f92d24af0ca5d69f1ada39e0f05003ccb2a1cb15510a87a4d7a0c128fc0dfeed2862023e3f4a6e6b6c1bd38611c1240d43375a4831f0d4c91ccd7976489a92cd7dcba5e7364d7d967dd6e9da78ca1d4fdf04782929aa5edd98cadb1ed7bd2d0a02cfd15465510a976de2e3b0c9ddab4a58981c3a08d432774a4f298c79b54066b2bf73a624ee9e954557ee915a5f0db0446ebd348855e7a5eaa10af93ab38340f6e13a540354b8d3034f853ddbfb1c4ced34bb8b3261320b77327e605a1d80ac9dd55f8ab00ae7210aa097969aa92bcd077fd01913dc59ee7ff5de83faa630ad531f049807bfd4d8b931161f2479c1af6559e4158b568397b645d2e3291ca4359a8f79b63361b595d22eddbe80112697f6470709fe4f8033e9b8fa741d90329099acd84ca79848550463b97659be5496694f78ab73f7805ca079d33fb1e8e54bcc6dfbfb99cec8f8be89c7a80d0ea3322276314a528a3f17b8b827f3df9333a8bc48a94b776d230ea5384c58d9f2de4ed04c20bf546b707af7a7a9a10382b526c331213a0643b0e26ea86455e1bd299f74ef7d491e2d624a06855e45eea273dd33f455a43a4a36ac6db3e8980aa3a9f24aa0764ae1be87b93d5ee7de9ecb94fe16556ddefd7a114382d13bdb52d06f5b86ddc67781dcdc7ca1b1d3140df05d88499ca1ef8216b652d4101a3f0be94dd8f6aeffeed3b9970652b17841850c3c95e6b0304e0993382eeb22fc87309a369b90f1455dd3fecaa415de21da0e21fdc5ef0d213311cf29b4484b515ea0cd6edaec5021a8814789e426f7ad3c5b2dbd1659e080227b8aaf04b05789e67bce3bfbe75172b638cec0040c908936bc3deaa52adc2ca62082fec14776664a158faf897814bacf7409fc74407543dd0fd4be9ff01be594095e1601b36903052e915a77f967abe27c8b980be292627904ceb7283a690341d7b2c5f21fa1445f8413676304a43c3a68636ea5fd022127d728328d8099dba7fc0013d09d4078267ee818b37b71047a1436476bb18378c7b2c960ba906bbb9d0f0dd701d5d77ac42276143960e3418b576fd4e061cf0550cef8ff2381c6be16d69e004f1b8f88447923585f96f96dc04345fd5790935add796c57ce1582975c134d8a585296f1be1420d80bc39b31a347793faeb4929b736a7cfe9a39a1af8a56e7257fab87e4be5a3145daa7105302537a4ba776a86f139bf0dcc175aaf074cb07987cb218785573590ef154f46d7a90110a7b55a0ab82e681c6bdd8b3c0f2ae19b37ea72416e93d4f8c78182212faeb04eed78768a7133332c6a00dc5c08a28ebb78a93d30ef3975a975085e8032d22fdf0142abc85b99dc36dccab891758d646e0cd202311471a944f71432c209668e0ad1979c11703ef0b36f11d658388c414c5f5ba011a83534523cd6f668998dcf5954d519583f7e6fa6831a2b48aa819818195ccdc7b0caa9f042ae444192c260b5cf45985e654358143b98eb13cc3d13fb07a67529515cb4a1125b8e1612fa2409e7e393e35d856577912255174773a608ec141ae019b80585a998e983c36b7dba1dc25b88be843effedfa31962d99c9162b1c5ddd79a210b49e50b6466aa8838b65712de7f0e45749cdf3e4fdc9d277dde9d72e7622536c3c727b829bd8ff394117b363888b90f99fc890c270ff5cef28f596fda575b6d7347aa00491763ebd52e326c33324427784e4aab899da6e5dc3bec03f346630a98b0edbbaa1f6171caea0f1f21ed1495af46e5a39b19e6d1cfd584d6cf3b899909c876d05d5ee8ff5db8e6f55f6a1e2aaf0d2dfe74a5a0926491fce0f1754503f18dd6ffc1f8dcd2d6320490c501e4a721297ff910aac1c9f2a86c00f02f6c60bd2472d3919cf7f960b2502c8bc44bc58f95a727f1ddc20516e253763eb55260253c620036cb0edd2476774aec48ec84a77eb24b9a9e7624aedef53b157c5cb9a69e3a95f57df7d0775f8c80947011b138a8d9491861bdb0fb787beac8112d1173387b4fb2af3f531476db72dd5ef8f07947949310f4e6c4a6097538528800879b079ce60822f81489f7032bea8a1e6568090b62556910d2f08cf06d7597a665e0d8c071c90baac0a5afb5c062ddb12336ac9cf4f065d1e59bd5dcc741920bad0461379f77c01f340c9f5c151ff22eab41cd8812c6b2d39f90fcf8c4fef7d43e6e38a220fe3d4b0fe9a0fbf7c37e448d48bc273a37c49941d7414fac55b18f1912472a1cbe158ae0aa07365a2aeea98025768b52212175a282e682976887269513a9fc8dc79ec149dfd5b079e5b7ea972a75d1231cebbed1c3a0243ebcd5837f20cb2fb3cdf71267bded030a5853ae0887df1097910941ceed3aa759899df07f4917d7b74df05c1d8466fe23cb9ef62f3d83f38d9881ef9bd961b61517da0587ee4739ea2e86571ce1edcd68d8b6479804bb3133049c1ac5f2df8d1deaa245228095ef163f6cbe738c99ee612d81fbc5830978de705f9a08cf4eff317301942f655fed8d0c10809ff3c976482b97cbd335afbb0bf20a545a356a4a835ce19cb1ef164641bd92bf171dcc63913a2a3e8a98d1dac1265ef1ea633e93ec4c1848c124bbbaf0ba4ee8a17466801ba46357d948e574515f4785cb8551999ba41dd352ff7105dd85b90d1bed346ebecdc627ad9c21e55c604e1f1f69f2af5a8cc3dbdf0cb75cde53c8ba8d5e9dc7e4a47ec43ad480e145a1a5330cbd13aed8ca96003e94566e4803a6e175a0248178fb2e39100c57d4e00820ef3a1b6ed1f93507fef0bf4dbace6db2aa9abfbc59e89678a7f4c77ba862c0e5b1acf10b7982e2b9c06665d038f18070c7fca08579622696b46bed5414ba123275d907662033590bea2c13db679d075080a4b9373ced2c962e5133f3d9c7b2049258292a3daab6e0785ac3ff6c54814906c9f0763503b5d4f58304c3ccbf719511190273de072f5ffb811dcbac0299ed9fc2a5840ba648740aee8d01b09c7b88604e8ec651ca859977c2768f1f33ab34393818f2e35326076cdc610603b45d205db5b8ba1585e35690be377145fe52f8e65f9a0a91ac73570c96a702607ce002054174f98bdab32dcc28c89ac9b5b69fc652bb0282991fe6d866f5a81de0113e6743d570aa74898a88c72a7350343bc22c63868b196c540ff54dc2ef73fafe775b4908c3c9c0a7a801fffd28b4b4465a717b9cd0def66866f14ee8b2f6fce05341f7783313c2d04c31abcddfb1252175f53fcd1910f6b45f3ff5643bcd5e474bc0470b36f5619b9cad2a7b5b054ec4cd5b9bf7314a0b687ad2fc639111ace21a35daf089eb89a55998061eeb4e1c4264b87d550532f713b2f23fd021c8073c949aacf8f03c244b2f1c1229fa014f28578851e61b39597dceb05b09d9e7cbe2974c9b68fc09b9b8c9342c179251db3c0b9798681936edf69c3d15ea9ee5dca54ed8bc18f54c7f3ebd5d7960aca04be0ed9b943150a6777d2d5eaa203f9dddfdb2ccb46e0f94c310cc8ba7835a5d2dda2bd8b854a485e9ecd344d2fcf50129916b3b2890cad884e7151441049e91f3db8323608149e6846013834956abefa75b3e3f0fc23301fe18143c018dfd33d10854a805b0011719b0048f2b7b7d8a996b35fc8eb234452f35465516af2eca668653919aaf77df55cfb9805a37b7bc7ff8f20186fdad0a648c419fc545a1fd4f1aad08446eb52abb57de5a11a9ea495cd3452fb7779b2e0263585efb2b12e4115a24fb9e87e2ed4836a8637b8e723738d318b428e9693f00a177eb34b4cbab0292c1d04b31f75f526ec4734247ccb59e99d10953b16a2e1d3bfcd8046772fae7f3ed77efb06514a9c2ea1d4f0658b05d13a702d83a2f4d5099f0c6de6af2b9beecea5f9c695cefe0e348ec739dee3e1f45d19de0a03ee1ea18aa020a1853a1ba4930ac79d7c302b615796434a60804806735b7ec27ad42daac49ee32e7c1f836a316ccdf9fcf800b69d4fdae5362d7922f9a310c0e3db150827eead90c2ad14ba630804ac07224a1ca344c73c041b5e6265a93da23561e21dc3afd808ec2dd27ab2fca6a2635c544ca40de6d0f789480faa2baf82759bc6f465dd013e6608e731f0a418460e37ce0493b0720e78e448768d720b57417935338b018ad4cf6493fc98445caab3e76710b1f2f3f9064a47579c695766e8c282846f4cf5e372beb08ab0907a73c9999ac6a85b0fcc84f3a76a26720b304c8274c83e42de46bec020656b8da5b8354dfab9309fda68c2fd9adf72044dad4d78570bdecbb3a48a118333e883954838d1351054e43ef0e9ef1926dae1692d4d8df96fc4ba1684c6f5b561a48c175477fc57a2a11926a89ed871ad4fab2c2c5d8c446372d7f921cf5e07f7e7e858ff8120904dfd95fcf4ebda50abe5a32661be667977f5b6b8a5119c1993777d7c343a2bf44698f192d69f539e175cf537bf0a9955342e39b476f3c368372612e2dfbc272d59e86278f73ecc3040c6d21a3640c6b45553bed02c9f8e02348e31ca585af60258d75c36b3ab8d9702225f37ebd564cf3d5e311a8b9f133ca8f3deb2dfd21643230dc312e7c1350fae6438e5f9a9ed7b1c3f64d1b59e84d10c0d8f23f7620cc0829446d03c6c51d7ae2cf5c8f6492c72aa604a94eb05e492a1b0fad53d764e40c100567efc68eb8e9589dc4902e7fe9e1ad254aa361358230167b0814c63768259db675b20e5e15a9a35d07ce1ff5e9bf17595604f44eefc1c9ac999abdb10a098b2f279d49f9c8570ff75999598139b2c50bfb46083b1444a8cf6cf16858d09857d3a6b1df514431ceaa93377e4e5f78649ba96d960b89ee617790cb5f300c6a2c26b53106725cab1e25746ba2005c0a92f19f2d54a80f248a62d35a03b85045066c2bf7d1468983c08a1c16dab4df3e58a298db3e6048fb593a9ddf479b2b3e427b18614a540e0ca5f82bf0dd7f801d7ec0f2a2972afce87f77f0af5b26cd3097d380e6bd3e2b1a0ad6499b1f4b104c27a7ea6781be2051bc43668888373ffd36d23d9bbaa04c8ffde449daca5f9399533bff6119f337140f5e38f24c53e6b9f650c814bcef43cd0a895df914397ceb205eb079459ba540fda82ea2735d7ecfefedb1dac42a1a02aa5a79611ea0f48b6644868eefa021b2ea542e061e5297bfaba95e23b83ed92048d322d7ebfcca8dd52d250788134f9560051d2d83925b888c81834a96fbfbb81e3d282f1e7ea08daeafc56d46e7176003196e3418f59ee485d7b99f928d716fb9e4a6228c1e3ead80efc4596f650c700e2d0806222eb741e4612daf5362872cdbd7a8d535182de4fedabcab054773e08540c2825848a960e50e6a89cbb65a56ade05221595115d52304430543d0aae14a6582caf74a6dadf68a2d053982ff2a15726ef2fa533ea46d715e4c171ff286f7ea267e26ec056db2a1f622389a803067eb131d661415b1d3358eacc541ee041181e791f97e3319d102a2bb6302cb83d40e17291a439ca3bb120f03000569ed910a4148814a4afb3f8b9cbf8b01e82f3599f7aa434929cccb7319e3d56a5b1b34449c7d821c547f9e9cf9437af71e6ef3eadf79084211ee71429523a000f0a4873eb6926724cb96e80a91a6cc1a6786b20751c9dd986dc244076f962085ffbd599f2560980a8c0aa38d9ce96d05e640d4d9531d5553e589f75c1196bfbd1160d61083612643441a40c7d23ea5fc479ccfd679bf9fc337797e132121603e7bda5386285159076429a406ce15d748aa9eacc4f9563b02a608afaf06a8945267ab31b387be1e726e8 請輸入密碼以閱讀此篇私密文章。","link":"/2022/03/07/2022/2022_03_07-GAIA_SQL_example/"},{"title":"XIB無法拖拉建立Outlets","text":"當xib拖拉至Source Code時，遇到無法將物件和xib建立Link． 主要是因為xib是XCode所預設的物件，必須要自己定義的物件才能做Outlets. 在xib檔案中, 右上角點選 menu -&gt; Assistant , 可打開與xib連結的source code 由於此時預設為NSObject, 是為系統Source Code所以才無法建立Outlets Solution: 更改為自定義Object 在xib檔案中，左邊選擇Files Owner後，右邊更改Class 這樣就可以拖拉並建立 Outlets了","link":"/2023/01/19/2023/2023_01_19-XIB_LINK_FAILED/"},{"title":"XIB 無法使用 [self.window close] 關閉視窗","text":"Root Cause : 由於NSWindow 本身的window沒有建立Outlets所造成. 開啟xib檔案，點選左邊 File’s Owner 右邊物件中．找到window物件，拖拉至畫面中的Window建立link後，在程式中就可以使用[self.window close] 來關閉Window","link":"/2023/01/19/2023/2023_01_19-xib_not_close_window/"},{"title":"ITG Work Info.","text":"50ed693c63e26bd7755fe4f4d25e2869ebb4b93e9ff430a2829fb911166544f3ab06434c219395c866da2504bd0399e619ca7569cea90d02ef75a8f787d568aa6462c74c06143ce2b0eadc1353fc275615eba44a5ae94be43181441a563fb929b7ec012b069971735153dba455d2e2b08b421779d1153e6a7d6c14679522f890e65dc18309a869900d56d7744d49b74606095f628b5979b3492e081f704189f9acaac2327399b8c3339fb77334dc7dfe845191506aa9e44400ce8e4b97bacf710ffe0482ade0c8d75d0d6190c56f6596764b6772a36194f109096c68d9ad72d580dde2bfa8025fd108bfa3f50a2f2f73d4b00ac6d7a280ac5e60a86f759de8d053df853e616ccab9fa670042e7374138b4fdd2229a087d66c499e050069a31df6f60831de307a5cb43441f2eee0e91cd8d5f51f564a22e0be1dd679f05007a856e6c80f52792ab1974841ea8563463e980f388d646ed7271e689d135ee8b18ae6581a301eb6fbc7ff4fd5baeb25971341c5bff54737ea46ed39acdd8e2f3be68ebfc82a1a0a9b068777398752f422d1121f0c58cb1322fbf732c92148e1326702ebee27dc243d2cbf1d6f5f4c9ac0a78880032e4256242c366ca4724c6eb4a916dd4b0cc005f98614f6ee5b03d0a8b98381491efb7045701c78752cc829d6e62d1157f56ab9d339d8bd40cde9d2f8b3eff497dc1a8d7950101455624d02fd8e3e34296be7c4f7621ce720afd613280bb4a21f9bdca08a215aa19549143e4a0f82468b42c3fcebeeed8d31d8afd661b9532014b18c9754b5fc42847807a68a4586b7a47b3bb4ecd50b1c3842a38ea5e27b7ae0f6934690437528815902ebf14e7f4a599cc222904a29b9ab3cbcfdc046fec461b39bb13e1ccfea31af4c64a0ae5e1425428dcb4d804a030494811441b5be1809e6a508f0804ee79708010070c5422e69172d016bd0fb579eba78ec485a071dfbabad02549255fd17aae6ef6f1893fd347e174fe83643c10e792a669de045f69d51543ca0e50ca08474cb51da0c92dcb4c4127be8b3bb9ffed45b55b38aa1755f6fdab159b48e486f8c31160b6cdeab731714b22db4f0d57ae8fc8a900ee3db3cb6a564cbe312bfcb9f246a59bdca2e17de0ee5d51e5301329b89c113625 請輸入密碼以閱讀此篇私密文章。","link":"/2023/01/30/2023/2023_01_30-ITG_Work/"},{"title":"呼叫Mac系統設定頁面","text":"在程式中有時候需要呼叫系統的設定頁面，在MAC OS 13以前可以從/System/Library/PreferencePanes/中找到相對應的設定頁面． 如時間設定，我們可以使用DateAndTime.prefPane來叫出時間設定頁面． Test.js12NSURL *url = [NSURL fileURLWithPath:@&quot;/System/Library/PreferencePanes/DateAndTime.prefPane&quot;];[[NSWorkspace sharedWorkspace] openURL:url]; 但在MAC OS 13以後，已經將許多設定頁面移出PreferencePanes，需要使用x-apple.systempreferences的方式來呼叫． 相關設定可從System/Applications/System Settings.app/Contents/Resources/Sidebar.plist中找到． 如Screen Lock頁面為com.apple.Lock-Screen-Settings.extension Test.js12NSString *urlString = @&quot;x-apple.systempreferences:com.apple.Lock-Screen-Settings.extension&quot;;[[NSWorkspace sharedWorkspace] openURL:[NSURL URLWithString:urlString]];","link":"/2023/03/23/2023/2023_03_24-mac_system_url/"},{"title":"解析Mac Crash Log - ips file","text":"在開發Mac App 遇到Crash 時，測試人員只會從Mac Crash Report中撈取ips檔案提供分析. 但ips檔案中只有source code位址，因而無法正確知道是在那一行Crash. 此時我們可以借助XCode中的package來解析文件 CoreSymbolicationDT路徑1Xcode.app/Contents/SharedFrameworks/CoreSymbolicationDT.framework/Versions/A/Resources 將ips檔案和dSYM檔複製此路徑中，並打開終端機 輸入指令 Terminal1python3 CrashSymbolicator.py -d XXX.app.dSYM -o /Users/nick/XXXApp.crash -p XXX.ips 解析後打開XXXApp.crash，再根據ips Crash的位址即可得知是那一行Crash.","link":"/2024/06/20/2024/2024_06_20-mac_app_analyze_ips/"},{"title":"NSTextField 最大長度","text":"NSTextField 並沒有支援設定最大長度的屬性，在UI設計畫面(.xib)也沒有可以設定的地方. 因此我們只能借助Formatter的特性來設計。 Step 1: 建立Custom Formatter.h &amp; .m files Formatter.h12345678@interface TextLimitedFormatter : NSFormatter{ }@property int maxLength;@end Formatter.m12345678910111213141516171819202122232425262728#import &lt;Foundation/Foundation.h&gt;#import &quot;TextLimitedFormatter.h&quot;@implementation TextLimitedFormatter@synthesize maxLength;-(id)init{ if (self = [super init]) { maxLength = 255; } return self;}- (BOOL)isPartialStringValid:(NSString **)partialStringPtr proposedSelectedRange:(NSRangePointer)proposedSelRangePtr originalString:(NSString *)origString originalSelectedRange:(NSRange)origSelRange errorDescription:(NSString **)error { if ([*partialStringPtr length] &gt; maxLength) { return NO; } return YES;}@end Step 2: 設定NSTextFiled Formatter AppDelegate.m1234TextLimitedFormatter *formatter = [[TextLimitedFormatter alloc] init];formatter.maxLength = 8; //限制字元數_text_LimitInput.formatter = formatter; 初始化TextLimitedFormatter後，即可設定變數maxLength，最後再設定NSTextFiled.formatter 即可.","link":"/2024/07/02/2024/2024_07_02-textfield_limited-length/"},{"title":"XCode 16 build error - DarwinFoundation","text":"升上Mac OS 15 beta 及 Xcode 16 beta後，發生Webkit library 無法編譯成功的問題. 編譯時 Newwork.framework/nw_object.h 無法找到物件 DarwinFoundation 解決方式在Project 的 Targets 中的Build Settings，找到Search Paths -&gt; System Framework Search paths 增加項目 System Framework Search paths1$(SDKROOT)/System/Library/Frameworks 並且將此新增項目修改至第一項後, 重新Clean Build Folder並重新編譯即可。","link":"/2024/07/05/2024/2024_07_05-nw_object_build_error/"},{"title":"籃球購買心得","text":"每次到了要換球的時刻，總是會上網搜尋籃球評價，但目前所搜尋到的只更新至2023年。 因此一時興起，也來分享自己所買過的籃球。 雖然摸過的球還沒有很多，且每個人對於籃球的手感也不同，但也可以提供大家買球前的參考。 Witness 十字紋籃球 價格: 450 (2018年購入) 優點: 便宜，手感好，耐磨 缺點: 重量太輕 這是我第一次使用非大牌的籃球，因為網路文章推薦，對於十字紋籃球也很好奇，所以買來試試看。 很特殊的手感，不用特別訓球就很好抓，所以後來我都蠻愛用十字紋籃球，價格也很便宜。 但拿去球場，大家覺得這顆球偏輕，投出去的球容易飄。就算把氣灌飽，大家也不會拿它來實戰。 Better 十字紋籃球價格: 450 (2019年購入) 優點: 便宜，手感好，耐磨缺點: 重量偏輕 這應該是Witness 十字紋籃球的後繼版，重量有稍重一些，但和Molten籃球相比，還是偏輕。 所以依舊是實戰中不會被挑中的籃球。 Witness NJ 十字紋籃球價格: 450 (2022/11購入) OLD WAY 十字紋籃球價格: 350 (2024/08購入) 優點: 便宜，手感好，耐磨缺點: 重量偏輕 偏好十字紋籃球的我，還是想找到適合實戰的籃球，因此也購入的這兩款相較便宜的來試試看。 但依舊是重量偏輕，只適合自己投投球當練習。 目前也有鎖定Vega 2800當下顆目標，看看有名的牌子會不會作工較好，如果有推薦的十字紋籃球也歡迎推薦給我 Wilson Evolution 價格: 1700 ~ 2100 (2023/11 購入) 優點: 手感好，重量適中缺點: 中價位，不耐磨，沾沙易滑 一直以來沒買過超過1000元的籃球，這次想試試看所謂的室內球，因此鎖定了目前NBA所使用牌子: Wilson。 這顆球手感很好，重量適中，也不需要訓球即可開打。 拿到球場給球友試打，大家覺得這球很吃準度，因為彈性太好了，稍微碰到框就會彈出去。 想要偶爾靠運氣進的球，別想了，哈哈。 室內球一般來說只要沾到沙就會很滑，有手汗也容易滑，所以買這顆球的朋友要考慮到這兩個缺點。 以下籃球是在外面打球時，球友購入的球，並非自己長期擁有。所以可能只打過一兩次。 Conti 7000 pro 摸起來感覺比較軟Q，接到隊友傳球時，有時會滑手但後來就習慣了。 投球感覺跟Wilson Evolution差不多，重量適中，但碰框也很彈，所以也很吃準度。 官網描述為雙層皮構造，應該算耐磨，但價格比Wilson Evolution貴100 ~ 200之間。 總結根據預算考量，平時室外練投時，我會選擇使用十字紋籃球系列，雖然重量偏輕，但磨壞了也不會心痛。 在室內場使用Molten, Wilson, Nike等較重的球，可能就需要點時間適應一下。 室內球會推薦Molten GF7X (雖然已經停產) 或是 BG4500，就以前在外面打球所拿過得球來說，目前Molten系列不論是重量，彈性，手感來講都算中規中矩。待之後買了這兩顆再來補上評價囉 Reference 籃球購買心得分享與推薦 各品牌籃球比較與推薦CP值高的室外籃球","link":"/2024/10/04/2024/2024_10_04-backetball/"},{"title":"Android Firebase 使用Email認證與登入","text":"開始之前, 需要先完成Firebase的註冊和AndroidStudio的環境設定請參考文章Android - Firebase 註冊Android - Firebase 專案開發準備工作 接下來我們會以Database的讀寫, 來測試Email認證成功後, 是否可讀到資料庫資訊. 在Android-開發Firebase專案-Database篇中提到, 如果使用預設的安全性時, 是無法取得Firebase的資料. 因此我們必須先認證後, 才能讀取資料. Step 1: Connect to Firebase 如果有在Android-開發Firebase專案-Database篇中設定過, 可跳過此步驟 若專案還未連接過Firebase, 請參閱Android-開發Firebase專案-Database篇中的 Step 1 ~ Step 2 並在Step 2 將選擇Realtime Database更改為選擇「Authentication」, 再點擊「Email and password authentication」 Step 2: 將 Authentication 引入 Module 選取「Add Firebase Authentication to your app」 Step 3: 建立Email認證 到Firebase網頁的專案頁面中, 點擊左邊的「Authentication」再選取「登入方式」TAB將「電子郵件/密碼」選項打開 Step 4: 檢查是否已登入 到主程式中, 先取得Firebase Instance 1private FirebaseAuth fileAuth = FirebaseAuth.getInstance(); 建立一個LoginActivity, 來輸入帳號密碼 設定授權狀態監聽器 AuthStateListener, 當未登入時, 開啟登入畫面LoginActivity 123456789101112private FirebaseAuth.AuthStateListener authStateListener;authStateListener = new FirebaseAuth.AuthStateListener() { @Override public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) { FirebaseUser user = firebaseAuth.getCurrentUser(); if (user==null) { startActivity(new Intent(MainActivity.this, LoginActivity.class)); }else{ // TODO after login } }}; 在onStart階段註冊監聽, onStop階段取消監聽 12345678910111213@Overrideprotected void onStart() { super.onStart(); fileAuth.addAuthStateListener(authStateListener);}@Overrideprotected void onStop() { if (authStateListener != null){ fileAuth.removeAuthStateListener(authStateListener); } super.onStop();} Step 5: 登入Firebase 在LoginActivity.java / attemptLogin 函數中, 我們不用預設的AsyncTask : UserLoginTask來登入, 改為FirebaseAuth 的登入方式 123456789101112131415161718192021//mAuthTask = new UserLoginTask(email, password);//mAuthTask.execute((Void) null);FirebaseAuth auth = FirebaseAuth.getInstance();auth.signInWithEmailAndPassword(email, password) .addOnSuccessListener(new OnSuccessListener&lt;AuthResult&gt;() { @Override public void onSuccess(AuthResult authResult) { Log.d(TAG, &quot;登入成功&quot;); showProgress(false); finish(); } }) .addOnFailureListener(new OnFailureListener() { @Override public void onFailure(@NonNull Exception e) { Log.w(TAG, &quot;登入失敗，請檢查email/password&quot;); showProgress(false); finish(); } }); Step 6: 登入成功後, 更新Database 程式一開始時, 由於還未登入認證, 所以無法取得Firebase的資料Log 顯示如下 登入的結果會由MainActivity 的 FirebaseAuth.AuthStateListener() 返回結果當登入成功時, 我們設置FirebaseDatabase 12345678910111213141516authStateListener = new FirebaseAuth.AuthStateListener() { @Override public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) { Log.d(TAG, &quot;onAuthStateChanged&quot;); FirebaseUser user = firebaseAuth.getCurrentUser(); if (user==null) { Log.d(TAG, &quot;Try to Login: &quot;); startActivity(new Intent(MainActivity.this, LoginActivity.class)); } else { Log.d(TAG, &quot;Login Success&quot;); FirebaseDatabase fireDB = FirebaseDatabase.getInstance(); DatabaseReference myRef = fireDB.getReference(&quot;聯絡人&quot;); myRef.addChildEventListener(MainActivity.this); } }}; Step 7: Logout 一般而言, 當登入成功後, 倘若下一次希望能夠自動登入使用者帳密時,需要程式開發人員自行撰寫code, 去紀錄使用者登入的帳密. Friebase已在底層做好此功能, 只要驗證過一次, 下次再執行App時, 就能自動登入. 若要使用者下次執行App時, 需要再輸入帳密時可在onDestory階段, 執行FirebaseAuth.signOut() 即可 12345@Overrideprotected void onDestroy() { fileAuth.signOut(); super.onDestroy();} Source Code MainActivity.java1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495import com.google.firebase.auth.FirebaseAuth;import com.google.firebase.auth.FirebaseUser;import com.google.firebase.database.ChildEventListener;import com.google.firebase.database.DataSnapshot;import com.google.firebase.database.DatabaseError;import com.google.firebase.database.DatabaseReference;import com.google.firebase.database.FirebaseDatabase;import android.content.Intent;import android.support.annotation.NonNull;import android.support.v7.app.AppCompatActivity;import android.os.Bundle;import android.util.Log;import android.widget.ArrayAdapter;import android.widget.ListView;public class MainActivity extends AppCompatActivity implements ChildEventListener { ArrayAdapter&lt;String&gt; fileDBAdapter; private FirebaseAuth fileAuth; private FirebaseAuth.AuthStateListener authStateListener; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); ListView list = (ListView) findViewById(R.id.listView); fileDBAdapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1, android.R.id.text1); list.setAdapter(fileDBAdapter); fileAuth = FirebaseAuth.getInstance(); authStateListener = new FirebaseAuth.AuthStateListener() { @Override public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) { Log.e(&quot;Nick&quot;, &quot;onAuthStateChanged&quot;); FirebaseUser user = firebaseAuth.getCurrentUser(); if (user==null) { Log.e(&quot;Nick&quot;, &quot;Try to Login: &quot;); startActivity(new Intent(MainActivity.this, LoginActivity.class)); } else { Log.e(&quot;Nick&quot;, &quot;Login Success&quot;); FirebaseDatabase fireDB = FirebaseDatabase.getInstance(); DatabaseReference myRef = fireDB.getReference(&quot;聯絡人&quot;); myRef.addChildEventListener(MainActivity.this); } } }; } @Override protected void onStart() { super.onStart(); fileAuth.addAuthStateListener(authStateListener); } @Override protected void onStop() { if (authStateListener != null){ fileAuth.removeAuthStateListener(authStateListener); } super.onStop(); } @Override protected void onDestroy() { fileAuth.signOut(); super.onDestroy(); } @Override public void onChildAdded(DataSnapshot dataSnapshot, String s) { fileDBAdapter.add( String.valueOf(dataSnapshot.child(&quot;name&quot;).getValue())); } @Override public void onChildRemoved(DataSnapshot dataSnapshot) { fileDBAdapter.remove( String.valueOf(dataSnapshot.child(&quot;name&quot;).getValue())); } @Override public void onChildChanged(DataSnapshot dataSnapshot, String s) { } @Override public void onChildMoved(DataSnapshot dataSnapshot, String s) { } @Override public void onCancelled(DatabaseError databaseError) { }} LoginActivity.java123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373import com.google.android.gms.tasks.OnFailureListener;import com.google.android.gms.tasks.OnSuccessListener;import com.google.firebase.auth.AuthResult;import com.google.firebase.auth.FirebaseAuth;import android.animation.Animator;import android.animation.AnimatorListenerAdapter;import android.annotation.TargetApi;import android.content.pm.PackageManager;import android.support.annotation.NonNull;import android.support.design.widget.Snackbar;import android.support.v7.app.AppCompatActivity;import android.app.LoaderManager.LoaderCallbacks;import android.content.CursorLoader;import android.content.Loader;import android.database.Cursor;import android.net.Uri;import android.os.AsyncTask;import android.os.Build;import android.os.Bundle;import android.provider.ContactsContract;import android.text.TextUtils;import android.util.Log;import android.view.KeyEvent;import android.view.View;import android.view.View.OnClickListener;import android.view.inputmethod.EditorInfo;import android.widget.ArrayAdapter;import android.widget.AutoCompleteTextView;import android.widget.Button;import android.widget.EditText;import android.widget.TextView;import java.util.ArrayList;import java.util.List;import static android.Manifest.permission.READ_CONTACTS;/** * A login screen that offers login via email/password. */public class LoginActivity extends AppCompatActivity implements LoaderCallbacks&lt;Cursor&gt; { /** * Id to identity READ_CONTACTS permission request. */ private static final int REQUEST_READ_CONTACTS = 0; /** * A dummy authentication store containing known user names and passwords. * TODO: remove after connecting to a real authentication system. */ private static final String[] DUMMY_CREDENTIALS = new String[]{ &quot;foo@example.com:hello&quot;, &quot;bar@example.com:world&quot; }; /** * Keep track of the login task to ensure we can cancel it if requested. */ private UserLoginTask mAuthTask = null; // UI references. private AutoCompleteTextView mEmailView; private EditText mPasswordView; private View mProgressView; private View mLoginFormView; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_login); // Set up the login form. mEmailView = (AutoCompleteTextView) findViewById(R.id.email); populateAutoComplete(); mPasswordView = (EditText) findViewById(R.id.password); mPasswordView.setOnEditorActionListener(new TextView.OnEditorActionListener() { @Override public boolean onEditorAction(TextView textView, int id, KeyEvent keyEvent) { if (id == R.id.login || id == EditorInfo.IME_NULL) { attemptLogin(); return true; } return false; } }); Button mEmailSignInButton = (Button) findViewById(R.id.email_sign_in_button); mEmailSignInButton.setOnClickListener(new OnClickListener() { @Override public void onClick(View view) { attemptLogin(); } }); mLoginFormView = findViewById(R.id.login_form); mProgressView = findViewById(R.id.login_progress); } private void populateAutoComplete() { if (!mayRequestContacts()) { return; } getLoaderManager().initLoader(0, null, this); } private boolean mayRequestContacts() { if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.M) { return true; } if (checkSelfPermission(READ_CONTACTS) == PackageManager.PERMISSION_GRANTED) { return true; } if (shouldShowRequestPermissionRationale(READ_CONTACTS)) { Snackbar.make(mEmailView, R.string.permission_rationale, Snackbar.LENGTH_INDEFINITE) .setAction(android.R.string.ok, new View.OnClickListener() { @Override @TargetApi(Build.VERSION_CODES.M) public void onClick(View v) { requestPermissions(new String[]{READ_CONTACTS}, REQUEST_READ_CONTACTS); } }); } else { requestPermissions(new String[]{READ_CONTACTS}, REQUEST_READ_CONTACTS); } return false; } /** * Callback received when a permissions request has been completed. */ @Override public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) { if (requestCode == REQUEST_READ_CONTACTS) { if (grantResults.length == 1 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) { populateAutoComplete(); } } } /** * Attempts to sign in or register the account specified by the login form. * If there are form errors (invalid email, missing fields, etc.), the * errors are presented and no actual login attempt is made. */ private void attemptLogin() { if (mAuthTask != null) { return; } // Reset errors. mEmailView.setError(null); mPasswordView.setError(null); // Store values at the time of the login attempt. String email = mEmailView.getText().toString(); String password = mPasswordView.getText().toString(); boolean cancel = false; View focusView = null; // Check for a valid password, if the user entered one. if (!TextUtils.isEmpty(password) &amp;&amp; !isPasswordValid(password)) { mPasswordView.setError(getString(R.string.error_invalid_password)); focusView = mPasswordView; cancel = true; } // Check for a valid email address. if (TextUtils.isEmpty(email)) { mEmailView.setError(getString(R.string.error_field_required)); focusView = mEmailView; cancel = true; } else if (!isEmailValid(email)) { mEmailView.setError(getString(R.string.error_invalid_email)); focusView = mEmailView; cancel = true; } if (cancel) { // There was an error; don't attempt login and focus the first // form field with an error. focusView.requestFocus(); } else { // Show a progress spinner, and kick off a background task to // perform the user login attempt. showProgress(true); //mAuthTask = new UserLoginTask(email, password); //mAuthTask.execute((Void) null); FirebaseAuth auth = FirebaseAuth.getInstance(); auth.signInWithEmailAndPassword(email, password) .addOnSuccessListener(new OnSuccessListener&lt;AuthResult&gt;() { @Override public void onSuccess(AuthResult authResult) { Log.e(&quot;Nick&quot;, &quot;登入成功&quot;); showProgress(false); finish(); } }) .addOnFailureListener(new OnFailureListener() { @Override public void onFailure(@NonNull Exception e) { Log.e(&quot;Nick&quot;, &quot;登入失敗，請檢查email/password&quot;); showProgress(false); finish(); } }); } } private boolean isEmailValid(String email) { //TODO: Replace this with your own logic return email.contains(&quot;@&quot;); } private boolean isPasswordValid(String password) { //TODO: Replace this with your own logic return password.length() &gt; 4; } /** * Shows the progress UI and hides the login form. */ @TargetApi(Build.VERSION_CODES.HONEYCOMB_MR2) private void showProgress(final boolean show) { // On Honeycomb MR2 we have the ViewPropertyAnimator APIs, which allow // for very easy animations. If available, use these APIs to fade-in // the progress spinner. if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB_MR2) { int shortAnimTime = getResources().getInteger(android.R.integer.config_shortAnimTime); mLoginFormView.setVisibility(show ? View.GONE : View.VISIBLE); mLoginFormView.animate().setDuration(shortAnimTime).alpha( show ? 0 : 1).setListener(new AnimatorListenerAdapter() { @Override public void onAnimationEnd(Animator animation) { mLoginFormView.setVisibility(show ? View.GONE : View.VISIBLE); } }); mProgressView.setVisibility(show ? View.VISIBLE : View.GONE); mProgressView.animate().setDuration(shortAnimTime).alpha( show ? 1 : 0).setListener(new AnimatorListenerAdapter() { @Override public void onAnimationEnd(Animator animation) { mProgressView.setVisibility(show ? View.VISIBLE : View.GONE); } }); } else { // The ViewPropertyAnimator APIs are not available, so simply show // and hide the relevant UI components. mProgressView.setVisibility(show ? View.VISIBLE : View.GONE); mLoginFormView.setVisibility(show ? View.GONE : View.VISIBLE); } } @Override public Loader&lt;Cursor&gt; onCreateLoader(int i, Bundle bundle) { return new CursorLoader(this, // Retrieve data rows for the device user's 'profile' contact. Uri.withAppendedPath(ContactsContract.Profile.CONTENT_URI, ContactsContract.Contacts.Data.CONTENT_DIRECTORY), ProfileQuery.PROJECTION, // Select only email addresses. ContactsContract.Contacts.Data.MIMETYPE + &quot; = ?&quot;, new String[]{ContactsContract.CommonDataKinds.Email .CONTENT_ITEM_TYPE}, // Show primary email addresses first. Note that there won't be // a primary email address if the user hasn't specified one. ContactsContract.Contacts.Data.IS_PRIMARY + &quot; DESC&quot;); } @Override public void onLoadFinished(Loader&lt;Cursor&gt; cursorLoader, Cursor cursor) { List&lt;String&gt; emails = new ArrayList&lt;&gt;(); cursor.moveToFirst(); while (!cursor.isAfterLast()) { emails.add(cursor.getString(ProfileQuery.ADDRESS)); cursor.moveToNext(); } addEmailsToAutoComplete(emails); } @Override public void onLoaderReset(Loader&lt;Cursor&gt; cursorLoader) { } private void addEmailsToAutoComplete(List&lt;String&gt; emailAddressCollection) { //Create adapter to tell the AutoCompleteTextView what to show in its dropdown list. ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(LoginActivity.this, android.R.layout.simple_dropdown_item_1line, emailAddressCollection); mEmailView.setAdapter(adapter); } private interface ProfileQuery { String[] PROJECTION = { ContactsContract.CommonDataKinds.Email.ADDRESS, ContactsContract.CommonDataKinds.Email.IS_PRIMARY, }; int ADDRESS = 0; int IS_PRIMARY = 1; } /** * Represents an asynchronous login/registration task used to authenticate * the user. */ public class UserLoginTask extends AsyncTask&lt;Void, Void, Boolean&gt; { private final String mEmail; private final String mPassword; UserLoginTask(String email, String password) { mEmail = email; mPassword = password; } @Override protected Boolean doInBackground(Void... params) { // TODO: attempt authentication against a network service. try { // Simulate network access. Thread.sleep(2000); } catch (InterruptedException e) { return false; } for (String credential : DUMMY_CREDENTIALS) { String[] pieces = credential.split(&quot;:&quot;); if (pieces[0].equals(mEmail)) { // Account exists, return true if the password matches. return pieces[1].equals(mPassword); } } // TODO: register the new account here. return true; } @Override protected void onPostExecute(final Boolean success) { mAuthTask = null; showProgress(false); if (success) { finish(); } else { mPasswordView.setError(getString(R.string.error_incorrect_password)); mPasswordView.requestFocus(); } } @Override protected void onCancelled() { mAuthTask = null; showProgress(false); } }}","link":"/2017/04/20/2017/2017_04_20-android-firebase-database-auth/"},{"title":"Hexo Icarus 修改歷程","text":"Blog 客製化更改背景色更改$body-background-color ~\\themes\\icarus\\include\\style\\base.styl1$body-background-color ?= $blue 參數路徑： ~\\node_modules\\bulma-stylus\\stylus\\utilities\\initial-variables.styl123456$orange ?= hsl(16, 100%, 50%)$yellow ?= hsl(48, 100%, 67%)$green ?= hsl(141, 53%, 53%)$turquoise ?= hsl(171, 100%, 41%)$cyan ?= hsl(204, 71%, 53%)$blue ?= hsl(219, 97%, 14%) Header取消search旁邊的link 將links mark 起來 ~\\_config.icarus.yml12345678910111213navbar: # Navigation menu items menu: Home: / Archives: /archives Categories: /categories Tags: /tags About: /about # Links to be shown on the right of the navigation bar # links: # Download on GitHub: # icon: fab fa-github # url: 'https://github.com/ppoffice/hexo-theme-icarus' Footer修改Footer背景顏色~\\themes\\icarus\\include\\style\\base.styl1$footer-background-color ?= #E9F4FA 修改footer link~\\_config.icarus.yml12345678910footer: # Links to be shown on the right of the footer section links: CC BY-NC-SA 4.0: icon: - fab fa-creative-commons - fab fa-creative-commons-by - fab fa-creative-commons-nc - fab fa-creative-commons-sa url: 'https://creativecommons.org/licenses/by-nc-sa/4.0/' 更改上一篇/下一篇文字顏色如果使用深色背景時，預設文字顏色會看不清楚。 更改post-navigation-fg ~\\themes\\icarus\\include\\style\\pagination.styl1$post-navigation-fg ?= #EEEEEE 增加Disqus評論先到Disqus註冊帳號，相關方式請搜尋Disqus註冊。 ~\\_config.icarus.yml1234567comment: # Name of the comment plugin type: disqus enable: true shortname: 'your_disqus_short_name' count: true lazyload: false 繼續閱讀按鈕放置右方在首頁檢視時，讓Tag也在文章下顯示，並將繼續閱讀按鈕放置右方。 ~\\themes\\icarus\\layout\\common\\article.jsx1234567891011&lt;hr style=&quot;height:1px;margin:1rem 0&quot;/&gt; &lt;div className=&quot;level is-mobile is-flex&quot;&gt; {/* Tags */} {page.tags &amp;&amp; page.tags.length ? &lt;div class=&quot;article-tags is-size-7 is-uppercase&quot;&gt; &lt;i class=&quot;fas fa-tags has-text-grey&quot;&gt;&lt;/i&gt;&amp;nbsp; {page.tags.map((tag, index) =&gt; { return &lt;a class=&quot;link-muted&quot; rel=&quot;tag&quot; href={url_for(tag.path)}&gt;{tag.name}{index !== page.tags.length-1? ', ':''}&lt;/a&gt;; })} &lt;/div&gt; : null} {/* &quot;Read more&quot; button */} {index &amp;&amp; page.excerpt ? &lt;a class=&quot;article-more button is-small is-size-7&quot; href={`${url_for(page.link || page.path)}#more`}&gt;&lt;i class=&quot;fas fa-book-reader has-text-grey&quot;&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;{__('article.more')}&lt;/a&gt; : null} /div&gt; 更改繼續閱讀文字顏色更改繼續閱讀icon顏色，將has-text-grey改為has-text-info ~\\themes\\icarus\\layout\\common\\article.jsx12{/* &quot;Read more&quot; button */}{index &amp;&amp; page.excerpt ? &lt;a class=&quot;article-more button is-small is-size-7&quot; href={`${url_for(page.link || page.path)}#more`}&gt;&lt;i class=&quot;fas fa-book-reader has-text-info&quot;&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;{__('article.more')}&lt;/a&gt; : null} 更改繼續閱讀文字顏色，在article.styl中的article-more增加color屬性。 ~\\themes\\icarus\\include\\style\\article.styl1234&amp;.article .article-more @extend .button.is-light color: hsl(204, 86%, 53%) Card WidgetCard Widget增加浮動陰影在card.styl增加hover變化 ~\\themes\\icarus\\include\\style\\card.styl12345.card overflow: visible border-radius: $card-radius &amp;:hover box-shadow: 0 6px 15px rgba(255,168,63,0.5), 0 0 1px rgba(255,168,63,0.25) 增加box-shadow動畫效果 ~\\themes\\icarus\\source\\js\\animation.js12345setTimeout(() =&gt; { $('body &gt; .navbar, body &gt; .section, body &gt; .footer').forEach(element =&gt; { element.style.opacity = '1'; element.style.transition = 'opacity 0.3s ease-out, transform 0.3s ease-out, box-shadow 0.3s ease-in-out'; }); ~\\themes\\icarus\\source\\js\\animation.js12345678$(selector).forEach(element =&gt; { setTimeout(() =&gt; { element.style.opacity = '1'; element.style.transform = ''; element.style.transition = 'opacity 0.3s ease-out, transform 0.3s ease-out, box-shadow 0.3s ease-in-out'; }, i * 100); i++;}); 目錄黏貼原本只支援整欄黏貼，修改成可讓目錄單獨隨文章Scroll時，上下移動。 增加toc.addClass(‘column-left is-sticky’); ~\\themes\\icarus\\source\\js\\main.js1234const $toc = $('#toc'); if ($toc.length &gt; 0) { $toc.addClass('column-left is-sticky'); const $mask = $('&lt;div&gt;'); 增加 #toc ~\\themes\\icarus\\include\\style\\widget.styl1234567widget .menu-list #toc max-height: calc(100vh - 22px) overflow-y: scroll 將最新文章, Tag等設定在右邊~\\_config.icarus.yml1234# Recent posts widget configurations (最新文章)- position: right type: recent_posts 取消 SUBSCRIBE FOR UPDATES~\\_config.icarus.yml12345678# Google FeedBurner email subscription widget configurations # Where should the widget be placed, left sidebar or right sidebar # position: left # type: subscribe_email # Hint text under the email input # description: # Feedburner ID # feedburner_id: '' 取消 FOLLOW.IT~\\_config.icarus.yml12345678910# Follow.it email subscription widget configurations # Where should the widget be placed, left sidebar or right sidebar # position: left # type: followit # Hint text under the email input # description: # Subscription form action URL # action_url: '' # Feed claiming verification code # verification_code: '' 取消 Google AdSense~\\_config.icarus.yml12345678# Google AdSense unit configurations # Where should the widget be placed, left sidebar or right sidebar # position: left # type: adsense # AdSense client ID # client_id: '' # AdSense AD unit ID # slot_id: '' 取消 ShareThis~\\_config.icarus.yml1234# share: # type: sharethis # URL to the ShareThis share plugin script # install_url: '' 優化不同屏幕下顯示設定加上is-3-column ~\\themes\\icarus\\include\\style\\responsive.styl1234567+widescreen() .is-1-column .container, .is-2-column .container max-width: $desktop - 2 * $gap width: $desktop - 2 * $gap .is-3-column .container max-width: $widescreen - $gap width: $widescreen - $gap ~\\themes\\icarus\\include\\style\\responsive.styl123456789101112+fullhd() .is-2-column .container max-width: $widescreen - 2 * $gap width: $widescreen - 2 * $gap .is-1-column .container max-width: $desktop - 2 * $gap width: $desktop - 2 * $gap .is-3-column .container max-width: $fullhd - 2 * $gap width: $fullhd - 2 * $gap 增加密碼輸入錯誤樣式~\\themes\\icarus\\include\\style\\article.styl1234.password-error { box-shadow: 0px 4px 12px rgba(0,0,0,0.15); border-radius: 4px;} 更改按鈕顏色目前按鈕顏色是根據base.styl中的primary顏色而定，所以更改primary設定即可。 ~\\themes\\icarus\\include\\style\\base.styl1$primary ?= #FF4500 文章設定為兩欄模式由於我們將一些Card放到右邊的關係，所以首頁和文章都會顯示為三欄模式。 但我們希望看文章時，只顯示兩欄模式，讓使用者專注於文章的瀏覽，可透過以下的方式設定為首頁為三欄模式，觀看文章時為兩欄模式。 更改columnCount ~\\themes\\icarus\\layout\\layout.jsx1const columnCount = (['page', 'post'].includes(page.layout)) ? 2 : Widgets.getColumnCount(config.widgets, config, page); 但由於是強制設定為兩欄模式，所以右邊的card會被擠壓到，因此我們需要將右邊的card隱藏起來。 在formatWidgets函式中，增加一個變數page，並增加判斷如果是右邊的widget，則不顯示在page or post文章中。 ~\\themes\\icarus\\layout\\common\\widgets.jsx123456789101112131415161718192021function formatWidgets(widgets, page) { const result = {}; if (Array.isArray(widgets)) { widgets.filter(widget =&gt; typeof widget === 'object').forEach(widget =&gt; { if ('position' in widget &amp;&amp; (widget.position === 'left' || widget.position === 'right')) { if (!(widget.position in result)) { if (widget.position === 'right') { if (!['page', 'post'].includes(page.layout)) { result[widget.position] = [widget]; } } else { result[widget.position] = [widget]; } } else { result[widget.position].push(widget); } } }); } return result;} 在程式一開始render時，帶入page參數。 ~\\themes\\icarus\\layout\\common\\widgets.jsx123456class Widgets extends Component { render() { const { site, config, helper, page, position} = this.props; const widgets = formatWidgets(config.widgets, page)[position] || []; }} 文章內容將標題放到Matadata上方先將Title移到Metadata上方。 ~\\themes\\icarus\\layout\\common\\article.jsx12345{/* Title */}{page.title !== '' ? &lt;h1 class=&quot;title is-3 is-size-4-mobile&quot;&gt;{index ? &lt;a class=&quot;link-muted&quot; href={url_for(page.link || page.path)}&gt;{page.title}&lt;/a&gt; : page.title}&lt;/h1&gt; : null}{/* Metadata */} 再客製化讓標題在文章中置中顯示，在首頁靠左顯示。 ~\\themes\\icarus\\layout\\common\\article.jsx1234{/* Title */}{index ? &lt;a className=&quot;has-link-black-ter is-size-3 is-size-4-mobile &quot; href={url_for(page.link || page.path)}&gt; {page.title}&lt;/a&gt; : [&lt;h1 className=&quot;title has-text-centered is-size-3 is-size-4-mobile has-text-weight-normal&quot;&gt;{page.title}&lt;/h1&gt;]}{/* Metadata */} 設定Metadata將每個Metadata新增icon，使用&amp;#9474;做隔開，並將閱讀時間和字數統計分開及取消作者欄位。 ~\\themes\\icarus\\layout\\common\\article.jsx1234567891011121314151617181920212223242526272829303132333435&lt;div class=&quot;level-left&quot;&gt;{/* Creation Date */} {page.date &amp;&amp; &lt;span class=&quot;level-item&quot;&gt; &lt;i className=&quot;far fa-calendar-alt&quot;&gt;&amp;nbsp;&lt;/i&gt; &lt;time dateTime={date_xml(page.date)} title={date_xml(page.date)}&gt;{date(page.date)}&lt;/time&gt; &lt;/span&gt;}&lt;span class=&quot;level-item&quot; &gt;&amp;#9474;&lt;/span&gt;{/* Last Update Date */}{shouldShowUpdated &amp;&amp; &lt;span class=&quot;level-item&quot; dangerouslySetInnerHTML= { {'article.updated_at', `&lt;i class=&quot;far fa-edit&quot;&gt;&amp;nbsp;&lt;/i&gt;&amp;nbsp;&lt;/i&gt;&lt;time dateTime=&quot;${date_xml(page.updated)}&quot; title=&quot;${new Date(page.updated).toLocaleString()}&quot;&gt;${date(page.updated)}&lt;/time&gt;`} }&gt;&lt;/span&gt;}&lt;span class=&quot;level-item&quot; &gt;&amp;#9474;&lt;/span&gt;{/* Read time */} {article &amp;&amp; article.readtime &amp;&amp; article.readtime === true ? &lt;span class=&quot;level-item&quot;&gt; &lt;i class=&quot;far fa-clock&quot;&gt;&amp;nbsp;&lt;/i&gt; {(() =&gt; {const words = getWordCount(page._content); const time = moment.duration((words / 150.0) * 60, 'seconds'); return `${_p('article.read_time', time.locale(index ? indexLaunguage : language).humanize())}`; })()} &lt;/span&gt; : null}&lt;span class=&quot;level-item&quot; &gt;&amp;#9474;&lt;/span&gt; {/* Words */} {article &amp;&amp; article.readtime &amp;&amp; article.readtime === true ? &lt;span class=&quot;level-item&quot;&gt; &lt;i class=&quot;far fa-file-word&quot;&gt;&amp;nbsp;&lt;/i&gt; {(() =&gt; { const words = getWordCount(page._content); return `${_p('article.word_count', words)}`; })()}&lt;/span&gt; : null}{/* Visitor counter */} {!index &amp;&amp; plugins &amp;&amp; plugins.busuanzi === true ? &lt;span class=&quot;level-item&quot; id=&quot;busuanzi_container_page_pv&quot; dangerouslySetInnerHTML={ { __html: _p('plugin.visit_count', '&lt;span class=&quot;level-item&quot; &gt;&amp;#9474;&lt;/span&gt;&lt;span id=&quot;busuanzi_value_page_pv&quot;&gt;0&lt;/span&gt;') } }&gt;&lt;/span&gt; : null}&lt;/div&gt; 將Metadata設定為文章閱讀時置中顯示，首頁靠左顯示。 在return前加入contentInfoHeaderClass ~\\themes\\icarus\\layout\\common\\article.jsx123const contentInfoHeaderClass = index ? &quot;article-meta is-size-7 is-uppercase level is-mobile&quot; : &quot;article-meta is-size-7 is-uppercase level-item is-mobile has-text-centered&quot;;return &lt;Fragment&gt; {/* Main content */} 在Metadata的上一層修改class為{contentInfoHeaderClass}。 ~\\themes\\icarus\\layout\\common\\article.jsx1234{/* Metadata */}{page.layout !== 'page' ? &lt;div class={contentInfoHeaderClass}&gt; &lt;div class=&quot;level-left&quot;&gt; {/* Creation Date */} 原先樣式為 修改後的樣式為 修改Metadata文字內容 ~\\themes\\icarus\\languages\\zh-TW.yml12345article: read_time: '閱讀時長 ≈ %s' word_count: one: '本文字數 ≈ %d個字' other: '本文字數 ≈ %d個字' 增加標題自動計數~\\themes\\icarus\\include\\style\\article.styl12345678910/* --------------------------------- * Add Autocount * --------------------------------- */.article {counter-reset:section}.article h2{counter-reset:sub-section}.article h3{counter-reset:composite}.article h4{counter-reset:detail}.article h2:before{content:counter(section) &quot; &quot;;counter-increment:section}.article h3:before{content:counter(section) &quot;.&quot; counter(sub-section) &quot; &quot;;counter-increment:sub-section}.article h4:before{content:counter(section) &quot;.&quot; counter(sub-section) &quot;.&quot; counter(composite) &quot; &quot;;counter-increment:composite} HightlightColorquote註冊colorquote的 extend tag，這樣之後寫文章時，可以使用這個Tag。 在themes\\icarus\\scripts\\建立一個名為 colorquote 的 JS 檔。 ~\\themes\\icarus\\scripts\\colorquote.js123456789101112131415161718/*** Color Quote Block Tag* @description Color Quote Block* @example* &lt;% colorquote [type] %&gt;* content* &lt;% endcolorquote %&gt;*/hexo.extend.tag.register('colorquote', function (args, content) { var type = args[0]; var mdContent = hexo.render.renderSync({text: content, engine: 'markdown'}); if (type.includes(&quot;step&quot;)) { var num = type.substring(4); type = type.substring(0, 4); mdContent = hexo.render.renderSync({text: &quot;Step &quot; + num + &quot;: &quot;+ content, engine: 'markdown'}); } return '&lt;blockquote class=&quot;colorquote ' + type + '&quot;&gt;' + mdContent + '&lt;/blockquote&gt;';}, {ends: true}); 在themes\\icarus\\include\\style\\article.styl增加.colorquote ~\\themes\\icarus\\include\\style\\article.styl123456789101112131415161718192021222324252627282930313233343536373839404142434445464748&amp;.article .content .colorquote position: relative; padding: 0.1em 1.5em; color: #4a4a4a; margin-bottom: 1em; &amp;:before content: &quot; &quot;; position: absolute; top: 50%; left: -14.5px; margin-top: -12px; width: 24px; height: 24px; border-radius: 50%; text-align: center; color: white; background-size: 16px 16px; background-position: 4px 4px; background-repeat: no-repeat; &amp;.info border-color: hsl(204, 86%, 53%); background-color: hsl(204, 86%, 93%); &amp;:before background-color: hsl(204, 86%, 53%); background-image: url(&quot;../img/info.svg&quot;); &amp;.success border-color: hsl(141, 71%, 48%); background-color: hsl(141, 70%, 88%); &amp;:before background-color: hsl(141, 71%, 48%); background-image: url(&quot;../img/check.svg&quot;); &amp;.warning border-color: hsl(48, 100%, 67%); background-color: hsl(48, 100%, 91%); &amp;:before background-color: hsl(48, 100%, 67%); background-image: url(&quot;../img/exclamation.svg&quot;); &amp;.danger border-color: hsl(348, 100%, 61%); background-color: hsl(348, 100%, 85%); &amp;:before background-color: hsl(348, 100%, 61%); background-image: url(&quot;../img/exclamation.svg&quot;); colorquote前面的圖片是一張圖片，可以從Minos主題這邊抓取。 將下載後的檔案放到~\\themes\\icarus\\source\\img\\中。 這樣我們就可以在文章中使用colorquote 12&lt;blockquote class=&quot;colorquote info&quot;&gt;&lt;p&gt;Example: info&lt;/p&gt;&lt;/blockquote&gt; Example: info 但是如果在colorquote中使用markdown語法會失效，因此我們在themes\\icarus\\scripts\\建立一個名為 tag 的 JS 檔。 內容如下： ~\\themes\\icarus\\scripts\\tag.js12345678910111213141516171819202122232425/*** Tags Filter* @description Fix the code block using ```&lt;code&gt;``` will render undefined in Nunjucks* https://github.com/hexojs/hexo/issues/2400*/const rEscapeContent = /&lt;escape(?:[^&gt;]*)&gt;([\\s\\S]*?)&lt;\\/escape&gt;/g;const placeholder = '\\uFFFD';const rPlaceholder = /(?:&lt;|&amp;lt;)\\!--\\uFFFD(\\d+)--(?:&gt;|&amp;gt;)/g;const cache = [];function escapeContent(str) { return '&lt;!--' + placeholder + (cache.push(str) - 1) + '--&gt;';}hexo.extend.filter.register('before_post_render', function(data) { data.content = data.content.replace(rEscapeContent, function(match, content) { return escapeContent(content); }); return data;});hexo.extend.filter.register('after_post_render', function(data) { data.content = data.content.replace(rPlaceholder, function() { return cache[arguments[1]]; }); return data;}); Code BlockDark Theme修改背景為Dark模式 原先為Code Block背景為白色 Light Theme: 將atom-one-light改為atom-one-dark ~\\_config.icarus.yml123456article: # Code highlight settings highlight: theme: atom-one-dark clipboard: true fold: unfolded Dark Theme: 相關Code Block樣式，可參考highlightjs 客製化背景色除了使用theme來更改Code Block的背景色外，我們可透過codeblock.styl來客製化背景色。 Code Block 主體背景色: 在.highlight-body增加 background ~\\themes\\icarus\\include\\style\\codeblock.styl123.highlight-body overflow: auto background: rgba(1, 6, 46, 0.95) Code Block Menu Bar 背景色: 修改$codeblock-caption-bg ~\\themes\\icarus\\include\\style\\codeblock.styl1$codeblock-caption-bg ?= rgba(1, 64, 135, 0.5) 客製化ScrollbarScrollbar相關設定檔位於 ~\\themes\\icarus\\include\\style\\base.styl 中 ~\\themes\\icarus\\include\\style\\base.styl1234567891011121314151617+desktop() ::-webkit-scrollbar width: 8px height: 8px ::-webkit-scrollbar-track border-radius: 3px background: rgba(0,0,0,0.06) box-shadow: inset 0 0 5px rgba(0,0,0,0.1) ::-webkit-scrollbar-thumb border-radius: 3px background: rgba(6, 73, 132,0.60) box-shadow: inset 0 0 10px rgba(0,0,0,0.2) ::-webkit-scrollbar-thumb:hover background: rgba(6, 73, 132,0.72)","link":"/2021/11/30/2021/2021_11-30-Hexo_Icarus_change_list/"}],"tags":[{"name":"cardview","slug":"cardview","link":"/tags/cardview/"},{"name":"shadow","slug":"shadow","link":"/tags/shadow/"},{"name":"RippleDrawable","slug":"RippleDrawable","link":"/tags/RippleDrawable/"},{"name":"button","slug":"button","link":"/tags/button/"},{"name":"toolbar","slug":"toolbar","link":"/tags/toolbar/"},{"name":"Bottom Sheets","slug":"Bottom-Sheets","link":"/tags/Bottom-Sheets/"},{"name":"ListView","slug":"ListView","link":"/tags/ListView/"},{"name":"LockScreen","slug":"LockScreen","link":"/tags/LockScreen/"},{"name":"藍芽","slug":"藍芽","link":"/tags/%E8%97%8D%E8%8A%BD/"},{"name":"NavigationBar","slug":"NavigationBar","link":"/tags/NavigationBar/"},{"name":"Tabview","slug":"Tabview","link":"/tags/Tabview/"},{"name":"TestCase","slug":"TestCase","link":"/tags/TestCase/"},{"name":"adb","slug":"adb","link":"/tags/adb/"},{"name":"LoadingView","slug":"LoadingView","link":"/tags/LoadingView/"},{"name":"Dialog","slug":"Dialog","link":"/tags/Dialog/"},{"name":"ImageView","slug":"ImageView","link":"/tags/ImageView/"},{"name":"Text","slug":"Text","link":"/tags/Text/"},{"name":"下拉式選單","slug":"下拉式選單","link":"/tags/%E4%B8%8B%E6%8B%89%E5%BC%8F%E9%81%B8%E5%96%AE/"},{"name":"PageView","slug":"PageView","link":"/tags/PageView/"},{"name":"模糊效果","slug":"模糊效果","link":"/tags/%E6%A8%A1%E7%B3%8A%E6%95%88%E6%9E%9C/"},{"name":"圖片縮放","slug":"圖片縮放","link":"/tags/%E5%9C%96%E7%89%87%E7%B8%AE%E6%94%BE/"},{"name":"Button","slug":"Button","link":"/tags/Button/"},{"name":"Firebase","slug":"Firebase","link":"/tags/Firebase/"},{"name":"ConstraintLayout","slug":"ConstraintLayout","link":"/tags/ConstraintLayout/"},{"name":"RelativeLayout","slug":"RelativeLayout","link":"/tags/RelativeLayout/"},{"name":"快捷鍵","slug":"快捷鍵","link":"/tags/%E5%BF%AB%E6%8D%B7%E9%8D%B5/"},{"name":"人臉偵測","slug":"人臉偵測","link":"/tags/%E4%BA%BA%E8%87%89%E5%81%B5%E6%B8%AC/"},{"name":"Permission","slug":"Permission","link":"/tags/Permission/"},{"name":"Camera","slug":"Camera","link":"/tags/Camera/"},{"name":"aar","slug":"aar","link":"/tags/aar/"},{"name":"漸變效果","slug":"漸變效果","link":"/tags/%E6%BC%B8%E8%AE%8A%E6%95%88%E6%9E%9C/"},{"name":"Clean Project Error","slug":"Clean-Project-Error","link":"/tags/Clean-Project-Error/"},{"name":"dlopen failed","slug":"dlopen-failed","link":"/tags/dlopen-failed/"},{"name":"NanoHttpd","slug":"NanoHttpd","link":"/tags/NanoHttpd/"},{"name":"GStreamer","slug":"GStreamer","link":"/tags/GStreamer/"},{"name":"JCIFS","slug":"JCIFS","link":"/tags/JCIFS/"},{"name":"TensorFlow","slug":"TensorFlow","link":"/tags/TensorFlow/"},{"name":"TTS","slug":"TTS","link":"/tags/TTS/"},{"name":"Display","slug":"Display","link":"/tags/Display/"},{"name":"影片截圖","slug":"影片截圖","link":"/tags/%E5%BD%B1%E7%89%87%E6%88%AA%E5%9C%96/"},{"name":"CursorLoader","slug":"CursorLoader","link":"/tags/CursorLoader/"},{"name":"image","slug":"image","link":"/tags/image/"},{"name":"開機畫面","slug":"開機畫面","link":"/tags/%E9%96%8B%E6%A9%9F%E7%95%AB%E9%9D%A2/"},{"name":"hexo","slug":"hexo","link":"/tags/hexo/"},{"name":"icarus","slug":"icarus","link":"/tags/icarus/"},{"name":"RecyclerView","slug":"RecyclerView","link":"/tags/RecyclerView/"},{"name":"SQL","slug":"SQL","link":"/tags/SQL/"},{"name":"assets","slug":"assets","link":"/tags/assets/"},{"name":"ubuntu","slug":"ubuntu","link":"/tags/ubuntu/"},{"name":"onConfigurationChanged","slug":"onConfigurationChanged","link":"/tags/onConfigurationChanged/"},{"name":"Http","slug":"Http","link":"/tags/Http/"},{"name":"mqtt","slug":"mqtt","link":"/tags/mqtt/"},{"name":"android","slug":"android","link":"/tags/android/"},{"name":"ethernet","slug":"ethernet","link":"/tags/ethernet/"},{"name":"GifImageView","slug":"GifImageView","link":"/tags/GifImageView/"},{"name":"自動填入","slug":"自動填入","link":"/tags/%E8%87%AA%E5%8B%95%E5%A1%AB%E5%85%A5/"},{"name":"xcode","slug":"xcode","link":"/tags/xcode/"},{"name":"Z-Order","slug":"Z-Order","link":"/tags/Z-Order/"},{"name":"StatusBar","slug":"StatusBar","link":"/tags/StatusBar/"},{"name":"iOS","slug":"iOS","link":"/tags/iOS/"},{"name":"gaia","slug":"gaia","link":"/tags/gaia/"},{"name":"Visual Studio","slug":"Visual-Studio","link":"/tags/Visual-Studio/"},{"name":"java script","slug":"java-script","link":"/tags/java-script/"},{"name":"google sso","slug":"google-sso","link":"/tags/google-sso/"},{"name":"Java Script","slug":"Java-Script","link":"/tags/Java-Script/"},{"name":"ios","slug":"ios","link":"/tags/ios/"},{"name":"APN","slug":"APN","link":"/tags/APN/"},{"name":"http2","slug":"http2","link":"/tags/http2/"},{"name":"XCode","slug":"XCode","link":"/tags/XCode/"},{"name":"work","slug":"work","link":"/tags/work/"},{"name":"mac system page","slug":"mac-system-page","link":"/tags/mac-system-page/"},{"name":"ips","slug":"ips","link":"/tags/ips/"},{"name":"NSTextField","slug":"NSTextField","link":"/tags/NSTextField/"},{"name":"max length","slug":"max-length","link":"/tags/max-length/"},{"name":"Xcode","slug":"Xcode","link":"/tags/Xcode/"},{"name":"Webkit","slug":"Webkit","link":"/tags/Webkit/"},{"name":"Backetball","slug":"Backetball","link":"/tags/Backetball/"},{"name":"籃球購買心得","slug":"籃球購買心得","link":"/tags/%E7%B1%83%E7%90%83%E8%B3%BC%E8%B2%B7%E5%BF%83%E5%BE%97/"},{"name":"籃球推薦","slug":"籃球推薦","link":"/tags/%E7%B1%83%E7%90%83%E6%8E%A8%E8%96%A6/"}],"categories":[{"name":"Android","slug":"Android","link":"/categories/Android/"},{"name":"Button","slug":"Android/Button","link":"/categories/Android/Button/"},{"name":"CardView","slug":"Android/CardView","link":"/categories/Android/CardView/"},{"name":"Toolbar","slug":"Android/Toolbar","link":"/categories/Android/Toolbar/"},{"name":"Bottom Sheets","slug":"Android/Bottom-Sheets","link":"/categories/Android/Bottom-Sheets/"},{"name":"Z-Order","slug":"Android/Z-Order","link":"/categories/Android/Z-Order/"},{"name":"ListView","slug":"Android/ListView","link":"/categories/Android/ListView/"},{"name":"RippleDrawable","slug":"Android/RippleDrawable","link":"/categories/Android/RippleDrawable/"},{"name":"LockScreen","slug":"Android/LockScreen","link":"/categories/Android/LockScreen/"},{"name":"iOS","slug":"iOS","link":"/categories/iOS/"},{"name":"TestCase","slug":"Android/TestCase","link":"/categories/Android/TestCase/"},{"name":"adb","slug":"Android/adb","link":"/categories/Android/adb/"},{"name":"Spinner","slug":"iOS/Spinner","link":"/categories/iOS/Spinner/"},{"name":"Bluetooth","slug":"iOS/Bluetooth","link":"/categories/iOS/Bluetooth/"},{"name":"PageViewController","slug":"iOS/PageViewController","link":"/categories/iOS/PageViewController/"},{"name":"UIBlurEffect","slug":"iOS/UIBlurEffect","link":"/categories/iOS/UIBlurEffect/"},{"name":"UIImageView","slug":"iOS/UIImageView","link":"/categories/iOS/UIImageView/"},{"name":"UIVibrancyEffect","slug":"iOS/UIVibrancyEffect","link":"/categories/iOS/UIVibrancyEffect/"},{"name":"NavigationBar","slug":"iOS/NavigationBar","link":"/categories/iOS/NavigationBar/"},{"name":"UIButton","slug":"iOS/UIButton","link":"/categories/iOS/UIButton/"},{"name":"UITextField","slug":"iOS/UITextField","link":"/categories/iOS/UITextField/"},{"name":"Tabview","slug":"iOS/Tabview","link":"/categories/iOS/Tabview/"},{"name":"Firebase","slug":"Android/Firebase","link":"/categories/Android/Firebase/"},{"name":"ConstraintLayout","slug":"Android/ConstraintLayout","link":"/categories/Android/ConstraintLayout/"},{"name":"RelativeLayout","slug":"Android/RelativeLayout","link":"/categories/Android/RelativeLayout/"},{"name":"Ubuntu","slug":"Ubuntu","link":"/categories/Ubuntu/"},{"name":"FaceDetector","slug":"Android/FaceDetector","link":"/categories/Android/FaceDetector/"},{"name":"Permission","slug":"Android/Permission","link":"/categories/Android/Permission/"},{"name":"Camera","slug":"Android/Camera","link":"/categories/Android/Camera/"},{"name":"aar","slug":"Android/aar","link":"/categories/Android/aar/"},{"name":"GradientDrawable","slug":"Android/GradientDrawable","link":"/categories/Android/GradientDrawable/"},{"name":"NanoHttpd","slug":"Android/NanoHttpd","link":"/categories/Android/NanoHttpd/"},{"name":"GStreamer","slug":"Android/GStreamer","link":"/categories/Android/GStreamer/"},{"name":"JCIFS","slug":"Android/JCIFS","link":"/categories/Android/JCIFS/"},{"name":"TensorFlow","slug":"Android/TensorFlow","link":"/categories/Android/TensorFlow/"},{"name":"LoadingView","slug":"iOS/LoadingView","link":"/categories/iOS/LoadingView/"},{"name":"TTS","slug":"Android/TTS","link":"/categories/Android/TTS/"},{"name":"Display","slug":"Android/Display","link":"/categories/Android/Display/"},{"name":"ScreenShot","slug":"Android/ScreenShot","link":"/categories/Android/ScreenShot/"},{"name":"CursorLoader","slug":"Android/CursorLoader","link":"/categories/Android/CursorLoader/"},{"name":"Image","slug":"Android/Image","link":"/categories/Android/Image/"},{"name":"Dialog","slug":"iOS/Dialog","link":"/categories/iOS/Dialog/"},{"name":"Boot","slug":"Android/Boot","link":"/categories/Android/Boot/"},{"name":"Hexo","slug":"Hexo","link":"/categories/Hexo/"},{"name":"ImageView","slug":"Android/ImageView","link":"/categories/Android/ImageView/"},{"name":"Text","slug":"Android/Text","link":"/categories/Android/Text/"},{"name":"RecyclerView","slug":"Android/RecyclerView","link":"/categories/Android/RecyclerView/"},{"name":"TextField","slug":"iOS/TextField","link":"/categories/iOS/TextField/"},{"name":"SQL","slug":"Android/SQL","link":"/categories/Android/SQL/"},{"name":"assets","slug":"Android/assets","link":"/categories/Android/assets/"},{"name":"onConfigurationChanged","slug":"Android/onConfigurationChanged","link":"/categories/Android/onConfigurationChanged/"},{"name":"Http","slug":"Android/Http","link":"/categories/Android/Http/"},{"name":"MQTT","slug":"Android/MQTT","link":"/categories/Android/MQTT/"},{"name":"Ethernet","slug":"Android/Ethernet","link":"/categories/Android/Ethernet/"},{"name":"NavigationBar","slug":"Android/NavigationBar","link":"/categories/Android/NavigationBar/"},{"name":"GifImageView","slug":"Android/GifImageView","link":"/categories/Android/GifImageView/"},{"name":"Autofill","slug":"Android/Autofill","link":"/categories/Android/Autofill/"},{"name":"TextView","slug":"Android/TextView","link":"/categories/Android/TextView/"},{"name":"XCode","slug":"iOS/XCode","link":"/categories/iOS/XCode/"},{"name":"Z-Order","slug":"iOS/Z-Order","link":"/categories/iOS/Z-Order/"},{"name":"StatusBar","slug":"iOS/StatusBar","link":"/categories/iOS/StatusBar/"},{"name":"Error","slug":"iOS/Error","link":"/categories/iOS/Error/"},{"name":"Alamofire","slug":"iOS/Alamofire","link":"/categories/iOS/Alamofire/"},{"name":"Escaping","slug":"iOS/Escaping","link":"/categories/iOS/Escaping/"},{"name":"BenQ","slug":"BenQ","link":"/categories/BenQ/"},{"name":"SQL","slug":"SQL","link":"/categories/SQL/"},{"name":"Java Script","slug":"Java-Script","link":"/categories/Java-Script/"},{"name":"Google","slug":"Google","link":"/categories/Google/"},{"name":"APNs","slug":"iOS/APNs","link":"/categories/iOS/APNs/"},{"name":"XCode","slug":"XCode","link":"/categories/XCode/"},{"name":"Qisda","slug":"Qisda","link":"/categories/Qisda/"},{"name":"System Page","slug":"iOS/System-Page","link":"/categories/iOS/System-Page/"},{"name":"Crash","slug":"iOS/Crash","link":"/categories/iOS/Crash/"},{"name":"Object-C","slug":"Object-C","link":"/categories/Object-C/"},{"name":"Backetball","slug":"Backetball","link":"/categories/Backetball/"},{"name":"Icarus","slug":"Hexo/Icarus","link":"/categories/Hexo/Icarus/"},{"name":"Gaia","slug":"BenQ/Gaia","link":"/categories/BenQ/Gaia/"},{"name":"Visual Studio","slug":"SQL/Visual-Studio","link":"/categories/SQL/Visual-Studio/"},{"name":"SSO","slug":"Google/SSO","link":"/categories/Google/SSO/"},{"name":"ITG","slug":"Qisda/ITG","link":"/categories/Qisda/ITG/"}]}